\chapter{การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}และ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม{\wbr}พื้นฐาน}
\label{chapter:analysis}

ใน{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}อย่าง{\wbr}ละเอียด{\wbr}ขึ้น{\wbr}
พร้อมกับ{\wbr}แนะนำ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม (abstract data type) พื้นฐาน{\wbr}บาง{\wbr}ชนิด{\wbr}
ซึ่ง{\wbr}ใน{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์\footnote{ใน{\wbr}หนังสือ{\wbr}เล่ม{\wbr}นี้ เรา{\wbr}จงใจ{\wbr}ทับศัพท์{\wbr}คำ{\wbr}ว่า implement
  ด้วย ``อิม{\wbr}พลี{\wbr}เมนท์'' และ implementation ด้วย ``อิมพลี{\wbr}เมน{\wbr}เท{\wbr}ชัน''
  เนื่องจาก{\wbr}ไม่{\wbr}มี{\wbr}คำ{\wbr}ภาษาไทย{\wbr}ที่{\wbr}มี{\wbr}ความหมาย{\wbr}ตรง{\wbr}กับ{\wbr}คำ{\wbr}ดังกล่าว{\wbr}ใน{\wbr}ความหมาย{\wbr}ที่{\wbr}เรา{\wbr}ใช้}ด้วย{\wbr}อาร์เรย์{\wbr}และ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}

\section{การ{\wbr}วิเคราะห์{\wbr}เชิง{\wbr}เส้น{\wbr}กำกับ}
ใน{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}ข้อจำกัด{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}ดังกล่าว{\wbr}
และ{\wbr}ทำ{\wbr}ความ{\wbr}เข้าใจ{\wbr}กับ{\wbr}เทคนิค{\wbr}การ{\wbr}วิเคราะห์{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}ใช้{\wbr}ต่อไป{\wbr}ตลอด{\wbr}ใน{\wbr}หนังสือ{\wbr}เล่ม{\wbr}นี้{\wbr}

\subsection{ความ{\wbr}แม่นยำ{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์}
จาก{\wbr}ตัวอย่าง{\wbr}การ{\wbr}วิเคราะห์{\wbr}ใน{\wbr}บท{\wbr}ที่~\ref{chapter:arrays}
เรา{\wbr}ได้{\wbr}วิเคราะห์{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม~\ref{alg:array-sum2} โดย{\wbr}สมมติ{\wbr}ให้{\wbr}ทุก ๆ
คำสั่ง{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา{\wbr}เท่า{\wbr}กัน{\wbr}คือ 1 หน่วย เรา{\wbr}ได้{\wbr}ว่า{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา $2n+2$
หน่วย{\wbr}

ผล $2n+2$ ที่{\wbr}ได้{\wbr}จาก{\wbr}การ{\wbr}วิเคราะห์{\wbr}นั้น มี{\wbr}ความ{\wbr}แม่นยำ{\wbr}เพียงใด?
แน่นอน{\wbr}ว่า{\wbr}ข้อสมมติ{\wbr}ว่า{\wbr}ทุก{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา{\wbr}เท่า{\wbr}กัน{\wbr}นั้น{\wbr}ไม่{\wbr}เป็น{\wbr}ความจริง{\wbr}
ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}ลอง{\wbr}ปรับ{\wbr}การ{\wbr}วิเคราะห์{\wbr}โดย{\wbr}สมมติ{\wbr}ค่าคงที่ $c_1,c_2,c_3,$ และ $c_4$
เป็น{\wbr}เวลา{\wbr}ที่{\wbr}แต่ละ{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}เป็น{\wbr}มิ{\wbr}ลลิ{\wbr}วินาที  ดัง{\wbr}แสดง{\wbr}ด้าน{\wbr}ล่าง{\wbr}

\begin{algt}
\noindent \hspace*{0.2in} ให้ $x\leftarrow 0$   \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_1$ มิ{\wbr}ลลิ{\wbr}วินาที ทำงาน{\wbr}รวม 1 ครั้ง\\
\hspace*{0.2in} พิจารณา ตัวแปร $i\leftarrow 0,1,\ldots,n-1$  \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_2$ มิ{\wbr}ลลิ{\wbr}วินาที ทำงาน{\wbr}รวม $n$ ครั้ง\\
\hspace*{0.2in}\hspace*{0.2in} ให้ $x \leftarrow x + A[i]$  \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_3$ มิ{\wbr}ลลิ{\wbr}วินาที ทำงาน{\wbr}รวม $n$ ครั้ง\\
\hspace*{0.2in} คืน{\wbr}ค่า $x$ เป็น{\wbr}คำตอบ  \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_4$ มิ{\wbr}ลลิ{\wbr}วินาที ทำงาน{\wbr}รวม 1 ครั้ง{\wbr}
\end{algt}

เมื่อ{\wbr}เรา{\wbr}วิเคราะห์{\wbr}โดย{\wbr}ละเอียด{\wbr}แล้ว เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เป็น{\wbr}มิ{\wbr}ลลิ{\wbr}วินาที{\wbr}คือ 
\[
c_1 + c_2\cdot n + c_3\cdot n + c_4 = c_1+c_4 + (c_3+c_4)n
\]

ถ้า{\wbr}เรา{\wbr}ประมวลผล{\wbr}กับ{\wbr}ข้อมูล{\wbr}จำนวน 100 ตัว (นั่น{\wbr}คือ $n=100$) ตัวแปร{\wbr}ทั้ง 4
ก็{\wbr}ทำ{\wbr}ให้{\wbr}ได้{\wbr}เวลา{\wbr}ใน{\wbr}การ{\wbr}ประมวลผล{\wbr}ที่{\wbr}แตกต่าง{\wbr}กัน{\wbr}มากมาย{\wbr}
ดัง{\wbr}ตาราง{\wbr}ใน{\wbr}รูป~\ref{fig:analysis-many-runtimes}

\begin{figure}
\begin{center}
\begin{tabular}{|c|r|r|r|r|r|c|}
\hline
กรณี & $c_1$ & $c_2$ & $c_3$ & $c_4$ & เวลา (มิ{\wbr}ลลิ{\wbr}วินาที) & เวลา{\wbr}ประมาณ (ที่{\wbr}เข้าใจ{\wbr}ง่าย{\wbr}ขึ้น) \\
\hline
1& 1	& 1	& 1	& 1	& 202 & 0.2 วินาที\\
2& 100	& 1 	& 1	& 1	& 301 & 0.3 วินาที\\
3& 10,000	& 1	& 1	& 1	& 10,201 & 10 วินาที \\ 
4& 100	& 1	& 1	& 100,000	& 100,300 & 2 นาที\\
5& 100	& 1,000	& 10,000	& 100	& 1,100,200 & 18 นาที \\
6& 1	& 20,000	& 1	& 100	& 2,000,201 & ครึ่ง{\wbr}ชัว{\wbr}โมง \\
7& 10	& 10	& 100,000	& 100,000	& 10,101,010 & สาม{\wbr}ชั่วโมง \\
\hline
\end{tabular}
\end{center}
\caption{เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}หลากหลาย{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}เมื่อ $n=100$}
\label{fig:analysis-many-runtimes}
\end{figure}

จาก{\wbr}นิพจน์{\wbr}ง่าย ๆ $2n+2$ เมื่อ{\wbr}เรา{\wbr}พยายาม{\wbr}ใส่{\wbr}รายละเอียด{\wbr}แล้ว{\wbr}คำนวณ{\wbr}เป็น{\wbr}เวลา{\wbr}
กลับกลาย{\wbr}เป็น{\wbr}เวลา{\wbr}ที่{\wbr}แตกต่าง{\wbr}กัน{\wbr}ได้{\wbr}มากมาย เมื่อ{\wbr}เรา{\wbr}ปรับ{\wbr}ค่า{\wbr}สมมติ{\wbr}ให้{\wbr}เป็น{\wbr}ค่า{\wbr}ต่าง ๆ
แน่นอน{\wbr}ว่า{\wbr}หลาย ๆ กรณี{\wbr}ใน{\wbr}ตาราง{\wbr}อาจ{\wbr}จะ{\wbr}เป็น{\wbr}กรณี{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ไม่{\wbr}ได้{\wbr}จริง ๆ
แต่{\wbr}ถ้า{\wbr}เรา{\wbr}ตั้งใจ{\wbr}จะ{\wbr}สมมติ{\wbr}และ{\wbr}ละทิ้ง{\wbr}รายละเอียด{\wbr}บาง{\wbr}อย่าง{\wbr}แล้ว{\wbr}
เรา{\wbr}ก็{\wbr}ต้อง{\wbr}เตรียม{\wbr}ตัวรับ{\wbr}ผล{\wbr}ความ{\wbr}คลาดเคลื่อน{\wbr}ที่อยู่{\wbr}ใน{\wbr}กรอบ{\wbr}ของ{\wbr}การ{\wbr}สมมติ{\wbr}ของ{\wbr}เรา{\wbr}เช่นเดียวกัน{\wbr}

แม้{\wbr}ตัวอย่าง{\wbr}จะ{\wbr}เป็น{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ง่าย ๆ
ผล{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}แทบ{\wbr}จะ{\wbr}บอก{\wbr}อะไร{\wbr}เกี่ยวกับ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}สำหรับ{\wbr}ค่า $n$
คงที่{\wbr}ค่า{\wbr}หนึ่ง{\wbr}ไม่{\wbr}ได้{\wbr}เลย เพราะ{\wbr}ความ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}นำ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ไป{\wbr}ใช้{\wbr}งาน{\wbr}
รวม{\wbr}ถึง{\wbr}ภาษา{\wbr}โปรแกรม{\wbr}ที่{\wbr}เขียน{\wbr}

อย่างไรก็ตาม ค่าคงที่ $c_1,\ldots,c_4$ นั้น ไม่{\wbr}เปลี่ยนแปลง{\wbr}
ถ้า{\wbr}เรา{\wbr}ไม่{\wbr}เปลี่ยน{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}ที่{\wbr}ใช้{\wbr}งาน ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}แทน{\wbr}ค่า{\wbr}เวลา{\wbr}ที่{\wbr}คำนวณ{\wbr}ได้ กับ{\wbr}ค่า{\wbr}
$n$ ต่าง ๆ กัน{\wbr}แทน เรา{\wbr}จะ{\wbr}ได้{\wbr}ผล{\wbr}ดัง{\wbr}ตาราง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:analysis-runtimes-by-n}

\begin{figure}
{\small
\begin{center}
\begin{tabular}{|c|r|r|r|r|r|r|r|}
\hline
กรณี & 100 & 200 & 400	& 1,000	& 10,000	& 100,000	& 1,000,000\\ \hline
1& 202	&402	&802	&2,002	&20,002	&200,002	&2,000,002\\
2& 301	&501	&901	&2,101	&20,101	&200,101	&2,000,101\\
3& 10,201	&10,401	&10,801	&12,001	&30,001	&210,001	&2,010,001\\
4& 100,300	&100,500	&100,900	&102,100	&120,100	&300,100	&2,100,100\\
5& 1,100,200	&2,200,200	&4,400,200	&11,000,200	&110,000,200    &1,100,000,200	&11,000,000,200\\
6& 2,000,201	&4,000,301	&8,000,501	&20,001,101	&200,010,101    &2,000,100,101	&20,001,000,101\\
7& 10,101,010	&20,102,010	&40,104,010	&100,110,010	&1,000,200,010	&10,001,100,010	&100,010,100,010\\
\hline
\end{tabular}
\end{center}
}
\caption{เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ใน{\wbr}แต่ละ{\wbr}กรณี{\wbr}เมื่อ{\wbr}ปรับ{\wbr}ค่า $n$}
\label{fig:analysis-runtimes-by-n}
\end{figure}

ถ้า{\wbr}เรา{\wbr}สังเกต{\wbr}ค่า{\wbr}ใน{\wbr}ตาราง{\wbr}ให้{\wbr}ดี เรา{\wbr}จะ{\wbr}เห็น{\wbr}แนวโน้ม{\wbr}บาง{\wbr}อย่าง{\wbr}
สังเกต{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}ค่า{\wbr}ใน{\wbr}ทุก ๆ มี{\wbr}ลักษณะ{\wbr}คล้าย{\wbr}กัน เพื่อให้{\wbr}เห็น{\wbr}ค่า{\wbr}ชัดเจน{\wbr}
เรา{\wbr}จะ{\wbr}คำนวณ{\wbr}อัตราส่วน{\wbr}ของ{\wbr}ค่า{\wbr}ใน{\wbr}แต่ละ{\wbr}คอลัมน์{\wbr}กับ{\wbr}ค่า{\wbr}ใน{\wbr}คอลัมน์{\wbr}ก่อนหน้า{\wbr}
เรา{\wbr}จะ{\wbr}ได้{\wbr}ตาราง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:analysis-runtimes-by-n-div}

\begin{figure}
{\small
\begin{center}
\begin{tabular}{|c|r|r|r|r|r|r|r|}
\hline
กรณี & 200 & 400	& 1,000	& 10,000	& 100,000	& 1,000,000\\ \hline
อัตรา{\wbr}การ{\wbr}เปลี่ยน{\wbr}ของ $n$ & 2.000	&2.000	&2.500	&10.000	&10.000	&10.000\\ \hline
1& 1.990	&1.995	&2.496	&9.991	&9.999	&10.000\\
2& 1.664	&1.798	&2.332	&9.567	&9.955	&9.995\\
3& 1.020	&1.038	&1.111	&2.500	&7.000	&9.571\\
4& 1.002	&1.004	&1.012	&1.176	&2.499	&6.998\\
5& 2.000	&2.000	&2.500	&10.000	&10.000	&10.000\\
6& 2.000	&2.000	&2.500	&10.000	&10.000	&10.000\\
7& 1.990	&1.995	&2.496	&9.991	&9.999	&10.000\\
\hline
\end{tabular}
\end{center}
}
\caption{อัตราส่วน{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}ปรับ{\wbr}ค่า $n$ เทียบ{\wbr}กับ{\wbr}การ{\wbr}เปลี่ยน{\wbr}ค่า $n$}
\label{fig:analysis-runtimes-by-n-div}
\end{figure}

สังเกต{\wbr}ว่า{\wbr}ใน{\wbr}ทุก ๆ แถว การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เวลา{\wbr}ใกล้เคียง{\wbr}กับ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ $n$
ยกเว้น{\wbr}แถว{\wbr}ที่ 4 ที่{\wbr}นิพจน์{\wbr}ของ{\wbr}เวลา{\wbr}คือ $2n + 10001$ มิ{\wbr}ลลิ{\wbr}วินาที อย่างไรก็ตาม ถ้า{\wbr}เรา{\wbr}เพิ่ม{\wbr}ค่า{\wbr}
$n$ มาก{\wbr}ขึ้น{\wbr}เรื่อย ๆ ความ{\wbr}แตกต่าง{\wbr}ดังกล่าว{\wbr}ก็{\wbr}จะ{\wbr}ค่อย ๆ ลด{\wbr}ลง{\wbr}

\begin{quiz}{ค่า $n$ ที่{\wbr}มาก{\wbr}พอ}
ให้{\wbr}คำนวณ{\wbr}หา{\wbr}ค่า $n$ ที่{\wbr}ทำ{\wbr}ให้{\wbr}อัตราส่วน{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ใน{\wbr}กรณี{\wbr}ที่ 4 เมื่อ{\wbr}ข้อมูล{\wbr}มี{\wbr}จำนวน $n$
กับ{\wbr}เมื่อ{\wbr}กรณี{\wbr}ที่{\wbr}ข้อมูล{\wbr}มี $2n$ มี{\wbr}ค่า{\wbr}มาก{\wbr}กว่า $1.99$ (นั่น{\wbr}คือ{\wbr}ใกล้เคียง{\wbr}กับ{\wbr}อัตราส่วน $2n/n = 2$)
\end{quiz}

จาก{\wbr}การ{\wbr}ทดลอง{\wbr}แทน{\wbr}ค่า{\wbr}ดังกล่าว เรา{\wbr}พบ{\wbr}ว่า{\wbr}จาก{\wbr}นิพจน์ $2n+2$ ที่{\wbr}เรา{\wbr}วิเคราะห์{\wbr}ไป ส่วน{\wbr}ที่{\wbr}ใช้ได้{\wbr}จริง{\wbr}
ๆ คือ{\wbr}พจน์ $n$ เท่านั้น  

นอกจาก{\wbr}ความ{\wbr}แตกต่าง{\wbr}ด้าน{\wbr}ค่าคงที่{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ระหว่าง{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}ต่าง{\wbr}
ๆ แล้ว การ{\wbr}วิเคราะห์{\wbr}ของ{\wbr}เรา{\wbr}ที่{\wbr}ผ่าน{\wbr}มา{\wbr}ยัง{\wbr}ไม่{\wbr}ได้{\wbr}พิจารณา{\wbr}ผล{\wbr}ที่{\wbr}เกิด{\wbr}จาก{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}แต่อย่างใด{\wbr}
เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}เพิ่ม{\wbr}ความ{\wbr}ละเอียด{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}โดย{\wbr}พิจารณา{\wbr}ไป{\wbr}ถึง{\wbr}โปรแกรม{\wbr}ที่{\wbr}เขียน{\wbr}เป็น{\wbr}ภาษา{\wbr}
C++ ดัง{\wbr}ด้าน{\wbr}ล่าง{\wbr}

\latintext
\begin{codelist}{C++}{}
int x = 0;
for(int i = 0; i < n; ++i)
  x += A[i];
return x;
\end{codelist}
\thaitext

ถ้า{\wbr}เรา{\wbr}ต้องการ{\wbr}จะ{\wbr}นับ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}จริง ๆ เรา{\wbr}จะ{\wbr}พบ{\wbr}ว่า{\wbr}คำสั่ง {\ct for} จริง ๆ แล้ว{\wbr}
จะ{\wbr}ทำงาน{\wbr}รวม $n+1$ ครั้ง แทน{\wbr}ที่{\wbr}จะ{\wbr}เป็น $n$ ครั้ง{\wbr}
เนื่องจาก{\wbr}ใน{\wbr}รอบ{\wbr}สุดท้าย{\wbr}จะ{\wbr}ต้อง{\wbr}มี{\wbr}การ{\wbr}เปรียบเทียบ{\wbr}ค่า {\ct i} กับ {\ct n} อีก{\wbr}หนึ่ง{\wbr}ครั้ง{\wbr}
ดังนั้น{\wbr}ถ้า{\wbr}เรา{\wbr}สมมติ{\wbr}ให้{\wbr}ทุก{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}ด้วย{\wbr}เวลา{\wbr}ที่{\wbr}เท่า{\wbr}กัน{\wbr}เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}เรา{\wbr}เปลี่ยน{\wbr}ไป{\wbr}เป็น{\wbr}
$2n+3$ หรือ{\wbr}ถ้า{\wbr}เรา{\wbr}พิจารณา{\wbr}ละเอียด{\wbr}ขึ้น{\wbr}อีก เรา{\wbr}จะ{\wbr}พบ{\wbr}ว่า{\wbr}คำสั่ง {\ct for} จริง ๆ แล้ว{\wbr}
ประกอบ{\wbr}ด้วย{\wbr}คำสั่ง{\wbr}ย่อย ๆ อีก 3 คำสั่ง คำสั่ง{\wbr}แรก{\wbr}ที่{\wbr}กำหนด{\wbr}ค่า{\wbr}เริ่มต้น{\wbr}ให้{\wbr}กับ {\ct i} ทำงาน{\wbr}แค่{\wbr}
1 ครั้ง คำสั่ง{\wbr}เปรียบเทียบ{\wbr}ทำงาน $n$ ครั้ง และ{\wbr}คำสั่ง{\wbr}ปรับ{\wbr}ค่า{\wbr}ทำงาน $n-1$ ครั้ง{\wbr}
ถ้า{\wbr}เรา{\wbr}คิด{\wbr}รวม{\wbr}คำสั่ง{\wbr}เหล่านี้{\wbr}ไป{\wbr}ด้วย เวลา{\wbr}ที่{\wbr}ได้{\wbr}จาก{\wbr}การ{\wbr}วิเคราะห์{\wbr}ของ{\wbr}เรา{\wbr}จะ{\wbr}เป็น $3n+3$
หรือ{\wbr}ถ้า{\wbr}เรา{\wbr}พยายาม{\wbr}คิด{\wbr}เวลา{\wbr}ของ{\wbr}แต่ละ{\wbr}คำสั่ง{\wbr}เพิ่มเติม{\wbr}เข้า{\wbr}ไป เรา{\wbr}จะ{\wbr}ต้อง{\wbr}สมมติ{\wbr}ตัวแปร{\wbr}เพิ่ม{\wbr}อีก 3
ตัว{\wbr}และ{\wbr}จะ{\wbr}ทำ{\wbr}ให้การ{\wbr}คำนวณ{\wbr}ต่าง ๆ ยุ่งยาก{\wbr}มาก{\wbr}ขึ้น{\wbr}

อย่างไรก็ตาม ไม่ว่า{\wbr}เรา{\wbr}จะ{\wbr}วิเคราะห์{\wbr}ได้ $2n+2$, $2n+3$, หรือ $3n+3$ หรือ{\wbr}จะ{\wbr}เป็น{\wbr}
$c_1+c_4 + (c_3+c_4)n$ ก็ตาม เมื่อ{\wbr}เรา{\wbr}ไม่{\wbr}ทราบ{\wbr}ค่าคงที่{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ต่าง ๆ
ที่{\wbr}ขึ้น{\wbr}กับ{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}และ{\wbr}สถานะ{\wbr}ต่าง ๆ ของ{\wbr}เครื่องใน{\wbr}เวลา{\wbr}นั้น{\wbr}
ความ{\wbr}แม่นยำ{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}เพิ่ม{\wbr}ขึ้น{\wbr}มา{\wbr}นั้น{\wbr}
ก็{\wbr}ไม่{\wbr}ได้{\wbr}ทำ{\wbr}ให้{\wbr}เรา{\wbr}ทำนาย{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ได้{\wbr}แม่นยำ{\wbr}ขึ้น{\wbr}แต่อย่างใด{\wbr}
จาก{\wbr}การ{\wbr}ทดลอง{\wbr}แทน{\wbr}ค่า{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}ทำ{\wbr}มา ทุก ๆ นิพจน์{\wbr}แสดง{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ที่{\wbr}เรา{\wbr}วิเคราะห์{\wbr}ได้{\wbr}นั้น{\wbr}
มี{\wbr}ความหมาย{\wbr}ไม่{\wbr}ต่าง{\wbr}จาก $n$
ใน{\wbr}แง่{\wbr}ของ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}ขนาด{\wbr}ข้อมูล{\wbr}เพิ่ม{\wbr}ขึ้น นั่น{\wbr}คือ{\wbr}
ถ้า{\wbr}ขนาด{\wbr}ของ{\wbr}ข้อมูล{\wbr}เพิ่ม{\wbr}ขึ้น $c$ เท่า เวลา{\wbr}ที่{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}ก็{\wbr}จะ{\wbr}เพิ่ม{\wbr}ขึ้น{\wbr}ประมาณ $c$
เท่า{\wbr}ด้วย{\wbr}เช่นกัน{\wbr}

\subsubsection{หาคู่{\wbr}ข้อมูล}
เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}วิเคราะห์{\wbr}อีก{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}หนึ่ง{\wbr}เพื่อ{\wbr}ยืนยัน{\wbr}ความ{\wbr}เชื่อ{\wbr}นี้{\wbr}

พิจารณา{\wbr}ปัญหา{\wbr}ต่อไปนี้ ให้{\wbr}อาร์เรย์ $A$ ที่{\wbr}มี{\wbr}ข้อมูล{\wbr}เป็น{\wbr}จำนวนเต็ม $n$ ตัว{\wbr}
ต้องการ{\wbr}ทราบ{\wbr}ว่า{\wbr}มี{\wbr}ข้อมูล{\wbr}คู่{\wbr}ใด ๆ ใน $A$ ที่{\wbr}บวก{\wbr}กัน{\wbr}แล้ว{\wbr}ได้{\wbr}ผลลัพธ์{\wbr}เท่า{\wbr}กับ $K$ หรือ{\wbr}ไม่?
ใน{\wbr}ปัญหา{\wbr}นี้{\wbr}เรา{\wbr}ต้องการ{\wbr}ทดสอบ{\wbr}ว่า{\wbr}มี{\wbr}หรือ{\wbr}ไม่{\wbr}มี{\wbr}เท่านั้น{\wbr}

\begin{quiz}{}
ก่อน{\wbr}จะ{\wbr}อ่าน{\wbr}ต่อ ให้{\wbr}ลอง{\wbr}เขียน{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}แก้{\wbr}ปัญหา{\wbr}ดังกล่าว{\wbr}
\end{quiz}

พิจารณา{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ด้าน{\wbr}ล่าง{\wbr}

\begin{algt}
\noindent {\bf ตรวจสอบ{\wbr}ว่า{\wbr}มี{\wbr}ข้อมูล{\wbr}สอง{\wbr}ตัว{\wbr}ใน{\wbr}อาร์เรย์ $A$ ที่{\wbr}มี{\wbr}ข้อมูล $n$ ตัว ที่{\wbr}บวก{\wbr}กัน{\wbr}มี{\wbr}ผลรวม{\wbr}เท่า{\wbr}กับ $K$ หรือ{\wbr}ไม่}\\
\hspace*{0.2in} พิจารณา ตัวแปร $i\leftarrow 0,1,\ldots,n-2$\\
\hspace*{0.2in}\hspace*{0.2in} พิจารณา ตัวแปร $j\leftarrow i+1,i+2,\ldots,n-1$\\
\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} ถ้า $A[i] + A[j] = K$ แล้ว\\
\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} ตอบ{\wbr}ว่า YES แล้ว{\wbr}จบ{\wbr}การ{\wbr}ทำงาน\\
\hspace*{0.2in} ตอบ{\wbr}ว่า NO
\end{algt}

สังเกต{\wbr}ว่า{\wbr}เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ขึ้น{\wbr}กับ{\wbr}ข้อมูล{\wbr}นำเข้า สมมติ{\wbr}ว่า $A[0]$ และ $A[1]$
บวก{\wbr}กัน{\wbr}ได้{\wbr}ผลลัพธ์{\wbr}เท่า{\wbr}กับ $K$ พอดี อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ก็{\wbr}จะ{\wbr}ใช้เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}น้อย{\wbr}มาก{\wbr}
การ{\wbr}วิเคราะห์{\wbr}ดังกล่าว{\wbr}นี้{\wbr}เป็น{\wbr}การ{\wbr}วิเคราะห์{\wbr}ใน{\wbr}กรณี{\wbr}ที่{\wbr}ดี{\wbr}ที่สุด (best case)

อย่างไรก็ตาม อย่าง{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}กล่าว{\wbr}ไว้{\wbr}ใน{\wbr}บท{\wbr}ที่~\ref{chapter:arrays}
เรา{\wbr}มักจะ{\wbr}สนใจ{\wbr}ใน{\wbr}กรณี{\wbr}ที่{\wbr}แย่{\wbr}ที่สุด ซึ่ง{\wbr}ใน{\wbr}กรณี{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}นี้{\wbr}
เกิด{\wbr}ขึ้น{\wbr}เมื่อ{\wbr}ไม่{\wbr}มี{\wbr}ข้อมูล{\wbr}คู่{\wbr}ใด{\wbr}ที่{\wbr}รวม{\wbr}กัน{\wbr}ได้{\wbr}ผลรวม{\wbr}เท่า{\wbr}กับ $K$ เลย{\wbr}
(สังเกต{\wbr}ว่า{\wbr}เรา{\wbr}ได้{\wbr}ข้อสรุป{\wbr}นี้{\wbr}เพราะ{\wbr}เรา{\wbr}เชื่อ{\wbr}ว่า คำสั่ง{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 4
จะ{\wbr}ทำงาน{\wbr}ไม่{\wbr}นาน{\wbr}ไป{\wbr}กว่า{\wbr}คำสั่ง{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 5 ที่{\wbr}เป็น{\wbr}คำสั่ง{\wbr}คืน{\wbr}ค่า{\wbr}เหมือน{\wbr}กัน) 

ใน{\wbr}กรณี{\wbr}นี้ เรา{\wbr}จะ{\wbr}มา{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}
โดย{\wbr}สมมติ{\wbr}ให้{\wbr}ทุก{\wbr}คำสั่ง{\wbr}ใช้เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน 1 ครั้ง{\wbr}เท่า{\wbr}กัน{\wbr}
การ{\wbr}วิเคราะห์{\wbr}ใน{\wbr}บรรทัด{\wbr}แรก{\wbr}กับ{\wbr}บรรทัด{\wbr}สุดท้าย นั้น{\wbr}ไม่{\wbr}ยาก กล่าวคือ บรรทัด{\wbr}แรก{\wbr}ทำงาน{\wbr}รวม{\wbr}ทั้งสิ้น{\wbr}
$n-1$ ครั้ง และ{\wbr}บรรทัด{\wbr}สุดท้าย{\wbr}ทำงาน $1$ ครั้ง{\wbr}

สำหรับ{\wbr}การ{\wbr}วงรอบ{\wbr}รอบ{\wbr}ใน (ตัวแปร $j$)
เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}แทน{\wbr}ค่า{\wbr}ดู{\wbr}เพื่อ{\wbr}ทำ{\wbr}ความ{\wbr}เข้าใจ{\wbr}กับ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}นี้{\wbr}ก่อน ใน{\wbr}รอบ{\wbr}แรก{\wbr}ที่ $i=0$ ตัวแปร $j$
จะ{\wbr}มี{\wbr}ค่า{\wbr}ตั้งแต่ $1$ ถึง $n-1$ นั่น{\wbr}คือ{\wbr}วงรอบ{\wbr}นี้{\wbr}ทำงาน $n-1$ รอบ ใน{\wbr}รอบ{\wbr}ที่{\wbr}สอง{\wbr}ที่ $i=1$
ตัวแปร $j$ จะ{\wbr}มี{\wbr}ค่า{\wbr}ตั้งแต่ $2$ ถึง $n-1$ นั่น{\wbr}คือ{\wbr}ทำงาน $n-2$ รอบ{\wbr}
อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}จะ{\wbr}ทำงาน{\wbr}เช่นนี้{\wbr}ไป{\wbr}เรื่อย ๆ จนกระทั่ง $i=n-2$ ตัวแปร $j$ จะ{\wbr}มี{\wbr}ค่า{\wbr}เดียว{\wbr}คือ $n-1$
ถ้า{\wbr}เรา{\wbr}นับ{\wbr}รวม{\wbr}จำนวน{\wbr}รอบ{\wbr}ทั้งหมด เรา{\wbr}จะ{\wbr}ได้{\wbr}เท่า{\wbr}กับ{\wbr}
\[
(n-1) + (n-2) + (n-3) +\cdots+1 = n(n-1)/2
\]
นั่น{\wbr}คือ บรรทัด{\wbr}ที่ 2 ทำงาน{\wbr}ทั้งสิ้น $n(n-1)/2$ รอบ ใน{\wbr}แต่ละ{\wbr}รอบ{\wbr}ที่ทำงาน{\wbr}
การ{\wbr}ตรวจสอบ{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 3 จะ{\wbr}ทำงาน 1 ครั้ง ดังนั้น{\wbr}เรา{\wbr}ก็{\wbr}จะ{\wbr}สามารถ{\wbr}สรุป{\wbr}ได้{\wbr}เช่นเดียวกัน{\wbr}ว่า{\wbr}
คำสั่ง{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 3 ก็{\wbr}ทำงาน $n(n-1)/2$ ครั้ง เช่นเดียวกัน{\wbr}

เมื่อ{\wbr}รวม{\wbr}ทั้งหมด เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}ถ้า{\wbr}ทุก ๆ คำสั่ง{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา 1 หน่วย{\wbr}เท่า{\wbr}กัน{\wbr}หมด อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}จะ{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา{\wbr}
\[
(n-1) + n(n-1)/2 + n(n-1)/2 + 1 = n + n(n-1) = n^2
\]
หน่วย{\wbr}

เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}ใส่{\wbr}รายละเอียด{\wbr}เพิ่มเติม{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เช่นเดียวกับ{\wbr}ใน{\wbr}กรณี{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม~\ref{algo:array-sum2}
อย่างไรก็ตาม เพื่อ{\wbr}ความ{\wbr}กระชับ{\wbr}เรา{\wbr}จะ{\wbr}ไม่{\wbr}กำหนด{\wbr}ให้{\wbr}ทุก{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}ต่าง{\wbr}กัน{\wbr}หมด{\wbr}
แต่{\wbr}จะ{\wbr}กำหนด{\wbr}ให้{\wbr}เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}คำสั่ง{\wbr}ที่{\wbr}คล้าย{\wbr}กัน{\wbr}เท่า{\wbr}กัน{\wbr}

\begin{algt}
\noindent \hspace*{0.2in} พิจารณา ตัวแปร $i\leftarrow 0,1,\ldots,n-2$   \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_1$ มิ{\wbr}ลลิ{\wbr}วินาที\\
\hspace*{0.2in}\hspace*{0.2in} พิจารณา ตัวแปร $j\leftarrow i+1,i+2,\ldots,n-1$   \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_1$ มิ{\wbr}ลลิ{\wbr}วินาที\\
\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} ถ้า $A[i] + A[j] = K$ แล้ว   \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_2$ มิ{\wbr}ลลิ{\wbr}วินาที\\
\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} ตอบ{\wbr}ว่า YES แล้ว{\wbr}จบ{\wbr}การ{\wbr}ทำงาน   \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_3$ มิ{\wbr}ลลิ{\wbr}วินาที\\
\hspace*{0.2in} ตอบ{\wbr}ว่า NO   \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_3$ มิ{\wbr}ลลิ{\wbr}วินาที{\wbr}
\end{algt}

เมื่อ{\wbr}เพิ่ม{\wbr}ค่าคงที่{\wbr}ดังกล่าว{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์ เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}คือ{\wbr}
\begin{eqnarray*}
c_1\cdot(n-1) + c_1\cdot n(n-1)/2 + c_2\cdot n(n-1)/2 + c_3 
&=& c_1\cdot(n-1)(n+2)/2 + c_2\cdot n(n-1)/2 + c_3\\
&=& 
\left(\frac{c_1}{2} + \frac{c_2}{2}\right)n^2 +
\left(\frac{c_1}{2} - \frac{c_2}{2}\right)n + c_3
\end{eqnarray*}

เรา{\wbr}ทดลอง{\wbr}เปลี่ยน{\wbr}ค่า{\wbr}ของ $c_1,c_2$ และ $c_3$ พร้อม ๆ
กับ{\wbr}ดู{\wbr}แนวโน้ม{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}ที่{\wbr}เปลี่ยน{\wbr}ไป{\wbr}เมื่อ $n$ มี{\wbr}ค่า{\wbr}เป็น 100, 200, 400, 800, 1,600,
16,000, และ 160,000 ตาม{\wbr}ลำดับ{\wbr}
ผล{\wbr}ที่{\wbr}ได้{\wbr}แสดง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:analysis-runtimes-by-n-2}
เรา{\wbr}ได้{\wbr}เปรียบเทียบ{\wbr}อัตราส่วน{\wbr}ของ{\wbr}ค่า{\wbr}ใน{\wbr}คอลัมน์{\wbr}ติด{\wbr}กัน{\wbr}และ{\wbr}แสดง{\wbr}พร้อม{\wbr}อัตราส่วน{\wbr}ของ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}ค่า{\wbr}
$n$ และ $n^2$ ใน{\wbr}ตาราง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:analysis-runtimes-by-n-2-div}

\begin{figure}
{\small
\begin{center}
\begin{tabular}{|r|r|r|r|r|r|r|r|r|r|}
\hline
\multicolumn{3}{|c|}{} & \multicolumn{7}{c|}{$n$}\\
\hline
c1 & c2 & c3 & 100 & 200 & 400 & 800 & 1,600 & 16,000 & 160,000\\
\hline
1 & 1 & 1 & 10,001 & 40,001 & 160,001 & 640,001 & 2,560,001 & $256\times 10^6$ & $25600\times 10^6$ \\
0.1 & 0.1 & 100,000 & 101,000 & 104,000 & 116,000 & 164,000 & 356,000 & $25.7\times 10^6$ & $2560\times 10^6$ \\
0.1 & 10 & 1 & 50,006 & 201,011 & 806,021 & 3,228,041 & 12,920,081 & $1292\times 10^6$ & $129279\times 10^6$ \\
100 & 0.1 & 100,000 & 605,495 & 2,111,990 & 8,127,980 & 32,171,960 & 128,307,920 & $12813\times 10^6$ & $1281288\times 10^6$ \\

\hline
\end{tabular}
\end{center}
}
\caption{เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ใน{\wbr}แต่ละ{\wbr}ชุด{\wbr}ของ{\wbr}ค่าคงที่{\wbr}เมื่อ{\wbr}ปรับ{\wbr}ค่า $n$}
\label{fig:analysis-runtimes-by-n-2}
\end{figure}

\begin{figure}
{\small
\begin{center}
\begin{tabular}{|c|r|r|r|r|r|r|}
\hline
กรณี & 200 & 400 & 800 & 1,600 & 16,000 & 160,000\\
\hline
$n$ & 2.000 & 2.000 & 2.000 & 2.000 & 10.000 & 10.000\\
$n^2$ & 4.000 & 4.000 & 4.000 & 4.000 & 100.000 & 100.000\\
1 & 4.000 & 4.000 & 4.000 & 4.000 & 100.000 & 100.000\\
2 & 1.030 & 1.115 & 1.414 & 2.171 & 72.191 & 99.615\\
3 & 4.020 & 4.010 & 4.005 & 4.002 & 100.055 & 100.006\\
4 & 3.488 & 3.848 & 3.958 & 3.988 & 99.867 & 99.994\\
\hline
\end{tabular}
\end{center}
}
\caption{อัตราส่วน{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}ปรับ{\wbr}ค่า $n$ เทียบ{\wbr}กับ{\wbr}การ{\wbr}เปลี่ยน{\wbr}ค่า $n$}
\label{fig:analysis-runtimes-by-n-2-div}
\end{figure}

สังเกต{\wbr}ว่า{\wbr}ใน{\wbr}กรณี{\wbr}นี้ อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}
จะ{\wbr}ใกล้เคียง{\wbr}กับ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}ฟังก์ชัน $n^2$ แทน{\wbr}ที่{\wbr}จะ{\wbr}เป็น $n$ เหมือน{\wbr}กับ{\wbr}ใน{\wbr}กรณี{\wbr}ก่อน{\wbr}

\begin{quiz}{}
ทำไม{\wbr}ใน{\wbr}กรณี{\wbr}นี้{\wbr}อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}คล้าย{\wbr}กับ $n^2$ มาก{\wbr}กว่า $n$?
\end{quiz}

ดังนั้น สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}แน่นอน{\wbr}จาก{\wbr}การ{\wbr}วิเคราะห์ แทน{\wbr}ที่{\wbr}จะ{\wbr}เป็น{\wbr}เวลา{\wbr}ที่{\wbr}สามารถ{\wbr}ประมาณ{\wbr}ได้{\wbr}
กลับ{\wbr}เป็น{\wbr}ข้อมูล{\wbr}ของ{\wbr}อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}
ใน{\wbr}กรณี{\wbr}นี้{\wbr}เรา{\wbr}ทราบ{\wbr}ว่า{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}เทียบ{\wbr}กับ{\wbr}ขนาด{\wbr}ของ{\wbr}ข้อมูล แปรผัน{\wbr}ใกล้เคียง{\wbr}กับ{\wbr}ฟังก์ชัน{\wbr}
$n^2$

การ{\wbr}ที่{\wbr}วิธีการ{\wbr}นี้{\wbr}ใช้เวลา{\wbr}แปรผัน{\wbr}กับ{\wbr}ขนาด{\wbr}ข้อมูล{\wbr}เป็น $n^2$ หมายความ{\wbr}ว่า ถ้า{\wbr}ข้อมูล{\wbr}มี{\wbr}ขนาด{\wbr}ใหญ่{\wbr}มาก{\wbr}
ๆ อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ดังกล่าว{\wbr}จะ{\wbr}ใช้เวลา{\wbr}มาก{\wbr}ขึ้น{\wbr}ไป{\wbr}ด้วย{\wbr}
และ{\wbr}อาจ{\wbr}จะ{\wbr}ใช้เวลา{\wbr}นาน{\wbr}เกิน{\wbr}กว่า{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}รอ{\wbr}ผลลัพธ์{\wbr}ได้ (เช่น นาน{\wbr}หลาย{\wbr}ปี)
เมื่อ{\wbr}เรา{\wbr}ศึกษา{\wbr}เทคนิค{\wbr}การ{\wbr}ค้น{\wbr}ข้อมูล{\wbr}มาก{\wbr}ขึ้น{\wbr}แล้ว{\wbr}
เรา{\wbr}จะ{\wbr}สามารถ{\wbr}แก้{\wbr}ปัญหา{\wbr}นี้{\wbr}ได้{\wbr}โดย{\wbr}ใช้เวลา{\wbr}ที่{\wbr}แปรผัน{\wbr}ไม่{\wbr}ต่าง{\wbr}จาก{\wbr}ฟังก์ชัน $n$ มาก{\wbr}นัก{\wbr}

จาก{\wbr}ตัวอย่าง{\wbr}ที่{\wbr}กล่าว{\wbr}มา{\wbr}แล้ว เรา{\wbr}พบ{\wbr}ว่า{\wbr}แม้ว่า{\wbr}เรา{\wbr}จะ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เป็น{\wbr}ได้ $2n+2$,
$2n+3$, $3n+3$ สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}สามารถ{\wbr}กล่าว{\wbr}ได้{\wbr}อย่าง{\wbr}ชัดเจน{\wbr}เกี่ยวกับ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}
ก็{\wbr}คือ{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}มี{\wbr}อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}เหมือน{\wbr}กับ{\wbr}ฟังก์ชัน $n$ และ{\wbr}ใน{\wbr}ตัวอย่าง{\wbr}นี้{\wbr}
ไม่ว่า{\wbr}เรา{\wbr}จะ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}แบบ{\wbr}คร่าว ๆ ได้{\wbr}เป็น $n^2$
หรือ{\wbr}จะ{\wbr}พยายาม{\wbr}วิเคราะห์{\wbr}ให้{\wbr}ละเอียด{\wbr}ขึ้น{\wbr}เป็น $\left(\frac{c_1}{2} +
\frac{c_2}{2}\right)n^2 + \left(\frac{c_1}{2} - \frac{c_2}{2}\right)n
+ c_3$
สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}รู้{\wbr}อย่าง{\wbr}ชัดเจน{\wbr}จาก{\wbr}การ{\wbr}วิเคราะห์{\wbr}ก็{\wbr}คือ{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}มี{\wbr}ลักษณะ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}เหมือน{\wbr}กับ{\wbr}ฟังก์ชัน{\wbr}
$n^2$

อย่างไรก็ตาม สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}กล่าว{\wbr}มา{\wbr}นั้น{\wbr}ยัง{\wbr}ไม่{\wbr}ชัดเจน{\wbr}ทาง{\wbr}คณิตศาสตร์{\wbr}มาก{\wbr}พอ แม้ว่า{\wbr}เรา{\wbr}จะ{\wbr}พอ{\wbr}นึก{\wbr}ภาพ{\wbr}ได้{\wbr}
แต่{\wbr}เรา{\wbr}ยัง{\wbr}ไม่{\wbr}สามารถ{\wbr}กล่าว{\wbr}อย่าง{\wbr}ชัดเจน{\wbr}ว่า{\wbr}
เมื่อ{\wbr}เรา{\wbr}กล่าว{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}หนึ่ง{\wbr}มี{\wbr}อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}เหมือน{\wbr}กับ{\wbr}อีก{\wbr}ฟังก์ชัน{\wbr}หนึ่ง{\wbr}
แท้จริง{\wbr}แล้ว{\wbr}มี{\wbr}ความหมาย{\wbr}อย่างไร ใน{\wbr}ส่วน~\ref{sect:analysis-big-o-definition}
เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}นิยาม{\wbr}เกี่ยวกับ{\wbr}อัตรา{\wbr}การ{\wbr}โต{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}จะ{\wbr}ทำ{\wbr}ให้{\wbr}เรา{\wbr}กล่าว{\wbr}ถึง{\wbr}แนว{\wbr}คิด{\wbr}นี้{\wbr}ได้{\wbr}อย่าง{\wbr}เป็น{\wbr}รูปแบบ{\wbr}

ใน{\wbr}ส่วน{\wbr}ที่{\wbr}เหลือ{\wbr}นี้ เรา{\wbr}จะ{\wbr}ยก{\wbr}ตัวอย่าง{\wbr}ความ{\wbr}คลาดเคลื่อน{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}
ที่{\wbr}เป็น{\wbr}ผล{\wbr}จาก{\wbr}สถาปัตยกรรม{\wbr}ของ{\wbr}คอมพิวเตอร์{\wbr}ที่{\wbr}โปรแกรม{\wbr}ทำงาน{\wbr}

\subsubsection{ตัวอย่าง: ผล{\wbr}จาก{\wbr}การ{\wbr}เปลี่ยน{\wbr}รูปแบบ{\wbr}การ{\wbr}อ่าน{\wbr}ค่า{\wbr}ใน{\wbr}หน่วยความจำ}

พิจารณา{\wbr}ฟังก์ชัน{\wbr}สอง{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}คำนวณ{\wbr}ผลรวม{\wbr}ของ{\wbr}ข้อมูล{\wbr}ใน{\wbr}อาร์เรย์{\wbr}สอง{\wbr}มิติ{\wbr}
ใน{\wbr}โปรแกรม~\ref{code:analysis-example-caching-effect}

\begin{figure}
\latintext
\begin{codelist}{C++}{caption={\thaitext ฟังก์ชัน {\ct calA} และ {\ct calB} ที่{\wbr}คำนวณ{\wbr}ผลรวม{\wbr}ของ{\wbr}ข้อมูล{\wbr}ใน{\wbr}อาร์เรย์{\wbr}สอง{\wbr}มิติ\latintext},label=code:analysis-example-caching-effect}
int calA()
{
  int x = 0;
  for(int i = 0; i < n; ++i)
    for(int j = 0; j < n; ++j)
      x += ar[i][j];
  return x;
}
int calB()
{
  int x = 0;
  for(int j = 0; j < n; ++j)
    for(int i = 0; i < n; ++i)
      x += ar[i][j];
  return x;
}
\end{codelist}
\thaitext
\end{figure}

\begin{quiz}{}
ฟังก์ชัน {\ct calA} กับ {\ct calB} ต่าง{\wbr}กัน{\wbr}อย่างไร?  เมื่อ{\wbr}นำ{\wbr}ไป{\wbr}ทำงาน{\wbr}
เวลา{\wbr}ที่{\wbr}ใช้{\wbr}ทำงาน{\wbr}จะ{\wbr}แตกต่าง{\wbr}กัน{\wbr}หรือ{\wbr}ไม่?  ถ้า{\wbr}คิด{\wbr}ว่า{\wbr}แตกต่าง{\wbr}ฟังก์ชัน{\wbr}ใด{\wbr}น่าจะ{\wbr}ทำงาน{\wbr}เร็ว{\wbr}กว่า{\wbr}
ทำไม{\wbr}ถึง{\wbr}น่าจะ{\wbr}เป็น{\wbr}เช่นนั้น?
\end{quiz}

เมื่อ{\wbr}นำ{\wbr}ฟังก์ชัน{\wbr}ไป{\wbr}ทดลอง เนื่องจาก{\wbr}ต้อง{\wbr}มี{\wbr}การ{\wbr}กำหนด{\wbr}ค่า{\wbr}เริ่มต้น{\wbr}ให้{\wbr}กับ{\wbr}อาร์เรย์
เรา{\wbr}จึง{\wbr}ให้{\wbr}โปรแกรม{\wbr}กำหนด{\wbr}ค่า{\wbr}เริ่มต้น{\wbr}ให้{\wbr}อาร์เรย์ จากนั้น{\wbr}เรียก{\wbr}ฟังก์ชัน{\wbr}ดังกล่าว 10 รอบ{\wbr}
เพื่อ{\wbr}ลด{\wbr}ผล{\wbr}ของ{\wbr}เวลา{\wbr}จาก{\wbr}การ{\wbr}กำหนด{\wbr}ค่า{\wbr}เริ่มต้น{\wbr}

ค่าเฉลี่ย{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน เมื่อ {\ct n} มี{\wbr}ค่า{\wbr}เท่า{\wbr}กับ 10,000 ของ{\wbr}โปรแกรม{\wbr}ที่{\wbr}ใช้{\wbr}ฟังก์ชัน{\wbr}
{\ct calA} คือ 4.55 วินาที ใน{\wbr}ขณะที่{\wbr}โปรแกรม{\wbr}ที่{\wbr}ใช้{\wbr}ฟังก์ชัน {\ct calB} คือ 11.54 วินาที{\wbr}
คิด{\wbr}เป็น{\wbr}ประมาณ 2.5 เท่า{\wbr}ของ{\wbr}เวลา{\wbr}ของ{\wbr}โปรแกรม{\wbr}ที่{\wbr}ใช้{\wbr}ฟังก์ชัน {\ct calA}

ความ{\wbr}แตกต่าง{\wbr}ดังกล่าว เกิด{\wbr}ขึ้น{\wbr}เนื่องจาก{\wbr}รูปแบบ{\wbr}ของ{\wbr}การ{\wbr}อ่าน{\wbr}ข้อมูล{\wbr}ใน{\wbr}หน่วยความจำ{\wbr}ที่{\wbr}ต่าง{\wbr}กัน{\wbr}
มี{\wbr}ผล{\wbr}ต่อ{\wbr}ประสิทธิภาพ{\wbr}ของ{\wbr}ระบบ{\wbr}หน่วยความจำ (ใน{\wbr}ที่นี้{\wbr}คือ{\wbr}ระบบ cache)
ซึ่ง{\wbr}การ{\wbr}ที่{\wbr}จะ{\wbr}วิเคราะห์{\wbr}ให้{\wbr}ละเอียด{\wbr}ระดับ{\wbr}นี้{\wbr}ได้{\wbr}
จะ{\wbr}ต้อง{\wbr}ใช้{\wbr}ข้อมูล{\wbr}และ{\wbr}ความ{\wbr}รู้{\wbr}เกี่ยวกับ{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}ที่{\wbr}จะ{\wbr}นำ{\wbr}โปรแกรม{\wbr}ไป{\wbr}ทำงาน{\wbr}
และ{\wbr}การ{\wbr}ปรับ{\wbr}โปรแกรม{\wbr}ให้{\wbr}ทำงาน{\wbr}ได้{\wbr}ดี{\wbr}ใน{\wbr}ลักษณะ{\wbr}นี้ แม้{\wbr}จะ{\wbr}เป็น{\wbr}งาน{\wbr}เชิง{\wbr}วิศวกรรม{\wbr}ที่{\wbr}น่า{\wbr}สนใจ{\wbr}
แต่{\wbr}ก็{\wbr}อยู่{\wbr}นอก{\wbr}ขอบเขต{\wbr}ของ{\wbr}หนังสือ{\wbr}เล่ม{\wbr}นี้{\wbr}

สังเกต{\wbr}ว่า ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้{\wbr}วิธี{\wbr}ที่{\wbr}เรา{\wbr}กล่าว{\wbr}มา{\wbr}แล้ว{\wbr}
เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}ทั้ง{\wbr}สอง{\wbr}ฟังก์ชัน{\wbr}จะ{\wbr}มี{\wbr}ค่า{\wbr}เท่า{\wbr}กัน แต่{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}งาน{\wbr}จริง กลับ{\wbr}แตกต่าง{\wbr}กัน{\wbr}มาก{\wbr}
ฟังก์ชัน{\wbr}ดังกล่าว{\wbr}เป็น{\wbr}ตัวอย่าง{\wbr}หนึ่ง{\wbr}ของ{\wbr}ความ{\wbr}คลาดเคลื่อน{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}
ที่{\wbr}เป็น{\wbr}ผล{\wbr}มา{\wbr}จาก{\wbr}สถาปัตยกรรม{\wbr}ของ{\wbr}คอมพิวเตอร์{\wbr}และ{\wbr}รูปแบบ{\wbr}การ{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}ของ{\wbr}ภาษา{\wbr}โปรแกรม{\wbr}ที่{\wbr}ใช้{\wbr}

\subsection{สัญกรณ์โอ{\wbr}ใหญ่ (Big-O)}
\label{sect:analysis-big-o-definition}

เป้าหมาย{\wbr}หลัก{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}
นอกจาก{\wbr}เพื่อ{\wbr}จะ{\wbr}พิจารณา{\wbr}ความ{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ที่{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}จะ{\wbr}มี{\wbr}ประสิทธิภาพ{\wbr}พอ{\wbr}แล้ว{\wbr}
ยัง{\wbr}ทำ{\wbr}ไป{\wbr}เพื่อ{\wbr}เลือก{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}เหมาะสม{\wbr}ที่สุด{\wbr}ที่{\wbr}จะ{\wbr}นำมา{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}
ดังนั้น{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เรา{\wbr}ต้องการ{\wbr}ให้{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}มี{\wbr}ประสิทธิภาพ{\wbr}แตกต่าง{\wbr}กัน{\wbr}
มี{\wbr}เวลา{\wbr}ที่{\wbr}วิเคราะห์{\wbr}ได้{\wbr}แตกต่าง{\wbr}กัน{\wbr}และ{\wbr}สามารถ{\wbr}เปรียบเทียบ{\wbr}กัน{\wbr}ได้{\wbr}

\begin{quiz}{}
จาก{\wbr}ฟังก์ชัน{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}วิเคราะห์{\wbr}ได้{\wbr}ด้าน{\wbr}ล่าง{\wbr}
พิจารณา{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}ใด{\wbr}เปรียบเทียบ{\wbr}กัน{\wbr}ได้{\wbr}อย่าง{\wbr}มี{\wbr}ความหมาย{\wbr}ใน{\wbr}แง่{\wbr}ของ{\wbr}ประสิทธิภาพ{\wbr}
\[
2n, \ \ \ \ n^3 + 4n, \ \ \ \ 10n^2, \ \ \ \ 0.5n + 100, \ \ \ \ 3n^2 + 1000n
\]
\end{quiz}

จาก{\wbr}ตัวอย่าง{\wbr}ใน{\wbr}เนื้อหา{\wbr}ส่วน{\wbr}ที่แล้ว เรา{\wbr}พบ{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}เรา{\wbr}วิเคราะห์{\wbr}ได้{\wbr}นั้น{\wbr}
ค่าคงที่{\wbr}ที่{\wbr}ติด{\wbr}มา{\wbr}ใน{\wbr}นิพจน์{\wbr}นั้น{\wbr}ไม่{\wbr}มี{\wbr}ผล{\wbr}ชัดเจน{\wbr}ใน{\wbr}การ{\wbr}ระบุ{\wbr}ความ{\wbr}เร็ว{\wbr}หรือ{\wbr}ช้า{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม นอกจากนี้{\wbr}
ถ้า{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}ได้{\wbr}มี{\wbr}หลาย{\wbr}พจน์ พจน์{\wbr}ที่{\wbr}มี{\wbr}กำลัง{\wbr}ต่ำ{\wbr}กว่า{\wbr}จะ{\wbr}มี{\wbr}ผล{\wbr}ใน{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}น้อย{\wbr}ลง{\wbr}
ถ้า{\wbr}ข้อมูล{\wbr}มี{\wbr}ขนาด{\wbr}ใหญ่{\wbr}ขึ้น{\wbr}เรื่อย ๆ จาก{\wbr}ข้อสังเกต{\wbr}ทั้ง{\wbr}สอง{\wbr}
ใน{\wbr}การ{\wbr}เปรียบเทียบ{\wbr}เรา{\wbr}สามารถ{\wbr}ตัด{\wbr}ส่วน{\wbr}ของ{\wbr}นิพจน์{\wbr}ที่{\wbr}ไม่{\wbr}สำคัญ{\wbr}ออก{\wbr}ได้{\wbr}
โดย{\wbr}ฟังก์ชัน{\wbr}ตัวอย่าง{\wbr}ใน{\wbr}คำถาม{\wbr}ข้างต้น เมื่อ{\wbr}ตัด{\wbr}ค่าคงที่{\wbr}และ{\wbr}พจน์{\wbr}ที่{\wbr}มี{\wbr}กำลัง{\wbr}ต่ำ{\wbr}ออก{\wbr}ไป{\wbr}แล้ว{\wbr}
จะ{\wbr}เป็น{\wbr}ดัง{\wbr}ด้าน{\wbr}ล่าง{\wbr}
\[
n, \ \ \ \ n^3, \ \ \ \ n^2, \ \ \ \ n, \ \ \ \ n^2
\]
ซึ่ง{\wbr}ฟังก์ชัน{\wbr}เหล่านี้{\wbr}จะ{\wbr}บอก{\wbr}แนวโน้ม{\wbr}ของ{\wbr}การ{\wbr}โต{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}

ก่อน{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}เสนอ{\wbr}นิยาม{\wbr}ของ{\wbr}การ{\wbr}โต{\wbr}อย่าง{\wbr}เป็นทางการ เรา{\wbr}จำเป็น{\wbr}ต้อง{\wbr}ย้ำ{\wbr}อีก{\wbr}ที{\wbr}ว่า{\wbr}
การ{\wbr}ที่{\wbr}เรา{\wbr}ละทิ้ง{\wbr}หรือ{\wbr}ตัด{\wbr}ค่าคงที่{\wbr}ออก{\wbr}ไป{\wbr}นั้น{\wbr}ไม่{\wbr}ได้{\wbr}หมายความ{\wbr}ว่า{\wbr}ค่าคงที่{\wbr}ต่าง ๆ
ไม่{\wbr}มี{\wbr}ผล{\wbr}ต่อ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน หลาย ๆ อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}วิเคราะห์{\wbr}ออก{\wbr}มา{\wbr}พบ{\wbr}ว่า{\wbr}ประสิทธิภาพ{\wbr}ดี{\wbr}
แต่{\wbr}เมื่อ{\wbr}ทำงาน{\wbr}จริง{\wbr}กลับ{\wbr}ช้า{\wbr}กว่า{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}วิเคราะห์{\wbr}ออก{\wbr}มา{\wbr}ได้{\wbr}ว่า{\wbr}มี{\wbr}ประสิทธิภาพ{\wbr}ต่ำ{\wbr}กว่า{\wbr}
ทั้งนี้{\wbr}เนื่องจาก{\wbr}ค่าคงที่{\wbr}ต่าง ๆ ที่{\wbr}ผู้{\wbr}วิเคราะห์{\wbr}ได้{\wbr}ละทิ้ง{\wbr}ออก{\wbr}จาก{\wbr}การ{\wbr}พิจารณา{\wbr}
ทั้งนี้{\wbr}โดยมาก{\wbr}เป็น{\wbr}เพราะว่า{\wbr}ขนาด{\wbr}ของ{\wbr}ข้อมูล{\wbr}ป้อน{\wbr}เข้า{\wbr}มี{\wbr}ขนาด{\wbr}ไม่{\wbr}ใหญ่{\wbr}พอ{\wbr}
ที่{\wbr}ผล{\wbr}ของ{\wbr}อัตรา{\wbr}การ{\wbr}โต{\wbr}จะ{\wbr}ชนะ{\wbr}ผล{\wbr}ของ{\wbr}ค่าคงที่ เรา{\wbr}จะ{\wbr}ได้{\wbr}เห็น{\wbr}ตัวอย่าง{\wbr}ที่{\wbr}ชัดเจน{\wbr}ขึ้น{\wbr}ต่อไป{\wbr}

\begin{quiz}{}
พิจารณา{\wbr}คู่{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}ต่อไปนี้ ให้{\wbr}หา{\wbr}ค่า $n$ ที่{\wbr}รับประกัน{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}แรก{\wbr}จะ{\wbr}มี{\wbr}ค่า{\wbr}น้อย{\wbr}กว่า{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}สอง{\wbr}
(1) $10000$ กับ $n$, \ \ (2) $1000n$ กับ $n^2$, \ \ (3) $5000n$ กับ $2n^2 -
100n$, \ \ และ (4) $10000n$ กับ $0.01n^3$
\end{quiz}

ใน{\wbr}การ{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}บอก{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}หนึ่ง มี{\wbr}ขอบเขต{\wbr}บน{\wbr}ของ{\wbr}การ{\wbr}โต{\wbr}เป็น{\wbr}อะไร{\wbr}เรา{\wbr}จะ{\wbr}ใช้{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่{\wbr}
(big-O notation) โดย{\wbr}ตัวอย่าง{\wbr}ของ{\wbr}การ{\wbr}ใช้{\wbr}สัญกรณ์{\wbr}ดัง{\wbr}กล่า่ว เช่น $n^2 + 100n$ เป็น{\wbr}
$O(n^2)$ หรือ $30n + 5$ เป็น $O(n)$ 

เรา{\wbr}จะ{\wbr}หา{\wbr}คำ{\wbr}นิยาม{\wbr}ที่{\wbr}สะท้อน{\wbr}สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}ทดลอง{\wbr}มา{\wbr}ใน{\wbr}การ{\wbr}ที่{\wbr}จะ{\wbr}ระบุ{\wbr}ว่า{\wbr}ฟังก์ชัน $f(n)$ เป็น{\wbr}
$O(g(n))$ (หรือ{\wbr}มี{\wbr}อัตรา{\wbr}การ{\wbr}โต{\wbr}ไม่{\wbr}เกิน{\wbr}ฟังก์ชัน $g(n)$)
\begin{itemize}
\item ข้อสังเกต{\wbr}ข้อ{\wbr}แรก{\wbr}ก็{\wbr}คือ ค่าคงที่{\wbr}ไม่{\wbr}มี{\wbr}ผล นั่น{\wbr}คือ{\wbr}ฟังก์ชัน $100n$ หรือ $1000n$ หรือ{\wbr}กระทั่ง{\wbr}
  $0.0001n$ ก็{\wbr}เป็น $O(n)$ เหมือน{\wbr}กัน ดังนั้น{\wbr}ใน{\wbr}การ{\wbr}จะ{\wbr}กล่าว{\wbr}ว่า $f(n)$ เป็น $O(g(n))$
  เรา{\wbr}ต้อง{\wbr}ยอม{\wbr}ให้{\wbr}มี{\wbr}การ{\wbr}ใช้{\wbr}ค่าคงที่{\wbr}มา ``ช่วย'' ฟังก์ชัน $g(n)$
  ให้{\wbr}มี{\wbr}ค่า{\wbr}มาก{\wbr}ขึ้น{\wbr}จน{\wbr}เปรียบเทียบ{\wbr}กับ $f(n)$ ได้{\wbr}
\item ข้อสังเกต{\wbr}ข้อ{\wbr}ที่{\wbr}สอง{\wbr}คือ พจน์{\wbr}ที่{\wbr}มี{\wbr}กำลัง{\wbr}ต่ำ ๆ จะ{\wbr}ไม่{\wbr}มี{\wbr}ผล{\wbr}
  การ{\wbr}ที่{\wbr}จะ{\wbr}ทำ{\wbr}ให้{\wbr}พจน์{\wbr}ดังกล่าว{\wbr}ลด{\wbr}ความ{\wbr}สำคัญ{\wbr}ลง{\wbr}ไป{\wbr}นั้น เรา{\wbr}จะ{\wbr}ต้อง{\wbr}วิเคราะห์{\wbr}ฟังก์ชัน{\wbr}เมื่อ $n$
  มี{\wbr}ค่า{\wbr}มาก~ๆ เพื่อให้{\wbr}พจน์{\wbr}ที่{\wbr}สำคัญ{\wbr}น้อย{\wbr}มี{\wbr}ผล{\wbr}ต่อ{\wbr}ค่า{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}ลด{\wbr}ลง{\wbr}
\end{itemize}

\begin{quiz}{ทดลอง{\wbr}สร้าง{\wbr}คำ{\wbr}นิยาม}
จาก{\wbr}ข้อสังเกต{\wbr}สอง{\wbr}ข้อ{\wbr}ข้างต้น ทดลอง{\wbr}เขียน{\wbr}คำ{\wbr}นิยาม{\wbr}ของ{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่: \\
เรา{\wbr}จะ{\wbr}กล่าว{\wbr}ว่า $f(n)$ เป็น $O(g(n))$ เมื่อ ...................
\end{quiz}

พิจารณา{\wbr}กรณี{\wbr}ที่{\wbr}เรา{\wbr}ต้องการ{\wbr}แสดง{\wbr}ว่า $3n+100$ เป็น $O(n)$ (นั่น{\wbr}คือ{\wbr}ใน{\wbr}ที่นี้ $f(n)=3n+100$
และ $g(n)=n$ และ{\wbr}เรา{\wbr}ต้องการ{\wbr}แสดง{\wbr}ว่า $f(n)$ เป็น $O(g(n))$) สังเกต{\wbr}ว่า{\wbr}
\[
3n + 100 > n,
\]
สำหรับ{\wbr}ทุก ๆ $n\geq 0$ ดังนั้น{\wbr}เรา{\wbr}จำเป็น{\wbr}จะ{\wbr}ต้อง{\wbr}เพิ่ม{\wbr}ค่าคงที่{\wbr}ให้{\wbr}กับ{\wbr}ฟังก์ชัน $g(n)$
อย่างไรก็ตาม{\wbr}ถ้า{\wbr}เรา{\wbr}คูณ $g(n)$ ด้วย 3 ก็{\wbr}ยัง{\wbr}ไม่{\wbr}เพียงพอ{\wbr}เพราะว่า{\wbr}
\[
3n + 100 > 3\cdot n,
\]
อยู่{\wbr}ดี  ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}คูณ $g(n)$ ด้วย 4  อย่างไรก็ตาม อสมการ{\wbr}
\[
3n + 100 \leq 4\cdot n
\]
ก็{\wbr}ยัง{\wbr}ไม่{\wbr}เป็นจริง{\wbr}สำหรับ{\wbr}ทุก ๆ ค่า $n$ ที่มา{\wbr}กก{\wbr}ว่า{\wbr}หรือ{\wbr}เท่า{\wbr}กับ{\wbr}ศูนย์{\wbr}

\begin{quiz}{ขีดจำกัด{\wbr}ล่าง}
ค่า $n$ จะ{\wbr}ต้อง{\wbr}มี{\wbr}ค่า{\wbr}อย่าง{\wbr}น้อย{\wbr}เท่าใด อสมการ $3n+100\leq 4n$ จึง{\wbr}จะ{\wbr}เป็นจริง?
\end{quiz}

จาก{\wbr}ตัวอย่าง{\wbr}ข้างต้น เรา{\wbr}ใช้{\wbr}ค่าคงที่{\wbr}สอง{\wbr}ตัว{\wbr}คือ $c$ เป็น{\wbr}ค่าคงที่{\wbr}สำหรับ{\wbr}เป็น{\wbr}ตัวคูณ{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}
$g(n)$ และ $n_0$ เพื่อ{\wbr}ระบุ{\wbr}ขอบเขต{\wbr}ล่าง{\wbr}ของ{\wbr}ขนาด{\wbr}ข้อมูล{\wbr}ที่{\wbr}เรา{\wbr}สนใจ{\wbr}
เรา{\wbr}จะ{\wbr}นิยาม{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่{\wbr}อย่าง{\wbr}เป็นทางการ{\wbr}ดังนี้:

เรา{\wbr}จะ{\wbr}กล่าว{\wbr}ว่า{\wbr}ฟังก์ชัน $f(n)$ เป็น $O(g(n))$ ก็{\wbr}ต่อเมื่อ มี{\wbr}ค่าคงที่ $c$ และ $n_0$ ที่{\wbr}
$f(n) \leq c\cdot g(n)$ เมื่อ $n\geq n_0$

ใน{\wbr}กรณี{\wbr}ดังกล่าว บาง{\wbr}ครั้ง{\wbr}เรา{\wbr}ก็{\wbr}จะ{\wbr}กล่าว{\wbr}ว่า $f(n)$ มี{\wbr}การ{\wbr}โต{\wbr}เป็น $O(g(n))$ หรือ{\wbr}เขียน{\wbr}ว่า{\wbr}
$f(n)=O(g(n))$ ซึ่ง{\wbr}ใน{\wbr}กรณี{\wbr}หลัง{\wbr}นี้ เครื่องหมาย{\wbr}เท่า{\wbr}กับ{\wbr}ที่{\wbr}ใช้ ไม่{\wbr}ได้{\wbr}มี{\wbr}ความหมาย{\wbr}ว่า{\wbr}เท่า{\wbr}กัน{\wbr}
แต่{\wbr}เป็น{\wbr}การ{\wbr}บิด{\wbr}สัญกรณ์{\wbr}เท่า{\wbr}กับ{\wbr}ให้{\wbr}เป็น{\wbr}ความหมาย{\wbr}ตาม{\wbr}ที่{\wbr}เรา{\wbr}นิยาม{\wbr}มา{\wbr}แล้ว\footnote{ซึ่ง{\wbr}ถ้า{\wbr}จะ{\wbr}ให้{\wbr}ถูกต้อง{\wbr}ตาม{\wbr}นิยาม{\wbr}จริง{\wbr}
  ๆ เรา{\wbr}จะ{\wbr}ต้อง{\wbr}นิยาม{\wbr}สัญกรณ์ $O(\cdot)$ ว่า{\wbr}เป็น{\wbr}เซต{\wbr}ของ{\wbr}ฟังก์ชัน แล้ว{\wbr}ใช้{\wbr}เครื่องหมาย $\in$
  แทน{\wbr}เครื่องหมาย{\wbr}เท่า{\wbr}กับ เช่น เรา{\wbr}จะ{\wbr}เขียน{\wbr}ว่า $3n+100\in O(n)$ แทน{\wbr}ที่{\wbr}จะ{\wbr}เขียน{\wbr}
  $3n+100=O(n)$
  แต่{\wbr}ใน{\wbr}หนังสือ{\wbr}เล่ม{\wbr}นี้{\wbr}เรา{\wbr}ยินดี{\wbr}จะ{\wbr}บิด{\wbr}พ{\wbr}ริ้ว{\wbr}นิยาม{\wbr}ของ{\wbr}สัญกรณ์{\wbr}เท่า{\wbr}กับ{\wbr}เพื่อ{\wbr}ความ{\wbr}เรียบ{\wbr}ง่าย}

สำหรับ{\wbr}ตัวอย่าง{\wbr}ข้างต้น{\wbr}ที่{\wbr}เรา{\wbr}แสดง{\wbr}ว่า $3n+100$ เป็น $O(n)$ นั้น เรา{\wbr}ใช้ $c=4$ และ{\wbr}
$n_0$ ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ก็{\wbr}คือ 100 อย่างไรก็ตาม เรา{\wbr}สามารถ{\wbr}เลือก{\wbr}คู่{\wbr}ของ{\wbr}ค่าคงที่ $c$ และ $n_0$
แบบ{\wbr}อื่น ๆ ได้{\wbr}อีก เช่น ถ้า{\wbr}เรา{\wbr}ให้ $c=13$ เรา{\wbr}อาจ{\wbr}ใช้ $n_0=10$ ก็{\wbr}เพียงพอ เพราะว่า{\wbr}
\[
3n+100 \leq 13n
\]
เมื่อ $n\leq 10 = n_0$

\begin{quiz}{ฟังก์ชัน{\wbr}กำลัง{\wbr}สอง}
จง{\wbr}แสดง{\wbr}ว่า $5n^2 + 100n + 1000$ เป็น $O(n^2)$
\end{quiz}

\begin{quiz}{ฟังก์ชัน{\wbr}ที่{\wbr}ใหญ่{\wbr}กว่า}
จง{\wbr}แสดง{\wbr}ว่า $100n + 1000$ เป็น $O(n^2)$
\end{quiz}

สำหรับ{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}เป็น{\wbr}ฟังก์ชัน{\wbr}พหุ{\wbr}นาม{\wbr}
เรา{\wbr}มี{\wbr}วิธีการ{\wbr}ที่{\wbr}จะ{\wbr}ระบุ{\wbr}การ{\wbr}โต{\wbr}ได้{\wbr}โดย{\wbr}พิจารณา{\wbr}พจน์{\wbr}ที่{\wbr}มี{\wbr}กำลัง{\wbr}มาก{\wbr}ที่สุด เรา{\wbr}จะ{\wbr}พิสูจน์{\wbr}ว่า{\wbr}วิธี{\wbr}ดังกล่าว{\wbr}ถูกต้อง{\wbr}

\begin{theorem}
สำหรับ{\wbr}ฟังก์ชัน $f(n)=a_dn^d + a_{d-1}n^{d-1} + a_{d-2}n^{d-2} +\cdots +
a_1n + a_0$ เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า $f(n)=O(n^d)$
\end{theorem}
\begin{proof}
สังเกต{\wbr}ว่า{\wbr}พจน์{\wbr}ที่{\wbr}มี{\wbr}สัมประสิทธิ์{\wbr}เป็น{\wbr}ลบ จะ{\wbr}ไม่{\wbr}มี{\wbr}ผล{\wbr}ใน{\wbr}การ{\wbr}เปรียบเทียบ{\wbr}กับ $c\cdot n^d$
ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}ตัด{\wbr}ออก{\wbr}ไป โดย{\wbr}พิจารณา{\wbr}อีก{\wbr}ฟังก์ชัน{\wbr}หนึ่ง{\wbr}ที่{\wbr}ทุก{\wbr}สัมประสิทธิ์{\wbr}ไม่{\wbr}เป็น{\wbr}ลบ{\wbr}

นิยาม{\wbr}ฟังก์ชัน $f'(n)$ โดย{\wbr}ให้ $f'(n)=\sum_{i=0}^{d} a'_i n^i$ เมื่อ{\wbr}
$a'_i=\max\{a_i,0\}$ สังเกต{\wbr}ว่า $f(n)\leq f'(n)$ เมื่อ $n \geq 0$ เสมอ{\wbr}

เรา{\wbr}ต้อง{\wbr}เพิ่ม{\wbr}สัมประสิทธิ์{\wbr}ให้{\wbr}กับ $n^d$ เพื่อ{\wbr}จะ{\wbr}ให้{\wbr}ฟังก์ชัน{\wbr}นี้{\wbr}ใหญ่{\wbr}กว่า{\wbr}ทุก ๆ พจน์ สังเกต{\wbr}ว่า{\wbr}
\[
a'_i n^i \leq a'_i n^d
\]
เมื่อ $n\geq 0$, นั่น{\wbr}คือ{\wbr}
\begin{eqnarray*}
a'_d n^d + a'_{d-1}n^{d-1} +\cdots + a'_1n + a'_0 
&\leq&
a'_d n^d + a'_{d-1}n^d +\cdots + a'_1n^d + a'_0n^d\\
&=&
\left(a'_d + a'_{d-1} +\cdots + a'_1 + a'_0\right)n^d,
\end{eqnarray*}
เมื่อ $n\geq 0$ ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}เลือก{\wbr}ให้ $n_0=0$ และ{\wbr}
\[
c = \left(a'_d + a'_{d-1} +\cdots + a'_1 + a'_0\right)
\]
เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}
\[
f(n) \leq f'(n) \leq c\cdot n^d,
\]
เมื่อ $n\geq n_0=0$, นั่น{\wbr}คือ $f(n)=O(n^d)$ ตาม{\wbr}ต้องการ{\wbr}
\end{proof}

ใน{\wbr}ส่วน{\wbr}ถัด{\wbr}ไป{\wbr}ของ{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}ได้{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}หลาย{\wbr}แบบ{\wbr}ที่{\wbr}พัฒนา{\wbr}บน{\wbr}อาร์เรย์
และ{\wbr}ใน{\wbr}ส่วน{\wbr}สุดท้าย{\wbr}เรา{\wbr}จะ{\wbr}ได้{\wbr}พิจารณา{\wbr}ตัวอย่าง{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}มี{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}อื่น ๆ

\section{แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม{\wbr}และ{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}อาร์เรย์}

แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม (abstract data types)
ระบุ{\wbr}วิธีการ{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}เข้าถึง{\wbr}และ{\wbr}จัดการ{\wbr}กับ{\wbr}ข้อมูล{\wbr}ผ่าน{\wbr}ทาง{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นั้น ๆ
โดย{\wbr}ไม่{\wbr}จำเป็น{\wbr}ต้อง{\wbr}ระบุ{\wbr}ว่า{\wbr}ขั้นตอน{\wbr}ดำเนินการ{\wbr}จริง ๆ ของ{\wbr}วิธีการ{\wbr}เหล่านั้น{\wbr}เป็น{\wbr}อย่างไร{\wbr}

ใน{\wbr}ส่วน{\wbr}ที่~\ref{sect:array-list-processing}
เรา{\wbr}ได้{\wbr}ศึกษา{\wbr}วิธีการ{\wbr}นำ{\wbr}อาร์เรย์{\wbr}ไป{\wbr}ใช้{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}ที่{\wbr}มี{\wbr}ลักษณะ{\wbr}เป็น{\wbr}รายการ ใน{\wbr}ที่นี้ เมื่อ{\wbr}เรา{\wbr}กล่าว{\wbr}ถึง{\wbr}
`{\wbr}`{\wbr}รายการ'' เรา{\wbr}จะ{\wbr}มี{\wbr}ภาพ{\wbr}อยู่{\wbr}ว่า{\wbr}เรา{\wbr}จะ{\wbr}ต้อง{\wbr}ดำเนินการ{\wbr}อะไร{\wbr}กับ{\wbr}รายการ{\wbr}ได้{\wbr}บ้าง{\wbr}
นั่น{\wbr}คือ{\wbr}วิธีการ{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}เข้าถึง{\wbr}และ{\wbr}จัดการ{\wbr}กับ{\wbr}ข้อมูล{\wbr}ใน{\wbr}รายการ ซึ่ง{\wbr}จริง ๆ แล้ว{\wbr}
เรา{\wbr}อาจ{\wbr}จะ{\wbr}ใช้{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}แบบ{\wbr}อื่น{\wbr}ใน{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ไม่{\wbr}จำเป็น{\wbr}ต้อง{\wbr}เป็น{\wbr}อาร์เรย์{\wbr}ก็ได้{\wbr}

เรา{\wbr}จะ{\wbr}เรียก{\wbr}กระบวนการ{\wbr}ทั้งหมด{\wbr}ที่{\wbr}เรา{\wbr}สามารถ{\wbr}เรียก{\wbr}ใช้{\wbr}งาน{\wbr}กับ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม{\wbr}ว่า{\wbr}อิน{\wbr}เทอร์เฟส
(interface) ของ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นั้น สำหรับ{\wbr}ข้อมูล{\wbr}แบบ{\wbr}รายการ{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}พิจารณา{\wbr}มา{\wbr}แล้ว{\wbr}
จะ{\wbr}มี{\wbr}อิน{\wbr}เทอร์เฟส{\wbr}โดย{\wbr}ทั่วไป{\wbr}ดังนี้{\wbr}

\begin{itemize}
\item Find($L$,$x$) - ค้นหา{\wbr}ข้อมูล $x$ ใน $L$ แล้ว{\wbr}คืน{\wbr}ผลลัพธ์{\wbr}เป็น{\wbr}ข้อมูล{\wbr}ที่{\wbr}ทำ{\wbr}ให้{\wbr}อ้าง{\wbr}ถึง{\wbr}
  $x$ ใน{\wbr}รายการ{\wbr}ได้ (ซึ่ง{\wbr}จะ{\wbr}ถูก{\wbr}ใช้{\wbr}ใน{\wbr}คำสั่ง Delete และ Insert ได้)
\item Append($L$,$x$) - เพิ่ม{\wbr}ข้อมูล $x$ ท้าย{\wbr}รายการ $L$
\item Delete($L$,$p$) - ลบ{\wbr}ข้อมูล{\wbr}ที่{\wbr}ถูก{\wbr}อ้าง{\wbr}ถึง{\wbr}โดย $p$
\item InsertAfter($L$,$p$,$x$) - เพิ่ม{\wbr}ข้อมูล $x$ ต่อ{\wbr}จาก{\wbr}ข้อมูล{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}โดย $p$
\end{itemize}

สังเกต{\wbr}ว่า อิน{\wbr}เทอร์เฟส{\wbr}ดังกล่าว{\wbr}
มี{\wbr}ความ{\wbr}แตกต่าง{\wbr}จาก{\wbr}รูปแบบ{\wbr}ที่{\wbr}เรา{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}ประกาศ{\wbr}ฟังก์ชัน{\wbr}ที่ทำงาน{\wbr}ดังกล่าว{\wbr}เล็กน้อย{\wbr}
ความ{\wbr}แตกต่าง{\wbr}นี้{\wbr}ไม่{\wbr}ใช่{\wbr}สิ่ง{\wbr}สลักสำคัญ{\wbr}มาก{\wbr}นัก{\wbr}เมื่อ{\wbr}เรา{\wbr}ออกแบบ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}
และ{\wbr}การ{\wbr}นำ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}ใป{\wbr}ใช้{\wbr}จริง{\wbr}ก็{\wbr}มักจะ{\wbr}ต้อง{\wbr}อ้างอิง{\wbr}กับ{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ตลอด{\wbr}อยู่{\wbr}ดี อย่างไรก็ตาม{\wbr}
ถ้า{\wbr}อิน{\wbr}เทอร์เฟส{\wbr}ของ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม{\wbr}นี้{\wbr}เหมือน{\wbr}กัน{\wbr}
ไม่ว่า{\wbr}จะ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ใด{\wbr}
ก็{\wbr}จะ{\wbr}ทำ{\wbr}ให้การ{\wbr}เปลี่ยน{\wbr}ประเภท{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ใน{\wbr}โปรแกรม{\wbr}ทำ{\wbr}ได้{\wbr}สะดวก{\wbr}
ใน{\wbr}บท{\wbr}ที่~\ref{chapter:classes} เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}วิธีการ{\wbr}พัฒนา{\wbr}โปรแกรม{\wbr}ภาษา C++
เพื่อ{\wbr}ทำ{\wbr}ให้{\wbr}บรรลุ{\wbr}จุดประสงค์{\wbr}นี้{\wbr}

ผู้อ่าน{\wbr}ที่{\wbr}สนใจ{\wbr}อาจ{\wbr}สงสัย{\wbr}ว่า{\wbr}เมื่อ{\wbr}มี InsertAfter ทำไม{\wbr}ไม่{\wbr}มี{\wbr}การ{\wbr}ระบุ{\wbr}กระบวนการ{\wbr}
\begin{itemize}
\item InsertBefore($L$,$p$,$x$) - เพิ่ม{\wbr}ข้อมูล $x$ ก่อนหน้า{\wbr}ข้อมูล{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}โดย $p$
\end{itemize}
อยู่{\wbr}ใน{\wbr}รายการ{\wbr}อิน{\wbr}เทอร์เฟส ใน{\wbr}บท{\wbr}ต่อ ๆ ไป เรา{\wbr}จะ{\wbr}พบ{\wbr}ว่า{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ที่{\wbr}จะ{\wbr}รองรับ{\wbr}ทั้ง{\wbr}
InsertAfter และ InsertBefore ได้{\wbr}พร้อม ๆ
กัน{\wbr}จะ{\wbr}ต้อง{\wbr}มี{\wbr}ภาระ{\wbr}มาก{\wbr}กว่า{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ที่{\wbr}รองรับ{\wbr}แค่{\wbr}รูปแบบ{\wbr}เดียว{\wbr}และ{\wbr}เรา{\wbr}จะ{\wbr}ได้{\wbr}พัฒนา{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ดังกล่าว{\wbr}ด้วย{\wbr}
อย่างไรก็ตาม{\wbr}ใน{\wbr}บท{\wbr}นี้ เรา{\wbr}จะ{\wbr}ยัง{\wbr}ไม่{\wbr}พิจารณา{\wbr}กระบวนการ{\wbr}ดังกล่าว{\wbr}

ตาราง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:array-running-time-list-by-array}
แสดง{\wbr}เวลา{\wbr}ที่{\wbr}เรา{\wbr}เคย{\wbr}ได้{\wbr}วิเคราะห์{\wbr}ไว้{\wbr}ใน{\wbr}รูป{\wbr}ของ{\wbr}อัตรา{\wbr}การ{\wbr}โต เมื่อ{\wbr}รายการ{\wbr}มี{\wbr}ข้อมูล $n$ จำนวน{\wbr}

\begin{figure}
\begin{center}
\begin{tabular}{|l|c|}\hline
กระบวนการ & เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}พัฒนา{\wbr}ด้วย{\wbr}อาร์เรย์ \\
\hline
Find & $O(n)$\\
Append & $O(1)$\\
Delete & $O(n)$\\
InsertAfter & $O(n)$\\
\hline
\end{tabular}
\end{center}
\caption{เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}กระบวนการ{\wbr}ต่าง ๆ ของ{\wbr}รายการ ที่{\wbr}พัฒนา{\wbr}ด้วย{\wbr}อาร์เรย์}
\label{fig:array-running-time-list-by-array}
\end{figure}

สำหรับ{\wbr}รายการ{\wbr}โดย{\wbr}ทั่วไป{\wbr}แล้ว เรา{\wbr}อาจ{\wbr}จะ{\wbr}มี{\wbr}กระบวนการ{\wbr}อื่น ๆ อีก เช่น{\wbr}
นำ{\wbr}รายการ{\wbr}ที่{\wbr}สอง{\wbr}ไป{\wbr}ต่อท้าย{\wbr}รายการ{\wbr}แรก หรือ{\wbr}นำ{\wbr}รายการ{\wbr}หนึ่ง{\wbr}ไป{\wbr}แทรก{\wbr}ภายใน{\wbr}อีก{\wbr}รายการ{\wbr}หนึ่ง  กระบวนการ{\wbr}เหล่านี้{\wbr}สามารถ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}อาร์เรย์{\wbr}ได้{\wbr}ไม่{\wbr}ยาก{\wbr}นัก และ{\wbr}โดยมาก{\wbr}จะ{\wbr}ใช้เวลา $O(n)$

\subsection{พจนานุกรม}

\section{ตัวอย่าง{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}มี{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}อื่น ๆ}
