\chapter{การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}และ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม{\wbr}พื้นฐาน}
\label{chapter:analysis}

ใน{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}อย่าง{\wbr}ละเอียด{\wbr}ขึ้น{\wbr}
พร้อมกับ{\wbr}แนะนำ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม (abstract data type) พื้นฐาน{\wbr}บาง{\wbr}ชนิด{\wbr}
ซึ่ง{\wbr}ใน{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์\footnote{ใน{\wbr}หนังสือ{\wbr}เล่ม{\wbr}นี้ เรา{\wbr}จงใจ{\wbr}ทับศัพท์{\wbr}คำ{\wbr}ว่า implement
  ด้วย ``อิม{\wbr}พลี{\wbr}เมนท์'' และ implementation ด้วย ``อิมพลี{\wbr}เมน{\wbr}เท{\wbr}ชัน''
  เนื่องจาก{\wbr}ไม่{\wbr}มี{\wbr}คำ{\wbr}ภาษาไทย{\wbr}ที่{\wbr}มี{\wbr}ความหมาย{\wbr}ตรง{\wbr}กับ{\wbr}คำ{\wbr}ดังกล่าว{\wbr}ใน{\wbr}ความหมาย{\wbr}ที่{\wbr}เรา{\wbr}ใช้}ด้วย{\wbr}อาร์เรย์{\wbr}และ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}

\section{การ{\wbr}วิเคราะห์{\wbr}เชิง{\wbr}เส้น{\wbr}กำกับ}
ใน{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}ข้อจำกัด{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}ดังกล่าว{\wbr}
และ{\wbr}ทำ{\wbr}ความ{\wbr}เข้าใจ{\wbr}กับ{\wbr}เทคนิค{\wbr}การ{\wbr}วิเคราะห์{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}ใช้{\wbr}ต่อไป{\wbr}ตลอด{\wbr}ใน{\wbr}หนังสือ{\wbr}เล่ม{\wbr}นี้{\wbr}

\subsection{ความ{\wbr}แม่นยำ{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์}
จาก{\wbr}ตัวอย่าง{\wbr}การ{\wbr}วิเคราะห์{\wbr}ใน{\wbr}บท{\wbr}ที่~\ref{chapter:arrays}
เรา{\wbr}ได้{\wbr}วิเคราะห์{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม~\ref{alg:array-sum2} โดย{\wbr}สมมติ{\wbr}ให้{\wbr}ทุก ๆ
คำสั่ง{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา{\wbr}เท่า{\wbr}กัน{\wbr}คือ 1 หน่วย เรา{\wbr}ได้{\wbr}ว่า{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา $2n+2$
หน่วย{\wbr}

ผล $2n+2$ ที่{\wbr}ได้{\wbr}จาก{\wbr}การ{\wbr}วิเคราะห์{\wbr}นั้น มี{\wbr}ความ{\wbr}แม่นยำ{\wbr}เพียงใด?
แน่นอน{\wbr}ว่า{\wbr}ข้อสมมติ{\wbr}ว่า{\wbr}ทุก{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา{\wbr}เท่า{\wbr}กัน{\wbr}นั้น{\wbr}ไม่{\wbr}เป็น{\wbr}ความจริง{\wbr}
ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}ลอง{\wbr}ปรับ{\wbr}การ{\wbr}วิเคราะห์{\wbr}โดย{\wbr}สมมติ{\wbr}ค่าคงที่ $c_1,c_2,c_3,$ และ $c_4$
เป็น{\wbr}เวลา{\wbr}ที่{\wbr}แต่ละ{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}เป็น{\wbr}มิ{\wbr}ลลิ{\wbr}วินาที  ดัง{\wbr}แสดง{\wbr}ด้าน{\wbr}ล่าง{\wbr}

\begin{algt}
\noindent \hspace*{0.2in} ให้ $x\leftarrow 0$   \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_1$ มิ{\wbr}ลลิ{\wbr}วินาที ทำงาน{\wbr}รวม 1 ครั้ง\\
\hspace*{0.2in} พิจารณา ตัวแปร $i\leftarrow 0,1,\ldots,n-1$  \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_2$ มิ{\wbr}ลลิ{\wbr}วินาที ทำงาน{\wbr}รวม $n$ ครั้ง\\
\hspace*{0.2in}\hspace*{0.2in} ให้ $x \leftarrow x + A[i]$  \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_3$ มิ{\wbr}ลลิ{\wbr}วินาที ทำงาน{\wbr}รวม $n$ ครั้ง\\
\hspace*{0.2in} คืน{\wbr}ค่า $x$ เป็น{\wbr}คำตอบ  \ \ \ \ $\rhd\rhd\rhd$ ทำงาน{\wbr}ใช้เวลา $c_4$ มิ{\wbr}ลลิ{\wbr}วินาที ทำงาน{\wbr}รวม 1 ครั้ง{\wbr}
\end{algt}

เมื่อ{\wbr}เรา{\wbr}วิเคราะห์{\wbr}โดย{\wbr}ละเอียด{\wbr}แล้ว เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เป็น{\wbr}มิ{\wbr}ลลิ{\wbr}วินาที{\wbr}คือ 
\[
c_1 + c_2\cdot n + c_3\cdot n + c_4 = c_1+c_4 + (c_3+c_4)n
\]

ถ้า{\wbr}เรา{\wbr}ประมวลผล{\wbr}กับ{\wbr}ข้อมูล{\wbr}จำนวน 100 ตัว (นั่น{\wbr}คือ $n=100$) ตัวแปร{\wbr}ทั้ง 4
ก็{\wbr}ทำ{\wbr}ให้{\wbr}ได้{\wbr}เวลา{\wbr}ใน{\wbr}การ{\wbr}ประมวลผล{\wbr}ที่{\wbr}แตกต่าง{\wbr}กัน{\wbr}มากมาย{\wbr}
ดัง{\wbr}ตาราง{\wbr}ใน{\wbr}รูป~\ref{fig:analysis-many-runtimes}

\begin{figure}
\begin{center}
\begin{tabular}{|c|r|r|r|r|r|c|}
\hline
กรณี & $c_1$ & $c_2$ & $c_3$ & $c_4$ & เวลา (มิ{\wbr}ลลิ{\wbr}วินาที) & เวลา{\wbr}ประมาณ (ที่{\wbr}เข้าใจ{\wbr}ง่าย{\wbr}ขึ้น) \\
\hline
1& 1	& 1	& 1	& 1	& 202 & 0.2 วินาที\\
2& 100	& 1 	& 1	& 1	& 301 & 0.3 วินาที\\
3& 10,000	& 1	& 1	& 1	& 10,201 & 10 วินาที \\ 
4& 100	& 1	& 1	& 100,000	& 100,300 & 2 นาที\\
5& 100	& 1,000	& 10,000	& 100	& 1,100,200 & 18 นาที \\
6& 1	& 20,000	& 1	& 100	& 2,000,201 & ครึ่ง{\wbr}ชัว{\wbr}โมง \\
7& 10	& 10	& 100,000	& 100,000	& 10,101,010 & สาม{\wbr}ชั่วโมง \\
\hline
\end{tabular}
\end{center}
\caption{เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}หลากหลาย{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}เมื่อ $n=100$}
\label{fig:analysis-many-runtimes}
\end{figure}

จาก{\wbr}นิพจน์{\wbr}ง่าย ๆ $2n+2$ เมื่อ{\wbr}เรา{\wbr}พยายาม{\wbr}ใส่{\wbr}รายละเอียด{\wbr}แล้ว{\wbr}คำนวณ{\wbr}เป็น{\wbr}เวลา{\wbr}
กลับกลาย{\wbr}เป็น{\wbr}เวลา{\wbr}ที่{\wbr}แตกต่าง{\wbr}กัน{\wbr}ได้{\wbr}มากมาย เมื่อ{\wbr}เรา{\wbr}ปรับ{\wbr}ค่า{\wbr}สมมติ{\wbr}ให้{\wbr}เป็น{\wbr}ค่า{\wbr}ต่าง ๆ
แน่นอน{\wbr}ว่า{\wbr}หลาย ๆ กรณี{\wbr}ใน{\wbr}ตาราง{\wbr}อาจ{\wbr}จะ{\wbr}เป็น{\wbr}กรณี{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ไม่{\wbr}ได้{\wbr}จริง ๆ
แต่{\wbr}ถ้า{\wbr}เรา{\wbr}ตั้งใจ{\wbr}จะ{\wbr}สมมติ{\wbr}และ{\wbr}ละทิ้ง{\wbr}รายละเอียด{\wbr}บาง{\wbr}อย่าง{\wbr}แล้ว{\wbr}
เรา{\wbr}ก็{\wbr}ต้อง{\wbr}เตรียม{\wbr}ตัวรับ{\wbr}ผล{\wbr}ความ{\wbr}คลาดเคลื่อน{\wbr}ที่อยู่{\wbr}ใน{\wbr}กรอบ{\wbr}ของ{\wbr}การ{\wbr}สมมติ{\wbr}ของ{\wbr}เรา{\wbr}เช่นเดียวกัน{\wbr}

แม้{\wbr}ตัวอย่าง{\wbr}จะ{\wbr}เป็น{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ง่าย ๆ
ผล{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}แทบ{\wbr}จะ{\wbr}บอก{\wbr}อะไร{\wbr}เกี่ยวกับ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}สำหรับ{\wbr}ค่า $n$
คงที่{\wbr}ค่า{\wbr}หนึ่ง{\wbr}ไม่{\wbr}ได้{\wbr}เลย เพราะ{\wbr}ความ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}นำ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ไป{\wbr}ใช้{\wbr}งาน{\wbr}
รวม{\wbr}ถึง{\wbr}ภาษา{\wbr}โปรแกรม{\wbr}ที่{\wbr}เขียน{\wbr}

อย่างไรก็ตาม ค่าคงที่ $c_1,\ldots,c_4$ นั้น ไม่{\wbr}เปลี่ยนแปลง{\wbr}
ถ้า{\wbr}เรา{\wbr}ไม่{\wbr}เปลี่ยน{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}ที่{\wbr}ใช้{\wbr}งาน ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}แทน{\wbr}ค่า{\wbr}เวลา{\wbr}ที่{\wbr}คำนวณ{\wbr}ได้ กับ{\wbr}ค่า{\wbr}
$n$ ต่าง ๆ กัน{\wbr}แทน เรา{\wbr}จะ{\wbr}ได้{\wbr}ผล{\wbr}ดัง{\wbr}ตาราง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:analysis-runtimes-by-n}

\begin{figure}
{\small
\begin{center}
\begin{tabular}{|c|r|r|r|r|r|r|r|}
\hline
กรณี & 100 & 200 & 400	& 1,000	& 10,000	& 100,000	& 1,000,000\\ \hline
1& 202	&402	&802	&2,002	&20,002	&200,002	&2,000,002\\
2& 301	&501	&901	&2,101	&20,101	&200,101	&2,000,101\\
3& 10,201	&10,401	&10,801	&12,001	&30,001	&210,001	&2,010,001\\
4& 100,300	&100,500	&100,900	&102,100	&120,100	&300,100	&2,100,100\\
5& 1,100,200	&2,200,200	&4,400,200	&11,000,200	&110,000,200    &1,100,000,200	&11,000,000,200\\
6& 2,000,201	&4,000,301	&8,000,501	&20,001,101	&200,010,101    &2,000,100,101	&20,001,000,101\\
7& 10,101,010	&20,102,010	&40,104,010	&100,110,010	&1,000,200,010	&10,001,100,010	&100,010,100,010\\
\hline
\end{tabular}
\end{center}
}
\caption{เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ใน{\wbr}แต่ละ{\wbr}กรณี{\wbr}เมื่อ{\wbr}ปรับ{\wbr}ค่า $n$}
\label{fig:analysis-runtimes-by-n}
\end{figure}

ถ้า{\wbr}เรา{\wbr}สังเกต{\wbr}ค่า{\wbr}ใน{\wbr}ตาราง{\wbr}ให้{\wbr}ดี เรา{\wbr}จะ{\wbr}เห็น{\wbr}แนวโน้ม{\wbr}บาง{\wbr}อย่าง{\wbr}
สังเกต{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}ค่า{\wbr}ใน{\wbr}ทุก ๆ มี{\wbr}ลักษณะ{\wbr}คล้าย{\wbr}กัน เพื่อให้{\wbr}เห็น{\wbr}ค่า{\wbr}ชัดเจน{\wbr}
เรา{\wbr}จะ{\wbr}คำนวณ{\wbr}อัตราส่วน{\wbr}ของ{\wbr}ค่า{\wbr}ใน{\wbr}แต่ละ{\wbr}คอลัมน์{\wbr}กับ{\wbr}ค่า{\wbr}ใน{\wbr}คอลัมน์{\wbr}ก่อนหน้า{\wbr}
เรา{\wbr}จะ{\wbr}ได้{\wbr}ตาราง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:analysis-runtimes-by-n-div}

\begin{figure}
{\small
\begin{center}
\begin{tabular}{|c|r|r|r|r|r|r|r|}
\hline
กรณี & 200 & 400	& 1,000	& 10,000	& 100,000	& 1,000,000\\ \hline
อัตรา{\wbr}การ{\wbr}เปลี่ยน{\wbr}ของ $n$ & 2.000	&2.000	&2.500	&10.000	&10.000	&10.000\\ \hline
1& 1.990	&1.995	&2.496	&9.991	&9.999	&10.000\\
2& 1.664	&1.798	&2.332	&9.567	&9.955	&9.995\\
3& 1.020	&1.038	&1.111	&2.500	&7.000	&9.571\\
4& 1.002	&1.004	&1.012	&1.176	&2.499	&6.998\\
5& 2.000	&2.000	&2.500	&10.000	&10.000	&10.000\\
6& 2.000	&2.000	&2.500	&10.000	&10.000	&10.000\\
7& 1.990	&1.995	&2.496	&9.991	&9.999	&10.000\\
\hline
\end{tabular}
\end{center}
}
\caption{อัตราส่วน{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}ปรับ{\wbr}ค่า $n$ เทียบ{\wbr}กับ{\wbr}การ{\wbr}เปลี่ยน{\wbr}ค่า $n$}
\label{fig:analysis-runtimes-by-n-div}
\end{figure}

สังเกต{\wbr}ว่า{\wbr}ใน{\wbr}ทุก ๆ แถว การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เวลา{\wbr}ใกล้เคียง{\wbr}กับ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ $n$
ยกเว้น{\wbr}แถว{\wbr}ที่ 4 ที่{\wbr}นิพจน์{\wbr}ของ{\wbr}เวลา{\wbr}คือ $2n + 10001$ มิ{\wbr}ลลิ{\wbr}วินาที อย่างไรก็ตาม ถ้า{\wbr}เรา{\wbr}เพิ่ม{\wbr}ค่า{\wbr}
$n$ มาก{\wbr}ขึ้น{\wbr}เรื่อย ๆ ความ{\wbr}แตกต่าง{\wbr}ดังกล่าว{\wbr}ก็{\wbr}จะ{\wbr}ค่อย ๆ ลด{\wbr}ลง{\wbr}

\begin{quiz}{ค่า $n$ ที่{\wbr}มาก{\wbr}พอ}
ให้{\wbr}คำนวณ{\wbr}หา{\wbr}ค่า $n$ ที่{\wbr}ทำ{\wbr}ให้{\wbr}อัตราส่วน{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ใน{\wbr}กรณี{\wbr}ที่ 4 เมื่อ{\wbr}ข้อมูล{\wbr}มี{\wbr}จำนวน $n$
กับ{\wbr}เมื่อ{\wbr}กรณี{\wbr}ที่{\wbr}ข้อมูล{\wbr}มี $2n$ มี{\wbr}ค่า{\wbr}มาก{\wbr}กว่า $1.99$ (นั่น{\wbr}คือ{\wbr}ใกล้เคียง{\wbr}กับ{\wbr}อัตราส่วน $2n/n = 2$)
\end{quiz}

จาก{\wbr}การ{\wbr}ทดลอง{\wbr}แทน{\wbr}ค่า{\wbr}ดังกล่าว เรา{\wbr}พบ{\wbr}ว่า{\wbr}จาก{\wbr}นิพจน์ $2n+2$ ที่{\wbr}เรา{\wbr}วิเคราะห์{\wbr}ไป ส่วน{\wbr}ที่{\wbr}ใช้ได้{\wbr}จริง{\wbr}
ๆ คือ{\wbr}พจน์ $n$ เท่านั้น  

นอกจาก{\wbr}ความ{\wbr}แตกต่าง{\wbr}ด้าน{\wbr}ค่าคงที่{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ระหว่าง{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}ต่าง{\wbr}
ๆ แล้ว การ{\wbr}วิเคราะห์{\wbr}ของ{\wbr}เรา{\wbr}ที่{\wbr}ผ่าน{\wbr}มา{\wbr}ยัง{\wbr}ไม่{\wbr}ได้{\wbr}พิจารณา{\wbr}ผล{\wbr}ที่{\wbr}เกิด{\wbr}จาก{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}แต่อย่างใด{\wbr}
เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}เพิ่ม{\wbr}ความ{\wbr}ละเอียด{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}โดย{\wbr}พิจารณา{\wbr}ไป{\wbr}ถึง{\wbr}โปรแกรม{\wbr}ที่{\wbr}เขียน{\wbr}เป็น{\wbr}ภาษา{\wbr}
C++ ดัง{\wbr}ด้าน{\wbr}ล่าง{\wbr}

\latintext
\begin{codelist}{C++}{}
int x = 0;
for(int i = 0; i < n; ++i)
  x += A[i];
return x;
\end{codelist}
\thaitext

ถ้า{\wbr}เรา{\wbr}ต้องการ{\wbr}จะ{\wbr}นับ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}จริง ๆ เรา{\wbr}จะ{\wbr}พบ{\wbr}ว่า{\wbr}คำสั่ง {\ct for} จริง ๆ แล้ว{\wbr}
จะ{\wbr}ทำงาน{\wbr}รวม $n+1$ ครั้ง แทน{\wbr}ที่{\wbr}จะ{\wbr}เป็น $n$ ครั้ง{\wbr}
เนื่องจาก{\wbr}ใน{\wbr}รอบ{\wbr}สุดท้าย{\wbr}จะ{\wbr}ต้อง{\wbr}มี{\wbr}การ{\wbr}เปรียบเทียบ{\wbr}ค่า {\ct i} กับ {\ct n} อีก{\wbr}หนึ่ง{\wbr}ครั้ง{\wbr}
ดังนั้น{\wbr}ถ้า{\wbr}เรา{\wbr}สมมติ{\wbr}ให้{\wbr}ทุก{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}ด้วย{\wbr}เวลา{\wbr}ที่{\wbr}เท่า{\wbr}กัน{\wbr}เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}เรา{\wbr}เปลี่ยน{\wbr}ไป{\wbr}เป็น{\wbr}
$2n+3$ หรือ{\wbr}ถ้า{\wbr}เรา{\wbr}พิจารณา{\wbr}ละเอียด{\wbr}ขึ้น{\wbr}อีก เรา{\wbr}จะ{\wbr}พบ{\wbr}ว่า{\wbr}คำสั่ง {\ct for} จริง ๆ แล้ว{\wbr}
ประกอบ{\wbr}ด้วย{\wbr}คำสั่ง{\wbr}ย่อย ๆ อีก 3 คำสั่ง คำสั่ง{\wbr}แรก{\wbr}ที่{\wbr}กำหนด{\wbr}ค่า{\wbr}เริ่มต้น{\wbr}ให้{\wbr}กับ {\ct i} ทำงาน{\wbr}แค่{\wbr}
1 ครั้ง คำสั่ง{\wbr}เปรียบเทียบ{\wbr}ทำงาน $n$ ครั้ง และ{\wbr}คำสั่ง{\wbr}ปรับ{\wbr}ค่า{\wbr}ทำงาน $n-1$ ครั้ง{\wbr}
ถ้า{\wbr}เรา{\wbr}คิด{\wbr}รวม{\wbr}คำสั่ง{\wbr}เหล่านี้{\wbr}ไป{\wbr}ด้วย เวลา{\wbr}ที่{\wbr}ได้{\wbr}จาก{\wbr}การ{\wbr}วิเคราะห์{\wbr}ของ{\wbr}เรา{\wbr}จะ{\wbr}เป็น $3n+3$
หรือ{\wbr}ถ้า{\wbr}เรา{\wbr}พยายาม{\wbr}คิด{\wbr}เวลา{\wbr}ของ{\wbr}แต่ละ{\wbr}คำสั่ง{\wbr}เพิ่มเติม{\wbr}เข้า{\wbr}ไป เรา{\wbr}จะ{\wbr}ต้อง{\wbr}สมมติ{\wbr}ตัวแปร{\wbr}เพิ่ม{\wbr}อีก 3
ตัว{\wbr}และ{\wbr}จะ{\wbr}ทำ{\wbr}ให้การ{\wbr}คำนวณ{\wbr}ต่าง ๆ ยุ่งยาก{\wbr}มาก{\wbr}ขึ้น{\wbr}

อย่างไรก็ตาม ไม่ว่า{\wbr}เรา{\wbr}จะ{\wbr}วิเคราะห์{\wbr}ได้ $2n+2$, $2n+3$, หรือ $3n+3$ หรือ{\wbr}จะ{\wbr}เป็น{\wbr}
$c_1+c_4 + (c_3+c_4)n$ ก็ตาม เมื่อ{\wbr}เรา{\wbr}ไม่{\wbr}ทราบ{\wbr}ค่าคงที่{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ต่าง ๆ
ที่{\wbr}ขึ้น{\wbr}กับ{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}และ{\wbr}สถานะ{\wbr}ต่าง ๆ ของ{\wbr}เครื่องใน{\wbr}เวลา{\wbr}นั้น{\wbr}
ความ{\wbr}แม่นยำ{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}เพิ่ม{\wbr}ขึ้น{\wbr}มา{\wbr}นั้น{\wbr}
ก็{\wbr}ไม่{\wbr}ได้{\wbr}ทำ{\wbr}ให้{\wbr}เรา{\wbr}ทำนาย{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ได้{\wbr}แม่นยำ{\wbr}ขึ้น{\wbr}แต่อย่างใด{\wbr}
จาก{\wbr}การ{\wbr}ทดลอง{\wbr}แทน{\wbr}ค่า{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}ทำ{\wbr}มา ทุก ๆ นิพจน์{\wbr}แสดง{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ที่{\wbr}เรา{\wbr}วิเคราะห์{\wbr}ได้{\wbr}นั้น{\wbr}
มี{\wbr}ความหมาย{\wbr}ไม่{\wbr}ต่าง{\wbr}จาก $n$
ใน{\wbr}แง่{\wbr}ของ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}ขนาด{\wbr}ข้อมูล{\wbr}เพิ่ม{\wbr}ขึ้น นั่น{\wbr}คือ{\wbr}
ถ้า{\wbr}ขนาด{\wbr}ของ{\wbr}ข้อมูล{\wbr}เพิ่ม{\wbr}ขึ้น $c$ เท่า เวลา{\wbr}ที่{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}ก็{\wbr}จะ{\wbr}เพิ่ม{\wbr}ขึ้น{\wbr}ประมาณ $c$
เท่า{\wbr}ด้วย{\wbr}เช่นกัน{\wbr}

\subsubsection{หาคู่{\wbr}ข้อมูล}

เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}วิเคราะห์{\wbr}อีก{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}หนึ่ง{\wbr}เพื่อ{\wbr}ยืนยัน{\wbr}ข้อสรุป{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}มา พิจารณา{\wbr}โจทย์{\wbr}ปัญหา{\wbr}ด้าน{\wbr}ล่าง{\wbr}นี้{\wbr}

\begin{prob}{ทำ{\wbr}รั้ว{\wbr}พอดี}
สม{\wbr}ศักดิ์{\wbr}พบ{\wbr}กับ{\wbr}ปัญหา{\wbr}น้ำท่วม ทำ{\wbr}ให้{\wbr}เขา{\wbr}คิด{\wbr}จะ{\wbr}ซื้อ{\wbr}รั้ว{\wbr}บ้าน{\wbr}สำเร็จ{\wbr}มา{\wbr}ใช้ รั้ว{\wbr}มี{\wbr}ทั้งหมด $n$ แบบ แบบ{\wbr}ที่{\wbr}
$i$ มี{\wbr}ความ{\wbr}ยาว $a_i$ เมตร และ{\wbr}ราคา $c_i$ บาท ความ{\wbr}ยาว{\wbr}รั้ว{\wbr}ที่{\wbr}เขา{\wbr}ต้องการ{\wbr}คือ $K$
เมตร{\wbr}และ{\wbr}เขา{\wbr}ไม่{\wbr}ต้องการ{\wbr}นำ{\wbr}รั้ว{\wbr}สำเร็จ{\wbr}มา{\wbr}ตัด นอกจากนี้{\wbr}
เพื่อ{\wbr}ลด{\wbr}ภาระ{\wbr}ใน{\wbr}การ{\wbr}ต่อ{\wbr}รั้ว{\wbr}สำเร็จ{\wbr}เข้า{\wbr}ด้วย{\wbr}กัน เขา{\wbr}จะ{\wbr}ซื้อ{\wbr}รั้ว{\wbr}สำเร็จ{\wbr}ไม่{\wbr}เกิน 2 อัน{\wbr}
(แต่{\wbr}อาจ{\wbr}จะ{\wbr}ซื้อ{\wbr}อัน{\wbr}เดียว{\wbr}ก็ได้)  จง{\wbr}หา{\wbr}วิธีการ{\wbr}ซื้อ{\wbr}ที่{\wbr}ทำ{\wbr}ให้{\wbr}สม{\wbr}ศักดิ์{\wbr}ประหยัด{\wbr}เงิน{\wbr}มาก{\wbr}ที่สุด{\wbr}
\end{prob}

สมมติ{\wbr}ว่า{\wbr}ข้อมูล{\wbr}ป้อน{\wbr}เข้า{\wbr}อยู่{\wbr}ใน{\wbr}อาร์เรย์ $A=[a_0,a_1,\ldots,a_{n-1}]$ และ{\wbr}
$C=[c_0,c_1,\ldots,c_{n-1}]$  เรา{\wbr}จะ{\wbr}พัฒนา{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}เพื่อ{\wbr}แก้{\wbr}ปัญหา{\wbr}นี้{\wbr}

\begin{quiz}{}
ก่อน{\wbr}จะ{\wbr}อ่าน{\wbr}ต่อไป ลอง{\wbr}คิด{\wbr}ว่า{\wbr}จะ{\wbr}แก้{\wbr}ปัญหา{\wbr}ดังกล่าว{\wbr}ได้{\wbr}อย่างไร{\wbr}
พร้อมทั้ง{\wbr}เขียน{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}และ{\wbr}พยายาม{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน เป็น{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}ขึ้น{\wbr}กับ $n$
\end{quiz}

ปัญหา{\wbr}ดังกล่าว เรา{\wbr}สามารถ{\wbr}พิจารณา{\wbr}คำตอบ{\wbr}ว่า{\wbr}มี{\wbr}สอง{\wbr}ประเภท{\wbr}คือ{\wbr}กรณี{\wbr}ที่{\wbr}ใช้{\wbr}รั้ว{\wbr}สำเร็จ{\wbr}อัน{\wbr}เดียว{\wbr}
และ{\wbr}กรณี{\wbr}ที่{\wbr}ใช้{\wbr}รั้ว{\wbr}สอง{\wbr}อัน{\wbr}
เรา{\wbr}สามารถ{\wbr}เขียน{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}เพื่อ{\wbr}แก้{\wbr}ปัญหา{\wbr}นี้{\wbr}ได้{\wbr}ดัง{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม~\ref{algo:analysis-cheapest-pair}
ที่{\wbr}แสดง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:algo-analysis-cheapest-pair}
อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ดังกล่าว{\wbr}ทดลอง{\wbr}คำตอบ{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ทุก{\wbr}แบบ{\wbr}และ{\wbr}เลือก{\wbr}คำตอบ{\wbr}ที่{\wbr}ใช้{\wbr}เงิน{\wbr}น้อย{\wbr}ที่สุด{\wbr}

\begin{figure}
\begin{algt}
\label{algo:analysis-cheapest-pair}
\noindent {\bf เลือก{\wbr}รั้ว{\wbr}ประหยัด{\wbr}ที่สุด}\\
1.\settowidth{\algbackindent}{1.}\hspace*{-\algbackindent}\hspace*{0.2in} $mcost\leftarrow\infty$ \hfill\ ($c_1$ milliseconds (ms))\\
2.\settowidth{\algbackindent}{2.}\hspace*{-\algbackindent}\hspace*{0.2in} $sol\leftarrow$ ``Impossible'' \hfill\ ($c_1$ ms)\\
3.\settowidth{\algbackindent}{3.}\hspace*{-\algbackindent}\hspace*{0.2in} FOR $i\leftarrow 0,1,\ldots,n-1$ \hfill\ ($c_2$ ms)\\
4.\settowidth{\algbackindent}{4.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in} IF $a[i]=K$ and $c[i]\leq mcost$ THEN \hfill\ ($c_3$ ms)\\
5.\settowidth{\algbackindent}{5.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} $mcost\leftarrow c[i]$ \hfill\ ($c_1$ ms)\\
6.\settowidth{\algbackindent}{6.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} $sol\leftarrow$ ``Buy fence $i$'' \hfill\ ($c_1$ ms)\\
7.\settowidth{\algbackindent}{7.}\hspace*{-\algbackindent}\hspace*{0.2in} FOR $i\leftarrow 0,1,\ldots,n-1$ \hfill\ ($c_2$ ms)\\
8.\settowidth{\algbackindent}{8.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in} FOR $j\leftarrow i+1,i+2,\ldots,n-1$ \hfill\ ($c_2$ ms)\\
9.\settowidth{\algbackindent}{9.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} IF ($A[i] + A[j] = K$) and ($c[i]+c[j]<mcost$ THEN \hfill\ ($c_3$ ms)\\
10.\settowidth{\algbackindent}{10.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} $mcost\leftarrow c[i]+c[j]$ \hfill\ ($c_1$ ms)\\
11.\settowidth{\algbackindent}{11.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} $sol\leftarrow$ ``Buy fence $i$ and $j$'' \hfill\ ($c_1$ ms)\\
12.\settowidth{\algbackindent}{12.}\hspace*{-\algbackindent}\hspace*{0.2in} RETURN $sol$ \hfill\ ($c_4$ ms)
\end{algt}
\caption{อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม~\ref{algo:analysis-cheapest-pair} สำหรับ{\wbr}ปัญหา{\wbr}ทำ{\wbr}รั้ว{\wbr}พอดี พร้อม{\wbr}ระบุ{\wbr}ค่าคงที่{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}แบบ{\wbr}ละเอียด}
\label{fig:algo-analysis-cheapest-pair}
\end{figure}

วงรอบ FOR ชุด{\wbr}แรก{\wbr}พิจารณา{\wbr}กรณี{\wbr}ที่{\wbr}ใช้{\wbr}รั้ว{\wbr}สำเร็จ{\wbr}อัน{\wbr}เดียว อีก{\wbr}ชุด{\wbr}สำหรับ{\wbr}กรณี{\wbr}ที่{\wbr}ใช้{\wbr}รั้ว{\wbr}สำเร็จ{\wbr}สอง{\wbr}อัน{\wbr}
สังเกต{\wbr}ว่า{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ดังกล่าว{\wbr}จะ{\wbr}ทำงาน{\wbr}โดย{\wbr}มี{\wbr}จำนวน{\wbr}รอบ{\wbr}เท่า ๆ กัน{\wbr}เสมอ{\wbr}
แต่{\wbr}อาจ{\wbr}จะ{\wbr}ใช้เวลา{\wbr}ต่าง{\wbr}กัน{\wbr}เปลี่ยน{\wbr}ไป{\wbr}ตาม{\wbr}ข้อมูล เนื่องจาก{\wbr}อาจ{\wbr}จะ{\wbr}เข้า{\wbr}ไป{\wbr}ทำงาน{\wbr}คำสั่ง{\wbr}ภายใน{\wbr}คำสั่ง{\wbr}
IF ต่าง{\wbr}กัน อย่างไรก็ตาม อย่าง{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}กล่าว{\wbr}ไว้{\wbr}ใน{\wbr}บท{\wbr}ที่~\ref{chapter:arrays}
เรา{\wbr}มักจะ{\wbr}สนใจ{\wbr}ใน{\wbr}กรณี{\wbr}ที่{\wbr}แย่{\wbr}ที่สุด{\wbr}
ซึ่ง{\wbr}ใน{\wbr}กรณี{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}สมมติ{\wbr}ให้{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}เข้า{\wbr}ไป{\wbr}ทำงาน{\wbr}ใน{\wbr}ทุก ๆ คำสั่ง{\wbr}ภายใน{\wbr}คำสั่ง IF

ใน{\wbr}กรณี{\wbr}นี้ เรา{\wbr}จะ{\wbr}เริ่ม{\wbr}โดย{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}
โดย{\wbr}สมมติ{\wbr}ให้{\wbr}ทุก{\wbr}คำสั่ง{\wbr}ใช้เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน 1 ครั้ง{\wbr}เท่า{\wbr}กัน เรา{\wbr}จะ{\wbr}แบ่ง{\wbr}พิจารณา{\wbr}ดังนี้{\wbr}

\begin{itemize}
\item คำสั่ง{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 1,2 และ 12 ทำงาน{\wbr}รวม{\wbr}กัน{\wbr}ใช้เวลา 3 หน่วย (เพราะว่า{\wbr}ไม่{\wbr}ได้{\wbr}อยู่{\wbr}ภายใน{\wbr}วงรอบ{\wbr}อะไร{\wbr}เลย)
\item คำสั่ง{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 3 - 6 แต่ละ{\wbr}คำสั่ง{\wbr}ทำงาน $n$ รอบ ดังนั้น{\wbr}ใช้เวลา{\wbr}รวม{\wbr}ทั้งสิ้น $4n$ หน่วย{\wbr}
\item เช่นเดียวกับ{\wbr}การ{\wbr}วิเคราะห์{\wbr}บรรทัด{\wbr}ที่ 3, บรรทัด{\wbr}ที่ 7 ทำงาน $n$ รอบ{\wbr}
  ดังนั้น{\wbr}ใช้เวลา{\wbr}รวม{\wbr}ทั้งสิ้น $n$ หน่วย{\wbr}
\item สำหรับ{\wbr}วงรอบ{\wbr}ใน (ตัวแปร $j$ ใน{\wbr}บรรทัด{\wbr}ที่ 8 - 11)
เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}แทน{\wbr}ค่า{\wbr}ดู{\wbr}เพื่อ{\wbr}ทำ{\wbr}ความ{\wbr}เข้าใจ{\wbr}กับ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}นี้{\wbr}ก่อน ใน{\wbr}รอบ{\wbr}แรก{\wbr}ที่ $i=0$ ตัวแปร $j$
จะ{\wbr}มี{\wbr}ค่า{\wbr}ตั้งแต่ $1$ ถึง $n-1$ นั่น{\wbr}คือ{\wbr}วงรอบ{\wbr}นี้{\wbr}ทำงาน $n-1$ รอบ ใน{\wbr}รอบ{\wbr}ที่{\wbr}สอง{\wbr}ที่ $i=1$
ตัวแปร $j$ จะ{\wbr}มี{\wbr}ค่า{\wbr}ตั้งแต่ $2$ ถึง $n-1$ นั่น{\wbr}คือ{\wbr}ทำงาน $n-2$ รอบ{\wbr}
อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}จะ{\wbr}ทำงาน{\wbr}เช่นนี้{\wbr}ไป{\wbr}เรื่อย ๆ จนกระทั่ง $i=n-2$ ตัวแปร $j$ จะ{\wbr}มี{\wbr}ค่า{\wbr}เดียว{\wbr}คือ $n-1$
ถ้า{\wbr}เรา{\wbr}นับ{\wbr}รวม{\wbr}จำนวน{\wbr}รอบ{\wbr}ทั้งหมด เรา{\wbr}จะ{\wbr}ได้{\wbr}เท่า{\wbr}กับ{\wbr}
\[
(n-1) + (n-2) + (n-3) +\cdots+1 = n(n-1)/2
\]

นั่น{\wbr}คือ บรรทัด{\wbr}ที่ 8 - 11 แต่ละ{\wbr}บรรทัด{\wbr}จะ{\wbr}ทำงาน{\wbr}ทั้งสิ้น $n(n-1)/2$ รอบ{\wbr}
ดังนั้น{\wbr}คำสั่ง{\wbr}ใน{\wbr}บรรทัด{\wbr}เหล่านี้{\wbr}ทำงาน{\wbr}รวม{\wbr}กัน $4\cdot n(n-1)/2=2n(n-1)$ หน่วย{\wbr}
\end{itemize}

เมื่อ{\wbr}รวม{\wbr}ทั้งหมด เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}ถ้า{\wbr}ทุก ๆ คำสั่ง{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา 1 หน่วย{\wbr}เท่า{\wbr}กัน{\wbr}หมด อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}จะ{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้เวลา{\wbr}
\[
3 + 4n + n + 2n(n-1) = 2n^2 + 3n + 3
\]
หน่วย{\wbr}

ใน{\wbr}รูป~\ref{fig:algo-analysis-cheapest-pair}
เรา{\wbr}ได้{\wbr}ใส่{\wbr}รายละเอียด{\wbr}ของ{\wbr}เวลา{\wbr}ใน{\wbr}แต่ละ{\wbr}คำสั่ง{\wbr}
ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เช่นเดียวกับ{\wbr}ใน{\wbr}กรณี{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม~\ref{algo:array-sum2} อย่างไรก็ตาม{\wbr}
เพื่อ{\wbr}ความ{\wbr}กระชับ{\wbr}เรา{\wbr}จะ{\wbr}ไม่{\wbr}กำหนด{\wbr}ให้{\wbr}ทุก{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}ต่าง{\wbr}กัน{\wbr}หมด{\wbr}
แต่{\wbr}จะ{\wbr}กำหนด{\wbr}ให้{\wbr}เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}คำสั่ง{\wbr}ที่{\wbr}คล้าย{\wbr}กัน{\wbr}เท่า{\wbr}กัน{\wbr}

เมื่อ{\wbr}เพิ่ม{\wbr}ค่าคงที่{\wbr}ดังกล่าว{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์ เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า เวลา{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}คือ{\wbr}
$2 c_1 + 4n(c_2 +c_3 + 2c_1) + c_2n + 2n(n-1)(c_2 +c_3 + 2c_1) + c_4$ หรือ{\wbr}มี{\wbr}ค่า{\wbr}เท่า{\wbr}กับ{\wbr}
\[
2(c_2+c_3+2c_1)n^2 + (3c_2 + 2c_3 + 4c_1)n + 2c_1 + c4
\]

เรา{\wbr}ทดลอง{\wbr}เปลี่ยน{\wbr}ค่า{\wbr}ของ $c_1,c_2,c_3$ และ $c_4$ พร้อม ๆ
กับ{\wbr}ดู{\wbr}แนวโน้ม{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}ที่{\wbr}เปลี่ยน{\wbr}ไป{\wbr}เมื่อ $n$ มี{\wbr}ค่า{\wbr}เป็น 100, 200, 400, 800, 1,600,
16,000, และ 160,000 ตาม{\wbr}ลำดับ{\wbr}
ผล{\wbr}ที่{\wbr}ได้{\wbr}แสดง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:analysis-runtimes-by-n-2} สังเกต{\wbr}ว่า{\wbr}บรรทัด{\wbr}แรก{\wbr}เมื่อ{\wbr}
$c_1=c_2=c_3=c_4=1$ เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}มี{\wbr}ค่า{\wbr}เป็น $2n^2+3n+3$
เท่า{\wbr}กับ{\wbr}เวลา{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}วิเคราะห์{\wbr}ไว้{\wbr}กรณี{\wbr}ทุก{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}ด้วย{\wbr}เวลา{\wbr}ที่{\wbr}เท่า{\wbr}กัน{\wbr}หมด{\wbr}

เรา{\wbr}ได้{\wbr}เปรียบเทียบ{\wbr}อัตราส่วน{\wbr}ของ{\wbr}ค่า{\wbr}ใน{\wbr}คอลัมน์{\wbr}ติด{\wbr}กัน{\wbr}และ{\wbr}แสดง{\wbr}พร้อม{\wbr}อัตราส่วน{\wbr}ของ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}ค่า{\wbr}
$n$, $n^2$, และ $2n^2+2n+3$
ใน{\wbr}ตาราง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:analysis-runtimes-by-n-2-div}

\begin{figure}
{\footnotesize
\begin{center}
\begin{tabular}{|r|r|r|r|r|r|r|r|r|r|r|}
\hline
\multicolumn{4}{|c|}{} & \multicolumn{7}{c|}{$n$}\\
\hline
c1 & c2 & c3 & c4 & 100 & 200 & 400 & 800 & 1,600 & 16,000 & 160,000\\
\hline
1 & 1 & 1 & 1 & 80901 & 321801 & 1283601 & 5127201 & 20494401 & 2048144001 & 204801440001\\
0.1 & 1 & 0.1 & 1 & 26361 & 104721 & 417441 & 1666881 & 6661761 & 665657601 & 66560576001\\
0.01 & 0.01 & 0.01 & 100 & 909 & 3318 & 12936 & 51372 & 205044 & 20481540 & 2048014500\\
0.01 & 0.01 & 0.01 & 10000 & 10809 & 13218 & 22836 & 61272 & 214944 & 20491440 & 2048024400\\
0.001 & 0.001 & 0.001 & 100000 & 100080.9 & 100321.8 & 101283.6 & 105127.2 & 120494.4 & 2148144 & 204901440\\
\hline
\end{tabular}
\end{center}
}
\caption{เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ใน{\wbr}แต่ละ{\wbr}ชุด{\wbr}ของ{\wbr}ค่าคงที่{\wbr}เมื่อ{\wbr}ปรับ{\wbr}ค่า $n$}
\label{fig:analysis-runtimes-by-n-2}
\end{figure}

\begin{figure}
{\small
\begin{center}
\begin{tabular}{|c|r|r|r|r|r|r|}
\hline
กรณี & 200 & 400 & 800 & 1,600 & 16,000 & 160,000\\
\hline
n & 2.000 & 2.000 & 2.000 & 2.000 & 10.000 & 10.000\\
n2 & 4.000 & 4.000 & 4.000 & 4.000 & 100.000 & 100.000\\
1 (หรือ $2n^2 + 3n + 3$) & 3.978 & 3.989 & 3.994 & 3.997 & 99.937 & 99.994\\
2 & 3.973 & 3.986 & 3.993 & 3.997 & 99.922 & 99.992\\
3 & 3.650 & 3.899 & 3.971 & 3.991 & 99.889 & 99.993\\
4 & 1.223 & 1.728 & 2.683 & 3.508 & 95.334 & 99.945\\
5 & 1.002 & 1.010 & 1.038 & 1.146 & 17.828 & 95.385\\
\hline
\end{tabular}
\end{center}
}
\caption{อัตราส่วน{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}ปรับ{\wbr}ค่า $n$ เทียบ{\wbr}กับ{\wbr}การ{\wbr}เปลี่ยน{\wbr}ค่า $n$}
\label{fig:analysis-runtimes-by-n-2-div}
\end{figure}

สังเกต{\wbr}ว่า{\wbr}ใน{\wbr}กรณี{\wbr}นี้ อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}
จะ{\wbr}ใกล้เคียง{\wbr}กับ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}ฟังก์ชัน $n^2$ แทน{\wbr}ที่{\wbr}จะ{\wbr}เป็น $n$ เหมือน{\wbr}กับ{\wbr}ใน{\wbr}กรณี{\wbr}ก่อน{\wbr}

\begin{quiz}{}
ทำไม{\wbr}ใน{\wbr}กรณี{\wbr}นี้{\wbr}อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}คล้าย{\wbr}กับ $n^2$ มาก{\wbr}กว่า $n$?
\end{quiz}

ดังนั้น สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}แน่นอน{\wbr}จาก{\wbr}การ{\wbr}วิเคราะห์ แทน{\wbr}ที่{\wbr}จะ{\wbr}เป็น{\wbr}เวลา{\wbr}ที่{\wbr}สามารถ{\wbr}ประมาณ{\wbr}ได้{\wbr}
กลับ{\wbr}เป็น{\wbr}ข้อมูล{\wbr}ของ{\wbr}อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}
ใน{\wbr}กรณี{\wbr}นี้{\wbr}เรา{\wbr}ทราบ{\wbr}ว่า{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}เทียบ{\wbr}กับ{\wbr}ขนาด{\wbr}ของ{\wbr}ข้อมูล แปรผัน{\wbr}ใกล้เคียง{\wbr}กับ{\wbr}ฟังก์ชัน{\wbr}
$n^2$

การ{\wbr}ที่{\wbr}วิธีการ{\wbr}นี้{\wbr}ใช้เวลา{\wbr}แปรผัน{\wbr}กับ{\wbr}ขนาด{\wbr}ข้อมูล{\wbr}เป็น $n^2$ หมายความ{\wbr}ว่า ถ้า{\wbr}ข้อมูล{\wbr}มี{\wbr}ขนาด{\wbr}ใหญ่{\wbr}มาก{\wbr}
ๆ อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ดังกล่าว{\wbr}จะ{\wbr}ใช้เวลา{\wbr}มาก{\wbr}ขึ้น{\wbr}ไป{\wbr}ด้วย{\wbr}
และ{\wbr}อาจ{\wbr}จะ{\wbr}ใช้เวลา{\wbr}นาน{\wbr}เกิน{\wbr}กว่า{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}รอ{\wbr}ผลลัพธ์{\wbr}ได้ (เช่น นาน{\wbr}หลาย{\wbr}ปี)
เมื่อ{\wbr}เรา{\wbr}ศึกษา{\wbr}เทคนิค{\wbr}การ{\wbr}ค้น{\wbr}ข้อมูล{\wbr}มาก{\wbr}ขึ้น{\wbr}แล้ว{\wbr}
เรา{\wbr}จะ{\wbr}สามารถ{\wbr}แก้{\wbr}ปัญหา{\wbr}นี้{\wbr}ได้{\wbr}โดย{\wbr}ใช้เวลา{\wbr}ที่{\wbr}แปรผัน{\wbr}ไม่{\wbr}ต่าง{\wbr}จาก{\wbr}ฟังก์ชัน $n$ มาก{\wbr}นัก{\wbr}

จาก{\wbr}ตัวอย่าง{\wbr}ที่{\wbr}กล่าว{\wbr}มา{\wbr}แล้ว เรา{\wbr}พบ{\wbr}ว่า{\wbr}แม้ว่า{\wbr}เรา{\wbr}จะ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เป็น{\wbr}ได้ $2n+2$,
$2n+3$, $3n+3$ สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}สามารถ{\wbr}กล่าว{\wbr}ได้{\wbr}อย่าง{\wbr}ชัดเจน{\wbr}เกี่ยวกับ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}
ก็{\wbr}คือ{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}มี{\wbr}อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}เหมือน{\wbr}กับ{\wbr}ฟังก์ชัน $n$ และ{\wbr}ใน{\wbr}ตัวอย่าง{\wbr}นี้{\wbr}
ไม่ว่า{\wbr}เรา{\wbr}จะ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}แบบ{\wbr}คร่าว ๆ ได้{\wbr}เป็น $2n^2+3n+3$
หรือ{\wbr}จะ{\wbr}พยายาม{\wbr}วิเคราะห์{\wbr}ให้{\wbr}ละเอียด{\wbr}ขึ้น{\wbr}เป็น $2(c_2+c_3+2c_1)n^2 + (3c_2 + 2c_3 +
4c_1)n + 2c_1 + c4$
สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}รู้{\wbr}อย่าง{\wbr}ชัดเจน{\wbr}จาก{\wbr}การ{\wbr}วิเคราะห์{\wbr}ก็{\wbr}คือ{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}มี{\wbr}ลักษณะ{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}เหมือน{\wbr}กับ{\wbr}ฟังก์ชัน{\wbr}
$n^2$

อย่างไรก็ตาม สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}กล่าว{\wbr}มา{\wbr}นั้น{\wbr}ยัง{\wbr}ไม่{\wbr}ชัดเจน{\wbr}ทาง{\wbr}คณิตศาสตร์{\wbr}มาก{\wbr}พอ แม้ว่า{\wbr}เรา{\wbr}จะ{\wbr}พอ{\wbr}นึก{\wbr}ภาพ{\wbr}ได้{\wbr}
แต่{\wbr}เรา{\wbr}ยัง{\wbr}ไม่{\wbr}สามารถ{\wbr}กล่าว{\wbr}อย่าง{\wbr}ชัดเจน{\wbr}ว่า{\wbr}
เมื่อ{\wbr}เรา{\wbr}กล่าว{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}หนึ่ง{\wbr}มี{\wbr}อัตรา{\wbr}การ{\wbr}เปลี่ยนแปลง{\wbr}เหมือน{\wbr}กับ{\wbr}อีก{\wbr}ฟังก์ชัน{\wbr}หนึ่ง{\wbr}
แท้จริง{\wbr}แล้ว{\wbr}มี{\wbr}ความหมาย{\wbr}อย่างไร ใน{\wbr}ส่วน~\ref{sect:analysis-big-o-definition}
เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}นิยาม{\wbr}เกี่ยวกับ{\wbr}อัตรา{\wbr}การ{\wbr}โต{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}จะ{\wbr}ทำ{\wbr}ให้{\wbr}เรา{\wbr}กล่าว{\wbr}ถึง{\wbr}แนว{\wbr}คิด{\wbr}นี้{\wbr}ได้{\wbr}อย่าง{\wbr}เป็น{\wbr}รูปแบบ{\wbr}

ใน{\wbr}ส่วน{\wbr}ที่{\wbr}เหลือ{\wbr}นี้ เรา{\wbr}จะ{\wbr}ยก{\wbr}ตัวอย่าง{\wbr}ความ{\wbr}คลาดเคลื่อน{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}
ที่{\wbr}เป็น{\wbr}ผล{\wbr}จาก{\wbr}สถาปัตยกรรม{\wbr}ของ{\wbr}คอมพิวเตอร์{\wbr}ที่{\wbr}โปรแกรม{\wbr}ทำงาน{\wbr}

\subsubsection{ตัวอย่าง: ผล{\wbr}จาก{\wbr}การ{\wbr}เปลี่ยน{\wbr}รูปแบบ{\wbr}การ{\wbr}อ่าน{\wbr}ค่า{\wbr}ใน{\wbr}หน่วยความจำ}

พิจารณา{\wbr}ฟังก์ชัน{\wbr}สอง{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}คำนวณ{\wbr}ผลรวม{\wbr}ของ{\wbr}ข้อมูล{\wbr}ใน{\wbr}อาร์เรย์{\wbr}สอง{\wbr}มิติ{\wbr}
ใน{\wbr}โปรแกรม~\ref{code:analysis-example-caching-effect}

\begin{figure}
\latintext
\begin{codelist}{C++}{caption={\thaitext ฟังก์ชัน {\ct calA} และ {\ct calB} ที่{\wbr}คำนวณ{\wbr}ผลรวม{\wbr}ของ{\wbr}ข้อมูล{\wbr}ใน{\wbr}อาร์เรย์{\wbr}สอง{\wbr}มิติ\latintext},label=code:analysis-example-caching-effect}
int calA()
{
  int x = 0;
  for(int i = 0; i < n; ++i)
    for(int j = 0; j < n; ++j)
      x += ar[i][j];
  return x;
}
int calB()
{
  int x = 0;
  for(int j = 0; j < n; ++j)
    for(int i = 0; i < n; ++i)
      x += ar[i][j];
  return x;
}
\end{codelist}
\thaitext
\end{figure}

\begin{quiz}{}
ฟังก์ชัน {\ct calA} กับ {\ct calB} ต่าง{\wbr}กัน{\wbr}อย่างไร?  เมื่อ{\wbr}นำ{\wbr}ไป{\wbr}ทำงาน{\wbr}
เวลา{\wbr}ที่{\wbr}ใช้{\wbr}ทำงาน{\wbr}จะ{\wbr}แตกต่าง{\wbr}กัน{\wbr}หรือ{\wbr}ไม่?  ถ้า{\wbr}คิด{\wbr}ว่า{\wbr}แตกต่าง{\wbr}ฟังก์ชัน{\wbr}ใด{\wbr}น่าจะ{\wbr}ทำงาน{\wbr}เร็ว{\wbr}กว่า{\wbr}
ทำไม{\wbr}ถึง{\wbr}น่าจะ{\wbr}เป็น{\wbr}เช่นนั้น?
\end{quiz}

เมื่อ{\wbr}นำ{\wbr}ฟังก์ชัน{\wbr}ไป{\wbr}ทดลอง เนื่องจาก{\wbr}ต้อง{\wbr}มี{\wbr}การ{\wbr}กำหนด{\wbr}ค่า{\wbr}เริ่มต้น{\wbr}ให้{\wbr}กับ{\wbr}อาร์เรย์
เรา{\wbr}จึง{\wbr}ให้{\wbr}โปรแกรม{\wbr}กำหนด{\wbr}ค่า{\wbr}เริ่มต้น{\wbr}ให้{\wbr}อาร์เรย์ จากนั้น{\wbr}เรียก{\wbr}ฟังก์ชัน{\wbr}ดังกล่าว 10 รอบ{\wbr}
เพื่อ{\wbr}ลด{\wbr}ผล{\wbr}ของ{\wbr}เวลา{\wbr}จาก{\wbr}การ{\wbr}กำหนด{\wbr}ค่า{\wbr}เริ่มต้น{\wbr}

ค่าเฉลี่ย{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน เมื่อ {\ct n} มี{\wbr}ค่า{\wbr}เท่า{\wbr}กับ 10,000 ของ{\wbr}โปรแกรม{\wbr}ที่{\wbr}ใช้{\wbr}ฟังก์ชัน{\wbr}
{\ct calA} คือ 4.55 วินาที ใน{\wbr}ขณะที่{\wbr}โปรแกรม{\wbr}ที่{\wbr}ใช้{\wbr}ฟังก์ชัน {\ct calB} คือ 11.54 วินาที{\wbr}
คิด{\wbr}เป็น{\wbr}ประมาณ 2.5 เท่า{\wbr}ของ{\wbr}เวลา{\wbr}ของ{\wbr}โปรแกรม{\wbr}ที่{\wbr}ใช้{\wbr}ฟังก์ชัน {\ct calA}

ความ{\wbr}แตกต่าง{\wbr}ดังกล่าว เกิด{\wbr}ขึ้น{\wbr}เนื่องจาก{\wbr}รูปแบบ{\wbr}ของ{\wbr}การ{\wbr}อ่าน{\wbr}ข้อมูล{\wbr}ใน{\wbr}หน่วยความจำ{\wbr}ที่{\wbr}ต่าง{\wbr}กัน{\wbr}
มี{\wbr}ผล{\wbr}ต่อ{\wbr}ประสิทธิภาพ{\wbr}ของ{\wbr}ระบบ{\wbr}หน่วยความจำ (ใน{\wbr}ที่นี้{\wbr}คือ{\wbr}ระบบ cache)
ซึ่ง{\wbr}การ{\wbr}ที่{\wbr}จะ{\wbr}วิเคราะห์{\wbr}ให้{\wbr}ละเอียด{\wbr}ระดับ{\wbr}นี้{\wbr}ได้{\wbr}
จะ{\wbr}ต้อง{\wbr}ใช้{\wbr}ข้อมูล{\wbr}และ{\wbr}ความ{\wbr}รู้{\wbr}เกี่ยวกับ{\wbr}เครื่อง{\wbr}คอมพิวเตอร์{\wbr}ที่{\wbr}จะ{\wbr}นำ{\wbr}โปรแกรม{\wbr}ไป{\wbr}ทำงาน{\wbr}
และ{\wbr}การ{\wbr}ปรับ{\wbr}โปรแกรม{\wbr}ให้{\wbr}ทำงาน{\wbr}ได้{\wbr}ดี{\wbr}ใน{\wbr}ลักษณะ{\wbr}นี้ แม้{\wbr}จะ{\wbr}เป็น{\wbr}งาน{\wbr}เชิง{\wbr}วิศวกรรม{\wbr}ที่{\wbr}น่า{\wbr}สนใจ{\wbr}
แต่{\wbr}ก็{\wbr}อยู่{\wbr}นอก{\wbr}ขอบเขต{\wbr}ของ{\wbr}หนังสือ{\wbr}เล่ม{\wbr}นี้{\wbr}

สังเกต{\wbr}ว่า ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้{\wbr}วิธี{\wbr}ที่{\wbr}เรา{\wbr}กล่าว{\wbr}มา{\wbr}แล้ว{\wbr}
เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}ทั้ง{\wbr}สอง{\wbr}ฟังก์ชัน{\wbr}จะ{\wbr}มี{\wbr}ค่า{\wbr}เท่า{\wbr}กัน แต่{\wbr}เวลา{\wbr}ที่{\wbr}ใช้{\wbr}งาน{\wbr}จริง กลับ{\wbr}แตกต่าง{\wbr}กัน{\wbr}มาก{\wbr}
ฟังก์ชัน{\wbr}ดังกล่าว{\wbr}เป็น{\wbr}ตัวอย่าง{\wbr}หนึ่ง{\wbr}ของ{\wbr}ความ{\wbr}คลาดเคลื่อน{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}
ที่{\wbr}เป็น{\wbr}ผล{\wbr}มา{\wbr}จาก{\wbr}สถาปัตยกรรม{\wbr}ของ{\wbr}คอมพิวเตอร์{\wbr}และ{\wbr}รูปแบบ{\wbr}การ{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}ของ{\wbr}ภาษา{\wbr}โปรแกรม{\wbr}ที่{\wbr}ใช้{\wbr}

\subsection{สัญกรณ์โอ{\wbr}ใหญ่ (Big-O)}
\label{sect:analysis-big-o-definition}

เป้าหมาย{\wbr}หลัก{\wbr}ของ{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}
นอกจาก{\wbr}เพื่อ{\wbr}จะ{\wbr}พิจารณา{\wbr}ความ{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ที่{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}จะ{\wbr}มี{\wbr}ประสิทธิภาพ{\wbr}พอ{\wbr}แล้ว{\wbr}
ยัง{\wbr}ทำ{\wbr}ไป{\wbr}เพื่อ{\wbr}เลือก{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}เหมาะสม{\wbr}ที่สุด{\wbr}ที่{\wbr}จะ{\wbr}นำมา{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}
ดังนั้น{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เรา{\wbr}ต้องการ{\wbr}ให้{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}มี{\wbr}ประสิทธิภาพ{\wbr}แตกต่าง{\wbr}กัน{\wbr}
มี{\wbr}เวลา{\wbr}ที่{\wbr}วิเคราะห์{\wbr}ได้{\wbr}แตกต่าง{\wbr}กัน{\wbr}และ{\wbr}สามารถ{\wbr}เปรียบเทียบ{\wbr}กัน{\wbr}ได้{\wbr}

\begin{quiz}{}
จาก{\wbr}ฟังก์ชัน{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}วิเคราะห์{\wbr}ได้{\wbr}ด้าน{\wbr}ล่าง{\wbr}
พิจารณา{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}ใด{\wbr}เปรียบเทียบ{\wbr}กัน{\wbr}ได้{\wbr}อย่าง{\wbr}มี{\wbr}ความหมาย{\wbr}ใน{\wbr}แง่{\wbr}ของ{\wbr}ประสิทธิภาพ{\wbr}
\[
2n, \ \ \ \ n^3 + 4n, \ \ \ \ 10n^2, \ \ \ \ 0.5n + 100, \ \ \ \ 3n^2 + 1000n
\]
\end{quiz}

จาก{\wbr}ตัวอย่าง{\wbr}ใน{\wbr}เนื้อหา{\wbr}ส่วน{\wbr}ที่แล้ว เรา{\wbr}พบ{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}ของ{\wbr}เวลา{\wbr}ที่{\wbr}เรา{\wbr}วิเคราะห์{\wbr}ได้{\wbr}นั้น{\wbr}
ค่าคงที่{\wbr}ที่{\wbr}ติด{\wbr}มา{\wbr}ใน{\wbr}นิพจน์{\wbr}นั้น{\wbr}ไม่{\wbr}มี{\wbr}ผล{\wbr}ชัดเจน{\wbr}ใน{\wbr}การ{\wbr}ระบุ{\wbr}ความ{\wbr}เร็ว{\wbr}หรือ{\wbr}ช้า{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม นอกจากนี้{\wbr}
ถ้า{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}ได้{\wbr}มี{\wbr}หลาย{\wbr}พจน์ พจน์{\wbr}ที่{\wbr}มี{\wbr}กำลัง{\wbr}ต่ำ{\wbr}กว่า{\wbr}จะ{\wbr}มี{\wbr}ผล{\wbr}ใน{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}น้อย{\wbr}ลง{\wbr}
ถ้า{\wbr}ข้อมูล{\wbr}มี{\wbr}ขนาด{\wbr}ใหญ่{\wbr}ขึ้น{\wbr}เรื่อย ๆ จาก{\wbr}ข้อสังเกต{\wbr}ทั้ง{\wbr}สอง{\wbr}
ใน{\wbr}การ{\wbr}เปรียบเทียบ{\wbr}เรา{\wbr}สามารถ{\wbr}ตัด{\wbr}ส่วน{\wbr}ของ{\wbr}นิพจน์{\wbr}ที่{\wbr}ไม่{\wbr}สำคัญ{\wbr}ออก{\wbr}ได้{\wbr}
โดย{\wbr}ฟังก์ชัน{\wbr}ตัวอย่าง{\wbr}ใน{\wbr}คำถาม{\wbr}ข้างต้น เมื่อ{\wbr}ตัด{\wbr}ค่าคงที่{\wbr}และ{\wbr}พจน์{\wbr}ที่{\wbr}มี{\wbr}กำลัง{\wbr}ต่ำ{\wbr}ออก{\wbr}ไป{\wbr}แล้ว{\wbr}
จะ{\wbr}เป็น{\wbr}ดัง{\wbr}ด้าน{\wbr}ล่าง{\wbr}
\[
n, \ \ \ \ n^3, \ \ \ \ n^2, \ \ \ \ n, \ \ \ \ n^2
\]
ซึ่ง{\wbr}ฟังก์ชัน{\wbr}เหล่านี้{\wbr}จะ{\wbr}บอก{\wbr}แนวโน้ม{\wbr}ของ{\wbr}การ{\wbr}โต{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}

ก่อน{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}เสนอ{\wbr}นิยาม{\wbr}ของ{\wbr}การ{\wbr}โต{\wbr}อย่าง{\wbr}เป็นทางการ เรา{\wbr}จำเป็น{\wbr}ต้อง{\wbr}ย้ำ{\wbr}อีก{\wbr}ที{\wbr}ว่า{\wbr}
การ{\wbr}ที่{\wbr}เรา{\wbr}ละทิ้ง{\wbr}หรือ{\wbr}ตัด{\wbr}ค่าคงที่{\wbr}ออก{\wbr}ไป{\wbr}นั้น{\wbr}ไม่{\wbr}ได้{\wbr}หมายความ{\wbr}ว่า{\wbr}ค่าคงที่{\wbr}ต่าง ๆ
ไม่{\wbr}มี{\wbr}ผล{\wbr}ต่อ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน หลาย ๆ อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}วิเคราะห์{\wbr}ออก{\wbr}มา{\wbr}พบ{\wbr}ว่า{\wbr}ประสิทธิภาพ{\wbr}ดี{\wbr}
แต่{\wbr}เมื่อ{\wbr}ทำงาน{\wbr}จริง{\wbr}กลับ{\wbr}ช้า{\wbr}กว่า{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}วิเคราะห์{\wbr}ออก{\wbr}มา{\wbr}ได้{\wbr}ว่า{\wbr}มี{\wbr}ประสิทธิภาพ{\wbr}ต่ำ{\wbr}กว่า{\wbr}
ทั้งนี้{\wbr}เนื่องจาก{\wbr}ค่าคงที่{\wbr}ต่าง ๆ ที่{\wbr}ผู้{\wbr}วิเคราะห์{\wbr}ได้{\wbr}ละทิ้ง{\wbr}ออก{\wbr}จาก{\wbr}การ{\wbr}พิจารณา{\wbr}
ทั้งนี้{\wbr}โดยมาก{\wbr}เป็น{\wbr}เพราะว่า{\wbr}ขนาด{\wbr}ของ{\wbr}ข้อมูล{\wbr}ป้อน{\wbr}เข้า{\wbr}มี{\wbr}ขนาด{\wbr}ไม่{\wbr}ใหญ่{\wbr}พอ{\wbr}
ที่{\wbr}ผล{\wbr}ของ{\wbr}อัตรา{\wbr}การ{\wbr}โต{\wbr}จะ{\wbr}ชนะ{\wbr}ผล{\wbr}ของ{\wbr}ค่าคงที่ เรา{\wbr}จะ{\wbr}ได้{\wbr}เห็น{\wbr}ตัวอย่าง{\wbr}ที่{\wbr}ชัดเจน{\wbr}ขึ้น{\wbr}ต่อไป{\wbr}

\begin{quiz}{}
พิจารณา{\wbr}คู่{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}ต่อไปนี้ ให้{\wbr}หา{\wbr}ค่า $n$ ที่{\wbr}รับประกัน{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}แรก{\wbr}จะ{\wbr}มี{\wbr}ค่า{\wbr}น้อย{\wbr}กว่า{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}สอง{\wbr}
(1) $10000$ กับ $n$, \ \ (2) $1000n$ กับ $n^2$, \ \ (3) $5000n$ กับ $2n^2 -
100n$, \ \ และ (4) $10000n$ กับ $0.01n^3$
\end{quiz}

ใน{\wbr}การ{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}บอก{\wbr}ว่า{\wbr}ฟังก์ชัน{\wbr}หนึ่ง มี{\wbr}ขอบเขต{\wbr}บน{\wbr}ของ{\wbr}การ{\wbr}โต{\wbr}เป็น{\wbr}อะไร{\wbr}เรา{\wbr}จะ{\wbr}ใช้{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่{\wbr}
(big-O notation) โดย{\wbr}ตัวอย่าง{\wbr}ของ{\wbr}การ{\wbr}ใช้{\wbr}สัญกรณ์{\wbr}ดัง{\wbr}กล่า่ว เช่น $n^2 + 100n$ เป็น{\wbr}
$O(n^2)$ หรือ $30n + 5$ เป็น $O(n)$ 

เรา{\wbr}จะ{\wbr}หา{\wbr}คำ{\wbr}นิยาม{\wbr}ที่{\wbr}สะท้อน{\wbr}สิ่ง{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}ทดลอง{\wbr}มา{\wbr}ใน{\wbr}การ{\wbr}ที่{\wbr}จะ{\wbr}ระบุ{\wbr}ว่า{\wbr}ฟังก์ชัน $f(n)$ เป็น{\wbr}
$O(g(n))$ (หรือ{\wbr}มี{\wbr}อัตรา{\wbr}การ{\wbr}โต{\wbr}ไม่{\wbr}เกิน{\wbr}ฟังก์ชัน $g(n)$)
\begin{itemize}
\item ข้อสังเกต{\wbr}ข้อ{\wbr}แรก{\wbr}ก็{\wbr}คือ ค่าคงที่{\wbr}ไม่{\wbr}มี{\wbr}ผล นั่น{\wbr}คือ{\wbr}ฟังก์ชัน $100n$ หรือ $1000n$ หรือ{\wbr}กระทั่ง{\wbr}
  $0.0001n$ ก็{\wbr}เป็น $O(n)$ เหมือน{\wbr}กัน ดังนั้น{\wbr}ใน{\wbr}การ{\wbr}จะ{\wbr}กล่าว{\wbr}ว่า $f(n)$ เป็น $O(g(n))$
  เรา{\wbr}ต้อง{\wbr}ยอม{\wbr}ให้{\wbr}มี{\wbr}การ{\wbr}ใช้{\wbr}ค่าคงที่{\wbr}มา ``ช่วย'' ฟังก์ชัน $g(n)$
  ให้{\wbr}มี{\wbr}ค่า{\wbr}มาก{\wbr}ขึ้น{\wbr}จน{\wbr}เปรียบเทียบ{\wbr}กับ $f(n)$ ได้{\wbr}
\item ข้อสังเกต{\wbr}ข้อ{\wbr}ที่{\wbr}สอง{\wbr}คือ พจน์{\wbr}ที่{\wbr}มี{\wbr}กำลัง{\wbr}ต่ำ ๆ จะ{\wbr}ไม่{\wbr}มี{\wbr}ผล{\wbr}
  การ{\wbr}ที่{\wbr}จะ{\wbr}ทำ{\wbr}ให้{\wbr}พจน์{\wbr}ดังกล่าว{\wbr}ลด{\wbr}ความ{\wbr}สำคัญ{\wbr}ลง{\wbr}ไป{\wbr}นั้น เรา{\wbr}จะ{\wbr}ต้อง{\wbr}วิเคราะห์{\wbr}ฟังก์ชัน{\wbr}เมื่อ $n$
  มี{\wbr}ค่า{\wbr}มาก~ๆ เพื่อให้{\wbr}พจน์{\wbr}ที่{\wbr}สำคัญ{\wbr}น้อย{\wbr}มี{\wbr}ผล{\wbr}ต่อ{\wbr}ค่า{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}ลด{\wbr}ลง{\wbr}
\end{itemize}

\begin{quiz}{ทดลอง{\wbr}สร้าง{\wbr}คำ{\wbr}นิยาม}
จาก{\wbr}ข้อสังเกต{\wbr}สอง{\wbr}ข้อ{\wbr}ข้างต้น ทดลอง{\wbr}เขียน{\wbr}คำ{\wbr}นิยาม{\wbr}ของ{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่: \\
เรา{\wbr}จะ{\wbr}กล่าว{\wbr}ว่า $f(n)$ เป็น $O(g(n))$ เมื่อ ...................
\end{quiz}

พิจารณา{\wbr}กรณี{\wbr}ที่{\wbr}เรา{\wbr}ต้องการ{\wbr}แสดง{\wbr}ว่า $3n+100$ เป็น $O(n)$ (นั่น{\wbr}คือ{\wbr}ใน{\wbr}ที่นี้ $f(n)=3n+100$
และ $g(n)=n$ และ{\wbr}เรา{\wbr}ต้องการ{\wbr}แสดง{\wbr}ว่า $f(n)$ เป็น $O(g(n))$) สังเกต{\wbr}ว่า{\wbr}
\[
3n + 100 > n,
\]
สำหรับ{\wbr}ทุก ๆ $n\geq 0$ ดังนั้น{\wbr}เรา{\wbr}จำเป็น{\wbr}จะ{\wbr}ต้อง{\wbr}เพิ่ม{\wbr}ค่าคงที่{\wbr}ให้{\wbr}กับ{\wbr}ฟังก์ชัน $g(n)$
อย่างไรก็ตาม{\wbr}ถ้า{\wbr}เรา{\wbr}คูณ $g(n)$ ด้วย 3 ก็{\wbr}ยัง{\wbr}ไม่{\wbr}เพียงพอ{\wbr}เพราะว่า{\wbr}
\[
3n + 100 > 3\cdot n,
\]
อยู่{\wbr}ดี  ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}คูณ $g(n)$ ด้วย 4  อย่างไรก็ตาม อสมการ{\wbr}
\[
3n + 100 \leq 4\cdot n
\]
ก็{\wbr}ยัง{\wbr}ไม่{\wbr}เป็นจริง{\wbr}สำหรับ{\wbr}ทุก ๆ ค่า $n$ ที่มา{\wbr}กก{\wbr}ว่า{\wbr}หรือ{\wbr}เท่า{\wbr}กับ{\wbr}ศูนย์{\wbr}

\begin{quiz}{ขีดจำกัด{\wbr}ล่าง}
ค่า $n$ จะ{\wbr}ต้อง{\wbr}มี{\wbr}ค่า{\wbr}อย่าง{\wbr}น้อย{\wbr}เท่าใด อสมการ $3n+100\leq 4n$ จึง{\wbr}จะ{\wbr}เป็นจริง?
\end{quiz}

จาก{\wbr}ตัวอย่าง{\wbr}ข้างต้น เรา{\wbr}ใช้{\wbr}ค่าคงที่{\wbr}สอง{\wbr}ตัว{\wbr}คือ $c$ เป็น{\wbr}ค่าคงที่{\wbr}สำหรับ{\wbr}เป็น{\wbr}ตัวคูณ{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}
$g(n)$ และ $n_0$ เพื่อ{\wbr}ระบุ{\wbr}ขอบเขต{\wbr}ล่าง{\wbr}ของ{\wbr}ขนาด{\wbr}ข้อมูล{\wbr}ที่{\wbr}เรา{\wbr}สนใจ{\wbr}
เรา{\wbr}จะ{\wbr}นิยาม{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่{\wbr}อย่าง{\wbr}เป็นทางการ{\wbr}ดังนี้:

เรา{\wbr}จะ{\wbr}กล่าว{\wbr}ว่า{\wbr}ฟังก์ชัน $f(n)$ เป็น $O(g(n))$ ก็{\wbr}ต่อเมื่อ มี{\wbr}ค่าคงที่ $c$ และ $n_0$ ที่{\wbr}
$f(n) \leq c\cdot g(n)$ เมื่อ $n\geq n_0$

ใน{\wbr}กรณี{\wbr}ดังกล่าว บาง{\wbr}ครั้ง{\wbr}เรา{\wbr}ก็{\wbr}จะ{\wbr}กล่าว{\wbr}ว่า $f(n)$ มี{\wbr}การ{\wbr}โต{\wbr}เป็น $O(g(n))$ หรือ{\wbr}เขียน{\wbr}ว่า{\wbr}
$f(n)=O(g(n))$ ซึ่ง{\wbr}ใน{\wbr}กรณี{\wbr}หลัง{\wbr}นี้ เครื่องหมาย{\wbr}เท่า{\wbr}กับ{\wbr}ที่{\wbr}ใช้ ไม่{\wbr}ได้{\wbr}มี{\wbr}ความหมาย{\wbr}ว่า{\wbr}เท่า{\wbr}กัน{\wbr}
แต่{\wbr}เป็น{\wbr}การ{\wbr}บิด{\wbr}สัญกรณ์{\wbr}เท่า{\wbr}กับ{\wbr}ให้{\wbr}เป็น{\wbr}ความหมาย{\wbr}ตาม{\wbr}ที่{\wbr}เรา{\wbr}นิยาม{\wbr}มา{\wbr}แล้ว\footnote{ซึ่ง{\wbr}ถ้า{\wbr}จะ{\wbr}ให้{\wbr}ถูกต้อง{\wbr}ตาม{\wbr}นิยาม{\wbr}จริง{\wbr}
  ๆ เรา{\wbr}จะ{\wbr}ต้อง{\wbr}นิยาม{\wbr}สัญกรณ์ $O(\cdot)$ ว่า{\wbr}เป็น{\wbr}เซต{\wbr}ของ{\wbr}ฟังก์ชัน แล้ว{\wbr}ใช้{\wbr}เครื่องหมาย $\in$
  แทน{\wbr}เครื่องหมาย{\wbr}เท่า{\wbr}กับ เช่น เรา{\wbr}จะ{\wbr}เขียน{\wbr}ว่า $3n+100\in O(n)$ แทน{\wbr}ที่{\wbr}จะ{\wbr}เขียน{\wbr}
  $3n+100=O(n)$
  แต่{\wbr}ใน{\wbr}หนังสือ{\wbr}เล่ม{\wbr}นี้{\wbr}เรา{\wbr}ยินดี{\wbr}จะ{\wbr}บิด{\wbr}พ{\wbr}ริ้ว{\wbr}นิยาม{\wbr}ของ{\wbr}สัญกรณ์{\wbr}เท่า{\wbr}กับ{\wbr}เพื่อ{\wbr}ความ{\wbr}เรียบ{\wbr}ง่าย}

สำหรับ{\wbr}ตัวอย่าง{\wbr}ข้างต้น{\wbr}ที่{\wbr}เรา{\wbr}แสดง{\wbr}ว่า $3n+100$ เป็น $O(n)$ นั้น เรา{\wbr}ใช้ $c=4$ และ{\wbr}
$n_0$ ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ก็{\wbr}คือ 100 อย่างไรก็ตาม เรา{\wbr}สามารถ{\wbr}เลือก{\wbr}คู่{\wbr}ของ{\wbr}ค่าคงที่ $c$ และ $n_0$
แบบ{\wbr}อื่น ๆ ได้{\wbr}อีก เช่น ถ้า{\wbr}เรา{\wbr}ให้ $c=13$ เรา{\wbr}อาจ{\wbr}ใช้ $n_0=10$ ก็{\wbr}เพียงพอ เพราะว่า{\wbr}
\[
3n+100 \leq 13n
\]
เมื่อ $n\leq 10 = n_0$

คำถาม{\wbr}ทั้ง 3 คำถาม{\wbr}ต่อไป{\wbr}สำคัญ{\wbr}ต่อ{\wbr}การ{\wbr}ทำ{\wbr}ความ{\wbr}เข้าใจ{\wbr}ต่อไป{\wbr}ใน{\wbr}บท{\wbr}นี้{\wbr}

\begin{quiz}{ฟังก์ชัน{\wbr}กำลัง{\wbr}สอง}
จง{\wbr}แสดง{\wbr}ว่า $5n^2 + 100n + 1000$ เป็น $O(n^2)$
\end{quiz}

\begin{quiz}{ฟังก์ชัน{\wbr}ที่{\wbr}ใหญ่{\wbr}กว่า}
จง{\wbr}แสดง{\wbr}ว่า $100n + 1000$ เป็น $O(n^2)$
\end{quiz}

\begin{quiz}{ค่าคงที่}
จง{\wbr}แสดง{\wbr}ว่า สำหรับ{\wbr}ค่าคงที่ $c$ ใด ๆ $c = O(1)$
\end{quiz}

สำหรับ{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}เป็น{\wbr}ฟังก์ชัน{\wbr}พหุ{\wbr}นาม{\wbr}
เรา{\wbr}มี{\wbr}วิธีการ{\wbr}ที่{\wbr}จะ{\wbr}ระบุ{\wbr}การ{\wbr}โต{\wbr}ได้{\wbr}โดย{\wbr}พิจารณา{\wbr}พจน์{\wbr}ที่{\wbr}มี{\wbr}กำลัง{\wbr}มาก{\wbr}ที่สุด เรา{\wbr}จะ{\wbr}พิสูจน์{\wbr}ว่า{\wbr}วิธี{\wbr}ดังกล่าว{\wbr}ถูกต้อง{\wbr}

\begin{theorem}
สำหรับ{\wbr}ฟังก์ชัน $f(n)=a_dn^d + a_{d-1}n^{d-1} + a_{d-2}n^{d-2} +\cdots +
a_1n + a_0$ เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า $f(n)=O(n^d)$
\end{theorem}
\begin{proof}
สังเกต{\wbr}ว่า{\wbr}พจน์{\wbr}ที่{\wbr}มี{\wbr}สัมประสิทธิ์{\wbr}เป็น{\wbr}ลบ จะ{\wbr}ไม่{\wbr}มี{\wbr}ผล{\wbr}ใน{\wbr}การ{\wbr}เปรียบเทียบ{\wbr}กับ $c\cdot n^d$
ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}ตัด{\wbr}ออก{\wbr}ไป โดย{\wbr}พิจารณา{\wbr}อีก{\wbr}ฟังก์ชัน{\wbr}หนึ่ง{\wbr}ที่{\wbr}ทุก{\wbr}สัมประสิทธิ์{\wbr}ไม่{\wbr}เป็น{\wbr}ลบ{\wbr}

นิยาม{\wbr}ฟังก์ชัน $f'(n)$ โดย{\wbr}ให้ $f'(n)=\sum_{i=0}^{d} a'_i n^i$ เมื่อ{\wbr}
$a'_i=\max\{a_i,0\}$ สังเกต{\wbr}ว่า $f(n)\leq f'(n)$ เมื่อ $n \geq 0$ เสมอ{\wbr}

เรา{\wbr}ต้อง{\wbr}เพิ่ม{\wbr}สัมประสิทธิ์{\wbr}ให้{\wbr}กับ $n^d$ เพื่อ{\wbr}จะ{\wbr}ให้{\wbr}ฟังก์ชัน{\wbr}นี้{\wbr}ใหญ่{\wbr}กว่า{\wbr}ทุก ๆ พจน์ สังเกต{\wbr}ว่า{\wbr}
\[
a'_i n^i \leq a'_i n^d
\]
เมื่อ $n\geq 0$, นั่น{\wbr}คือ{\wbr}
\begin{eqnarray*}
a'_d n^d + a'_{d-1}n^{d-1} +\cdots + a'_1n + a'_0 
&\leq&
a'_d n^d + a'_{d-1}n^d +\cdots + a'_1n^d + a'_0n^d\\
&=&
\left(a'_d + a'_{d-1} +\cdots + a'_1 + a'_0\right)n^d,
\end{eqnarray*}
เมื่อ $n\geq 0$ ดังนั้น{\wbr}เรา{\wbr}จะ{\wbr}เลือก{\wbr}ให้ $n_0=0$ และ{\wbr}
\[
c = \left(a'_d + a'_{d-1} +\cdots + a'_1 + a'_0\right)
\]
เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}
\[
f(n) \leq f'(n) \leq c\cdot n^d,
\]
เมื่อ $n\geq n_0=0$, นั่น{\wbr}คือ $f(n)=O(n^d)$ ตาม{\wbr}ต้องการ{\wbr}
\end{proof}

\begin{quiz}{กำลัง{\wbr}ที่มา{\wbr}กก{\wbr}ว่า}
ให้ $f(n) = O(n^d)$ จง{\wbr}แสดง{\wbr}ว่า $f(n) = O(n^e)$ เมื่อ $e\geq d$
\end{quiz}

เนื่องจาก{\wbr}โดยมาก{\wbr}ฟังก์ชัน{\wbr}ของ{\wbr}เรา{\wbr}จะ{\wbr}เป็น{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}ขึ้น{\wbr}กับ $n$
เพื่อ{\wbr}ความ{\wbr}สะดวก{\wbr}เรา{\wbr}จะ{\wbr}ละ{\wbr}อาร์กิวเมนท์ $n$ ไว้ โดย{\wbr}เรา{\wbr}จะ{\wbr}เขียน $f(n)$ ด้วย $f$
นอกจากนี้{\wbr}เรา{\wbr}ยัง{\wbr}เขียน{\wbr}แทน $f(n)+g(n)$ ด้วย $f+g$

ด้าน{\wbr}ล่าง{\wbr}เป็นคุณ{\wbr}สมบัติ{\wbr}อื่น ๆ
ที่{\wbr}มี{\wbr}ประโยชน์{\wbr}ใน{\wbr}การ{\wbr}นำ{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่{\wbr}ไป{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}

\begin{theorem}
ถ้า $f=O(h)$ และ $g=O(h)$ แล้ว $f+g = O(h)$
\end{theorem}
\begin{proof}
เนื่องจาก $f=O(h)$ และ $g=O(h)$ จึง{\wbr}มี{\wbr}ค่าคงที่ $c_1$ และ $n_1$ ที่{\wbr}
\[ f(n) \leq c_1\cdot h(n)\] 
เมื่อ $n\geq n_1$ และ{\wbr}ค่าคงที่ $c_2$ กับ $n_2$ ที่ 
\[ g(n) \leq c_2\cdot h(n) \] 
เมื่อ $n\geq n_2$

ดังนั้น ถ้า{\wbr}ให้ $c=c_1+c_2$ และ $n_0=\max\{n_1,n_2\}$ เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}
\[
f(n) + g(n) \leq c_1\cdot h(n) + c_2\cdot h(n) = c\cdot h(n)
\]
เมื่อ $n\geq n_0$, นั่น{\wbr}คือ $f+g=O(h)$
\end{proof}

\begin{quiz}{}
จง{\wbr}พิสูจน์{\wbr}ว่า ถ้า $f=O(g)$ และ $g=O(h)$ แล้ว $f=O(h)$
\end{quiz}

\begin{quiz}{}
เรา{\wbr}สามารถ{\wbr}คุณสมบัติ{\wbr}สอง{\wbr}คุณสมบัติ{\wbr}ข้างต้น ไป{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ใน{\wbr}ลักษณะ{\wbr}ใด?
\end{quiz}

\subsection{การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}โดย{\wbr}ใช้{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่}

ที่{\wbr}ผ่าน{\wbr}มา{\wbr}เรา{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}อย่าง{\wbr}ละเอียด{\wbr}และ{\wbr}ได้{\wbr}ผลลัพธ์{\wbr}เช่น $2n+2$ หรือ{\wbr}เป็น{\wbr}
$2n^2 + 2n + 4$
จากนั้น{\wbr}เรา{\wbr}จึง{\wbr}ใช้{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่{\wbr}ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}การ{\wbr}โต{\wbr}และ{\wbr}สรุป{\wbr}ว่า{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เป็น $O(n)$
หรือ $O(n^2)$
อย่างไรก็ตาม{\wbr}ถ้า{\wbr}เรา{\wbr}ต้องการ{\wbr}วิเคราะห์{\wbr}แค่{\wbr}อัตรา{\wbr}การ{\wbr}โต{\wbr}ของ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ใน{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่{\wbr}
เรา{\wbr}สามารถ{\wbr}ใช้{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่{\wbr}ระหว่าง{\wbr}การ{\wbr}นับ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}แต่ละ{\wbr}คำสั่ง{\wbr}ใน{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ได้{\wbr}ด้วย{\wbr}

เรา{\wbr}จะ{\wbr}กลับ{\wbr}มา{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม~\ref{algo:analysis-cheapest-pair}
(ใน{\wbr}รูป{\wbr}ที่~\ref{fig:algo-analysis-cheapest-pair}) โดย{\wbr}ใช้{\wbr}สัญกรณ์{\wbr}โอ{\wbr}ใหญ่{\wbr}ตั้งแต่{\wbr}เริ่มต้น{\wbr}
สังเกต{\wbr}ว่า{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}นี้{\wbr}มี{\wbr}การ{\wbr}ทำงาน 4 ส่วนใหญ่ ๆ คือ{\wbr}ส่วน{\wbr}ตอนแรก{\wbr}ที่{\wbr}กำหนด{\wbr}ค่า{\wbr}เริ่มต้น (บรรทัด{\wbr}ที่ 1
และ 2), ส่วน{\wbr}คำนวณ{\wbr}รั้ว{\wbr}เดี่ยว, ส่วน{\wbr}คำนวณ{\wbr}รั้ว{\wbr}คู่, และ{\wbr}ส่วน{\wbr}คืนคำ{\wbr}ตอบ ใน{\wbr}ส่วน{\wbr}แรก{\wbr}และ{\wbr}ส่วน{\wbr}สุดท้าย{\wbr}
ทำงาน{\wbr}ใน{\wbr}เวลา{\wbr}คงที่ ดังนั้น{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}ทำงาน{\wbr}ใน{\wbr}เวลา $O(1)$

สำหรับ{\wbr}ส่วน{\wbr}รั้ว{\wbr}เดี่ยว การ{\wbr}ทำงาน{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 4-6 นั้น{\wbr}แต่ละ{\wbr}คำสั่ง{\wbr}ทำงาน{\wbr}ใน{\wbr}เวลา{\wbr}คงที่{\wbr}
ดังนั้น{\wbr}ใช้เวลา $O(1)$ การ{\wbr}ทำงาน{\wbr}ดังกล่าว ทำ{\wbr}ซ้ำ{\wbr}จำนวน $n$ รอบ ดังนั้น{\wbr}จะ{\wbr}ใช้เวลา{\wbr}รวม{\wbr}เป็น{\wbr}
$O(n)$

ใน{\wbr}ส่วน{\wbr}รั้ว{\wbr}คู่{\wbr}นั้น ถ้า{\wbr}เรา{\wbr}พิจารณา{\wbr}เฉพาะ{\wbr}วงรอบ{\wbr}ภายใน เรา{\wbr}พบ{\wbr}ว่า{\wbr}ไม่ว่า{\wbr}ค่า $i$
จะ{\wbr}เป็น{\wbr}เท่าใด{\wbr}จะ{\wbr}ทำงาน{\wbr}ไม่{\wbr}เกิน $n$ รอบ นั่น{\wbr}คือ{\wbr}การ{\wbr}ทำงาน{\wbr}วน{\wbr}รอบ FOR ใน{\wbr}บรรทัด{\wbr}ที่ 7
แต่ละ{\wbr}รอบ จะ{\wbr}ใช้เวลา $O(n)$ เรา{\wbr}จะ{\wbr}ทำงาน{\wbr}ทั้งสิ้น $n$ รอบ ดังนั้น{\wbr}จะ{\wbr}ใช้เวลา $O(n^2)$

ดังนั้น{\wbr}เวลา{\wbr}รวม{\wbr}คือ $O(1) + O(n) + O(n^2)$ ซึ่ง{\wbr}สามารถ{\wbr}แสดง{\wbr}ได้{\wbr}ไม่{\wbr}ยาก{\wbr}ว่า{\wbr}คือ $O(n^2)$

เรา{\wbr}จะ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อีก{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}หนึ่ง 

TODO: เขียน{\wbr}ส่วน{\wbr}นี้ ให้{\wbr}มี{\wbr}การ{\wbr}เปลี่ยน{\wbr}เทียบ{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}สอง{\wbr}อัน{\wbr}ที่{\wbr}เวลา{\wbr}ไม่{\wbr}เท่า{\wbr}กัน แสดง{\wbr}กราฟ{\wbr}

ใน{\wbr}ส่วน{\wbr}ถัด{\wbr}ไป{\wbr}ของ{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}ได้{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}หลาย{\wbr}แบบ{\wbr}ที่{\wbr}พัฒนา{\wbr}บน{\wbr}อาร์เรย์
และ{\wbr}ใน{\wbr}ส่วน{\wbr}สุดท้าย{\wbr}เรา{\wbr}จะ{\wbr}ได้{\wbr}พิจารณา{\wbr}ตัวอย่าง{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}มี{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}อื่น ๆ

\section{แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม{\wbr}และ{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}อาร์เรย์}

แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม (abstract data types)
ระบุ{\wbr}วิธีการ{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}เข้าถึง{\wbr}และ{\wbr}จัดการ{\wbr}กับ{\wbr}ข้อมูล{\wbr}ผ่าน{\wbr}ทาง{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นั้น ๆ
โดย{\wbr}ไม่{\wbr}จำเป็น{\wbr}ต้อง{\wbr}ระบุ{\wbr}ว่า{\wbr}ขั้นตอน{\wbr}ดำเนินการ{\wbr}จริง ๆ ของ{\wbr}วิธีการ{\wbr}เหล่านั้น{\wbr}เป็น{\wbr}อย่างไร{\wbr}

ใน{\wbr}ส่วน{\wbr}ที่~\ref{sect:array-list-processing}
เรา{\wbr}ได้{\wbr}ศึกษา{\wbr}วิธีการ{\wbr}นำ{\wbr}อาร์เรย์{\wbr}ไป{\wbr}ใช้{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}ที่{\wbr}มี{\wbr}ลักษณะ{\wbr}เป็น{\wbr}รายการ ใน{\wbr}ที่นี้ เมื่อ{\wbr}เรา{\wbr}กล่าว{\wbr}ถึง{\wbr}
`{\wbr}`{\wbr}รายการ'' เรา{\wbr}จะ{\wbr}มี{\wbr}ภาพ{\wbr}อยู่{\wbr}ว่า{\wbr}เรา{\wbr}จะ{\wbr}ต้อง{\wbr}ดำเนินการ{\wbr}อะไร{\wbr}กับ{\wbr}รายการ{\wbr}ได้{\wbr}บ้าง{\wbr}
นั่น{\wbr}คือ{\wbr}วิธีการ{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}เข้าถึง{\wbr}และ{\wbr}จัดการ{\wbr}กับ{\wbr}ข้อมูล{\wbr}ใน{\wbr}รายการ ซึ่ง{\wbr}จริง ๆ แล้ว{\wbr}
เรา{\wbr}อาจ{\wbr}จะ{\wbr}ใช้{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}แบบ{\wbr}อื่น{\wbr}ใน{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ไม่{\wbr}จำเป็น{\wbr}ต้อง{\wbr}เป็น{\wbr}อาร์เรย์{\wbr}ก็ได้{\wbr}

เรา{\wbr}จะ{\wbr}เรียก{\wbr}กระบวนการ{\wbr}ทั้งหมด{\wbr}ที่{\wbr}เรา{\wbr}สามารถ{\wbr}เรียก{\wbr}ใช้{\wbr}งาน{\wbr}กับ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม{\wbr}ว่า{\wbr}อิน{\wbr}เทอร์เฟส
(interface) ของ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นั้น สำหรับ{\wbr}ข้อมูล{\wbr}แบบ{\wbr}รายการ{\wbr}ที่{\wbr}เรา{\wbr}ได้{\wbr}พิจารณา{\wbr}มา{\wbr}แล้ว{\wbr}
จะ{\wbr}มี{\wbr}อิน{\wbr}เทอร์เฟส{\wbr}โดย{\wbr}ทั่วไป{\wbr}ดังนี้{\wbr}

\begin{itemize}
\item IsEmpty($L$) ตรวจสอบ{\wbr}ว่า{\wbr}รายการ $L$ ว่างเปล่า{\wbr}หรือ{\wbr}ไม่{\wbr}
\item Find($L$,$x$) - ค้นหา{\wbr}ข้อมูล $x$ ใน $L$ แล้ว{\wbr}คืน{\wbr}ผลลัพธ์{\wbr}เป็น{\wbr}ข้อมูล{\wbr}ที่{\wbr}ทำ{\wbr}ให้{\wbr}อ้าง{\wbr}ถึง{\wbr}
  $x$ ใน{\wbr}รายการ{\wbr}ได้ (ซึ่ง{\wbr}จะ{\wbr}ถูก{\wbr}ใช้{\wbr}ใน{\wbr}คำสั่ง Delete และ Insert ได้)
\item Append($L$,$x$) - เพิ่ม{\wbr}ข้อมูล $x$ ท้าย{\wbr}รายการ $L$
\item Delete($L$,$p$) - ลบ{\wbr}ข้อมูล{\wbr}ที่{\wbr}ถูก{\wbr}อ้าง{\wbr}ถึง{\wbr}โดย $p$
\item InsertAfter($L$,$p$,$x$) - เพิ่ม{\wbr}ข้อมูล $x$ ต่อ{\wbr}จาก{\wbr}ข้อมูล{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}โดย $p$
\end{itemize}

สังเกต{\wbr}ว่า อิน{\wbr}เทอร์เฟส{\wbr}ดังกล่าว{\wbr}
มี{\wbr}ความ{\wbr}แตกต่าง{\wbr}จาก{\wbr}รูปแบบ{\wbr}ที่{\wbr}เรา{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}ประกาศ{\wbr}ฟังก์ชัน{\wbr}ที่ทำงาน{\wbr}ดังกล่าว{\wbr}เล็กน้อย{\wbr}
ความ{\wbr}แตกต่าง{\wbr}นี้{\wbr}ไม่{\wbr}ใช่{\wbr}สิ่ง{\wbr}สลักสำคัญ{\wbr}มาก{\wbr}นัก{\wbr}เมื่อ{\wbr}เรา{\wbr}ออกแบบ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}
และ{\wbr}การ{\wbr}นำ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}ใป{\wbr}ใช้{\wbr}จริง{\wbr}ก็{\wbr}มักจะ{\wbr}ต้อง{\wbr}อ้างอิง{\wbr}กับ{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ตลอด{\wbr}อยู่{\wbr}ดี อย่างไรก็ตาม{\wbr}
ถ้า{\wbr}อิน{\wbr}เทอร์เฟส{\wbr}ของ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม{\wbr}นี้{\wbr}เหมือน{\wbr}กัน{\wbr}
ไม่ว่า{\wbr}จะ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ใด{\wbr}
ก็{\wbr}จะ{\wbr}ทำ{\wbr}ให้การ{\wbr}เปลี่ยน{\wbr}ประเภท{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ใน{\wbr}โปรแกรม{\wbr}ทำ{\wbr}ได้{\wbr}สะดวก{\wbr}
ใน{\wbr}บท{\wbr}ที่~\ref{chapter:classes} เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}วิธีการ{\wbr}พัฒนา{\wbr}โปรแกรม{\wbr}ภาษา C++
เพื่อ{\wbr}ทำ{\wbr}ให้{\wbr}บรรลุ{\wbr}จุดประสงค์{\wbr}นี้{\wbr}

ผู้อ่าน{\wbr}ที่{\wbr}สนใจ{\wbr}อาจ{\wbr}สงสัย{\wbr}ว่า{\wbr}เมื่อ{\wbr}มี InsertAfter ทำไม{\wbr}ไม่{\wbr}มี{\wbr}การ{\wbr}ระบุ{\wbr}กระบวนการ{\wbr}
\begin{itemize}
\item InsertBefore($L$,$p$,$x$) - เพิ่ม{\wbr}ข้อมูล $x$ ก่อนหน้า{\wbr}ข้อมูล{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}โดย $p$
\end{itemize}
อยู่{\wbr}ใน{\wbr}รายการ{\wbr}อิน{\wbr}เทอร์เฟส ใน{\wbr}บท{\wbr}ต่อ ๆ ไป เรา{\wbr}จะ{\wbr}พบ{\wbr}ว่า{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ที่{\wbr}จะ{\wbr}รองรับ{\wbr}ทั้ง{\wbr}
InsertAfter และ InsertBefore ได้{\wbr}พร้อม ๆ
กัน{\wbr}จะ{\wbr}ต้อง{\wbr}มี{\wbr}ภาระ{\wbr}มาก{\wbr}กว่า{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ที่{\wbr}รองรับ{\wbr}แค่{\wbr}รูปแบบ{\wbr}เดียว{\wbr}และ{\wbr}เรา{\wbr}จะ{\wbr}ได้{\wbr}พัฒนา{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ดังกล่าว{\wbr}ด้วย{\wbr}
อย่างไรก็ตาม{\wbr}ใน{\wbr}บท{\wbr}นี้ เรา{\wbr}จะ{\wbr}ยัง{\wbr}ไม่{\wbr}พิจารณา{\wbr}กระบวนการ{\wbr}ดังกล่าว{\wbr}

ตาราง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:array-running-time-list-by-array}
แสดง{\wbr}เวลา{\wbr}ที่{\wbr}เรา{\wbr}เคย{\wbr}ได้{\wbr}วิเคราะห์{\wbr}ไว้{\wbr}ใน{\wbr}รูป{\wbr}ของ{\wbr}อัตรา{\wbr}การ{\wbr}โต เมื่อ{\wbr}รายการ{\wbr}มี{\wbr}ข้อมูล $n$ จำนวน{\wbr}

\begin{figure}
\begin{center}
\begin{tabular}{|l|c|}\hline
กระบวนการ & เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}เมื่อ{\wbr}พัฒนา{\wbr}ด้วย{\wbr}อาร์เรย์ \\
\hline
IsEmpty & $O(1)$\\
Find & $O(n)$\\
Append & $O(1)$\\
Delete & $O(n)$\\
InsertAfter & $O(n)$\\
\hline
\end{tabular}
\end{center}
\caption{เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}กระบวนการ{\wbr}ต่าง ๆ ของ{\wbr}รายการ ที่{\wbr}พัฒนา{\wbr}ด้วย{\wbr}อาร์เรย์}
\label{fig:array-running-time-list-by-array}
\end{figure}

สำหรับ{\wbr}รายการ{\wbr}โดย{\wbr}ทั่วไป{\wbr}แล้ว เรา{\wbr}อาจ{\wbr}จะ{\wbr}มี{\wbr}กระบวนการ{\wbr}อื่น ๆ อีก เช่น{\wbr}
นำ{\wbr}รายการ{\wbr}ที่{\wbr}สอง{\wbr}ไป{\wbr}ต่อท้าย{\wbr}รายการ{\wbr}แรก หรือ{\wbr}นำ{\wbr}รายการ{\wbr}หนึ่ง{\wbr}ไป{\wbr}แทรก{\wbr}ภายใน{\wbr}อีก{\wbr}รายการ{\wbr}หนึ่ง{\wbr}
กระบวนการ{\wbr}เหล่านี้{\wbr}สามารถ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}อาร์เรย์{\wbr}ได้{\wbr}ไม่{\wbr}ยาก{\wbr}นัก และ{\wbr}โดยมาก{\wbr}จะ{\wbr}ใช้เวลา{\wbr}
$O(n)$ เมื่อ $n$ แทน{\wbr}จำนวน{\wbr}ข้อมูล{\wbr}ที่อยู่{\wbr}ใน{\wbr}รายการ{\wbr}

\subsubsection{การ{\wbr}วิ่ง{\wbr}ไป{\wbr}ใน{\wbr}ชุด{\wbr}ของ{\wbr}ข้อมูล}

อิน{\wbr}เทอร์เฟส{\wbr}ที่{\wbr}เรา{\wbr}กล่าว{\wbr}ไป{\wbr}แล้ว{\wbr}นั้น{\wbr}ยัง{\wbr}ขาด{\wbr}กลุ่ม{\wbr}กระบวนการ{\wbr}เข้าถึง{\wbr}ข้อมูล{\wbr}ทุก{\wbr}ตัว{\wbr}ใน{\wbr}รายการ{\wbr}ไป{\wbr}ทีละ{\wbr}ตัว{\wbr}
รูปแบบ{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}ใช้{\wbr}จะ{\wbr}สอดคล้อง{\wbr}กับ{\wbr}การ{\wbr}ใช้{\wbr}งาน{\wbr}ตัว{\wbr}วิ่ง (iterator) ใน{\wbr}ไลบ{\wbr}รา{\wbr}รี{\wbr}มาตรฐาน{\wbr}ของ C++

ใน{\wbr}การ{\wbr}อ้าง{\wbr}ถึง{\wbr}ข้อมูล{\wbr}ทุก{\wbr}ตัว{\wbr}ใน{\wbr}รายการ{\wbr}
เรา{\wbr}จะ{\wbr}ใช้{\wbr}ตัว{\wbr}วิ่ง{\wbr}ที่{\wbr}มี{\wbr}ลักษณะ{\wbr}การ{\wbr}ทำงาน{\wbr}เหมือน{\wbr}กับ{\wbr}การ{\wbr}ใช้{\wbr}พอยน์เตอร์{\wbr}วิ่ง{\wbr}ไป{\wbr}ใน{\wbr}อาร์เรย์
สังเกต{\wbr}ว่า{\wbr}ใน{\wbr}กรณี{\wbr}ของ{\wbr}อาร์เรย์ เรา{\wbr}ยัง{\wbr}สามารถ{\wbr}ใช้{\wbr}ดัชนี{\wbr}ใน{\wbr}การ{\wbr}ไล่{\wbr}พิจารณา{\wbr}ข้อมูล{\wbr}ทุก{\wbr}ตัว{\wbr}ได้{\wbr}
แต่{\wbr}กับ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}อื่น ๆ การ{\wbr}ใช้{\wbr}ดัชนี{\wbr}อาจ{\wbr}จะ{\wbr}ไม่{\wbr}ใช้{\wbr}วิธี{\wbr}ที่{\wbr}เป็นธรรม{\wbr}ชาติ{\wbr}นัก{\wbr}

ตัว{\wbr}วิ่ง{\wbr}ที่{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}ไล่{\wbr}พิจารณา{\wbr}ข้อมูล{\wbr}นี้ มัก{\wbr}นิยม{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}อ้าง{\wbr}ถึง{\wbr}ข้อมูล{\wbr}ใน{\wbr}การ{\wbr}ใช้{\wbr}งาน{\wbr}กระบวนการ{\wbr}เช่น{\wbr}
Delete หรือ InsertAfter ด้วย{\wbr}

เรา{\wbr}จะ{\wbr}นิยาม{\wbr}อิน{\wbr}เทอร์เฟส{\wbr}เพิ่มเติม{\wbr}ดังนี้{\wbr}
\begin{itemize}
\item Begin($L$) คืนตัว{\wbr}วิ่ง{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}ข้อมูล{\wbr}ตัว{\wbr}แรก{\wbr}ใน{\wbr}รายการ $L$
\item End($L$) คืนตัว{\wbr}วิ่ง{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}ตำแหน่ง{\wbr}ที่{\wbr}ไม่{\wbr}มี{\wbr}ข้อมูล{\wbr}แล้ว{\wbr}ของ{\wbr}รายการ $L$
  (เรา{\wbr}จะ{\wbr}ใช้{\wbr}ตัว{\wbr}วิ่ง{\wbr}นี้{\wbr}ใน{\wbr}การ{\wbr}ระบุ{\wbr}จุดสิ้นสุด{\wbr}ของ{\wbr}ข้อมูล)
\item Next($p$) คืนตัว{\wbr}วิ่ง{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}ข้อมูล{\wbr}ถัดจาก{\wbr}ตัว{\wbr}วิ่ง $p$
\item Value($p$) คือ{\wbr}ข้อมูล{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}โดย{\wbr}ตัว{\wbr}วิ่ง $p$
\end{itemize}

การ{\wbr}ใช้{\wbr}งาน{\wbr}ตัว{\wbr}วิ่ง{\wbr}จะ{\wbr}มี{\wbr}ลักษณะ{\wbr}เดียวกัน{\wbr}กับ{\wbr}การ{\wbr}ใช้{\wbr}พอยน์เตอร์{\wbr}วิ่ง{\wbr}ไป{\wbr}ใน{\wbr}อาร์เรย์ ดัง{\wbr}แสดง{\wbr}ใน{\wbr}โปรแกรม{\wbr}ที่~\ref{code:analysis-iterator-and-pointer}

\begin{figure}
\latintext
\begin{codelist}{C++}{caption={\thaitext โปรแกรม{\wbr}ที่{\wbr}หา{\wbr}ผลรวม{\wbr}โดย{\wbr}การ{\wbr}ใช้{\wbr}ตัว{\wbr}วิ่ง{\wbr}ผ่าน{\wbr}ทาง{\wbr}อิน{\wbr}เทอร์เฟส{\wbr}เทียบ{\wbr}กับ{\wbr}การ{\wbr}ใช้{\wbr}พอยน์เตอร์\latintext},label=code:analysis-iterator-and-pointer}
int list_sum_itr(int list[],      | int list_sum_ptr(int list[],
                 int size)        |                  int size)
{                                 | {
  int s = 0;                      |   int s = 0;
  for(list_itr i =                |   for(int* i = &list[0];
        list_begin(list,size);    | 
      i != list_end(list,size);   |       i != &list[size];
      i = list_itr_next(i)) {     |       i = i + 1) {
    s += list_itr_value(i);       |     s += *i;
  }                               |   }
  return s;                       |   return s;
}                                 | }
\end{codelist}
\thaitext
\end{figure}

เรา{\wbr}จะ{\wbr}ประกาศ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล {\ct list\_itr} เพื่อ{\wbr}ใช้{\wbr}เป็น{\wbr}ชนิด{\wbr}ของ{\wbr}ข้อมูล{\wbr}ตัว{\wbr}วิ่ง{\wbr}
โดย{\wbr}จะ{\wbr}ประกาศ{\wbr}ด้วย{\wbr}คีย์{\wbr}เวิร์ด {\ct typedef} ดัง{\wbr}ด้าน{\wbr}ล่าง{\wbr}

\latintext
\begin{codelist}{C++}{}
typedef int* list_itr;
\end{codelist}
\thaitext

ใน{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}เขียน{\wbr}การ{\wbr}ดำเนินการ{\wbr}ดังกล่าว{\wbr}ใน{\wbr}ลักษณะ{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}ธรรมดา{\wbr}
ซึ่ง{\wbr}จะ{\wbr}ทำ{\wbr}ให้การ{\wbr}เรียก{\wbr}ใช้{\wbr}ค่อนข้าง{\wbr}ยุ่งยาก{\wbr}ไม่{\wbr}สะดวก{\wbr}เหมือน{\wbr}กับ{\wbr}การ{\wbr}ใช้{\wbr}งาน{\wbr}พอยน์เตอร์
ใน{\wbr}บท{\wbr}ที่~\ref{chapter:classes} เรา{\wbr}จะ{\wbr}ใช้{\wbr}การ{\wbr}เขียน{\wbr}ฟังก์ชัน{\wbr}ของ{\wbr}ตัวดำเนินการ (operator
overloading) ทำ{\wbr}ให้{\wbr}กระบวนการ{\wbr}ดังกล่าว{\wbr}มี{\wbr}รูปแบบ{\wbr}การ{\wbr}ใช้{\wbr}งาน{\wbr}เหมือน{\wbr}กับ{\wbr}พอยน์เตอร์{\wbr}ดัง{\wbr}ด้าน{\wbr}ขวา{\wbr}

โปรแกรม{\wbr}ที่~\ref{code:analysis-list-operations-in-arrays}
แสดง{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}บาง{\wbr}กระบวนการ{\wbr}ใน{\wbr}อิน{\wbr}เทอร์เฟส{\wbr}ของ{\wbr}รายการ{\wbr}ด้วย{\wbr}อาร์เรย์{\wbr}ตาม{\wbr}ที่{\wbr}ได้{\wbr}กล่าว{\wbr}มา{\wbr}แล้ว{\wbr}
สังเกต{\wbr}ว่า{\wbr}โดยมาก{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}เกี่ยวข้อง{\wbr}กับ{\wbr}ตัว{\wbr}วิ่ง{\wbr}เป็น{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}สั้น การ{\wbr}ประกาศ{\wbr}ให้{\wbr}เป็น {\ct
  inline} จะ{\wbr}ทำ{\wbr}ให้{\wbr}คอม{\wbr}ไพ{\wbr}เลอร์{\wbr}เลือก{\wbr}ที่{\wbr}จะ{\wbr}แทรก{\wbr}ฟังก์ชัน{\wbr}เหล่านี้{\wbr}ลง{\wbr}ไป{\wbr}ยัง{\wbr}จุด{\wbr}ที่{\wbr}เรียก{\wbr}ใช้{\wbr}งาน{\wbr}เลย{\wbr}
แทน{\wbr}ที่{\wbr}จะ{\wbr}มี{\wbr}การ{\wbr}เรียก{\wbr}ฟังก์ชัน{\wbr}จริง ๆ เพื่อ{\wbr}ลด{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}

\begin{figure}
\latintext
\begin{codelist}{C++}{caption={\thaitext การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}บาง{\wbr}กระบวนการ{\wbr}ของ{\wbr}รายการ{\wbr}ด้วย{\wbr}อาร์เรย์\latintext},label=code:analysis-list-operations-in-arrays}
// iterator functions
inline list_itr list_begin(int list[],int size) {return &list[0];}
inline list_itr list_end(int list[],int size) {return &list[size];}
inline list_itr list_itr_next(list_itr p) { return p+1; }
inline int list_itr_value(list_itr p) { return *p; }

// other interesting list functions
void list_delete(int list[], int size, list_itr p)
{
  list_itr end = list_end(list,size);
  list_itr np = list_itr_next(p);
  while(np != end) {
    *p = *np;
    p = np;
    np = list_itr_next(np;
  }
}
\end{codelist}
\thaitext
\end{figure}

ใน{\wbr}การ{\wbr}ใช้{\wbr}งาน {\ct list\_itr} เป็น{\wbr}ตัว{\wbr}วิ่ง{\wbr}ใน{\wbr}การ{\wbr}คืน{\wbr}ค่า{\wbr}จาก{\wbr}ฟังก์ชัน{\wbr}เช่น {\ct list\_find}
เรา{\wbr}จำเป็น{\wbr}จะ{\wbr}ต้อง{\wbr}กำหนด{\wbr}ว่า{\wbr}ถ้า{\wbr}ไม่{\wbr}พบ{\wbr}ข้อมูล ตัว{\wbr}วิ่ง{\wbr}จะ{\wbr}มี{\wbr}ค่า{\wbr}เป็น{\wbr}เช่น{\wbr}ใด{\wbr}
เรา{\wbr}จะ{\wbr}ใช้{\wbr}รูปแบบ{\wbr}เช่นเดียวกับ{\wbr}ไลบ{\wbr}รา{\wbr}รี{\wbr}มาตรฐาน{\wbr}คือ{\wbr}เรา{\wbr}จะ{\wbr}คืน{\wbr}ค่าตัว{\wbr}วิ่ง{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}ตำแหน่ง{\wbr}ที่{\wbr}ไม่{\wbr}มี{\wbr}ข้อมูล{\wbr}
(นั่น{\wbr}คือ{\wbr}จะ{\wbr}มี{\wbr}ค่า{\wbr}เท่า{\wbr}กับ{\wbr}ค่า{\wbr}ที่{\wbr}ได้{\wbr}เมื่อ{\wbr}เรียก{\wbr}ฟังก์ชัน End)

\begin{quiz}{}
ทดลอง{\wbr}เขียน{\wbr}ฟังก์ชัน{\wbr}ทั้งหมด{\wbr}ใน{\wbr}อิน{\wbr}เทอร์เฟส{\wbr}รายการ{\wbr}ด้วย{\wbr}อาร์เรย์
\end{quiz}

เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}ฟังก์ชัน{\wbr}ที่{\wbr}เกี่ยวกับ{\wbr}ตัว{\wbr}วิ่ง{\wbr}ทั้งหมด{\wbr}เป็น{\wbr}ค่าคงที่ นั่น{\wbr}คือ{\wbr}ใช้เวลา $O(1)$ 

\subsection{พจนานุกรม}
พิจารณา{\wbr}ปัญหา{\wbr}ต่อไปนี้{\wbr}

\begin{prob}{}
TODO: เพิ่ม{\wbr}ปัญหา{\wbr}ที่{\wbr}มี{\wbr}การ{\wbr}ใช้{\wbr}พจนานุกรม{\wbr}
\end{prob}

ใน{\wbr}ส่วน{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}ทำ{\wbr}ความ{\wbr}รู้จัก{\wbr}กับ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นามธรรม{\wbr}ที่{\wbr}มี{\wbr}ประโยชน์{\wbr}มาก{\wbr}ที่{\wbr}เรียก{\wbr}ว่า {\em
  พจนานุกรม} หรือ {\em dictionary}
แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นี้{\wbr}รองรับ{\wbr}การ{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}ที่{\wbr}ประกอบ{\wbr}ด้วย{\wbr}ข้อมูล{\wbr}และ{\wbr}กุญแจ{\wbr}
จากนั้น{\wbr}สามารถ{\wbr}ค้นหา{\wbr}ข้อมูล{\wbr}ได้{\wbr}ด้วย{\wbr}กุญแจ ยก{\wbr}ตัวอย่าง{\wbr}เช่น{\wbr}
เรา{\wbr}สามารถ{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}เกี่ยวกับ{\wbr}พนักงาน{\wbr}บริษัท{\wbr}ไว้ โดย{\wbr}ใช้{\wbr}กุญแจ{\wbr}เป็น{\wbr}หมายเลข{\wbr}ประจำตัว{\wbr}พนักงาน{\wbr}
เมื่อ{\wbr}เรา{\wbr}ต้องการ{\wbr}หา{\wbr}ข้อมูล เรา{\wbr}ก็{\wbr}จะ{\wbr}ระบุ{\wbr}หมายเลข{\wbr}ประจำตัว{\wbr}พนักงาน{\wbr}
แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}นี้{\wbr}ก็{\wbr}จะ{\wbr}คืน{\wbr}ข้อมูล{\wbr}ทั้งหมด{\wbr}ของ{\wbr}พนักงาน{\wbr}คน{\wbr}นั้น{\wbr}ให้{\wbr}

ใน{\wbr}มุม{\wbr}หนึ่ง{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}แบบ{\wbr}อาร์เรย์ ก็{\wbr}เป็น{\wbr}รูปแบบ{\wbr}หนึ่ง{\wbr}ของ{\wbr}การ{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}แบบ{\wbr}พจนานุกรม{\wbr}
แต่{\wbr}กุญแจ{\wbr}ที่{\wbr}ใช้{\wbr}จะ{\wbr}ต้อง{\wbr}เป็น{\wbr}จำนวนเต็ม{\wbr}เท่านั้น{\wbr}
นอกจากนี้{\wbr}ขนาด{\wbr}ของ{\wbr}อาร์เรย์{\wbr}ก็{\wbr}จะ{\wbr}ขึ้น{\wbr}กับ{\wbr}ค่า{\wbr}ที่{\wbr}มาก{\wbr}ที่สุด{\wbr}ของ{\wbr}กุญแจ{\wbr}
ซึ่ง{\wbr}อาจ{\wbr}จะ{\wbr}มี{\wbr}ค่า{\wbr}มาก{\wbr}กว่า{\wbr}จำนวน{\wbr}ข้อมูล{\wbr}ที่{\wbr}ต้องการ{\wbr}เก็บ{\wbr}ลง{\wbr}ใน{\wbr}พจนานุกรม{\wbr}เป็น{\wbr}จำนวน{\wbr}มาก{\wbr}ก็ได้{\wbr}

อิน{\wbr}เทอร์เฟส{\wbr}ของ{\wbr}พจนานุกรม{\wbr}มี{\wbr}รูปแบบ{\wbr}ทั่วไป{\wbr}ดังนี้{\wbr}
\begin{itemize}
\item IsEmpty($D$) - ตรวจสอบ{\wbr}ว่า{\wbr}พจนานุกรม $D$ ว่างเปล่า{\wbr}หรือ{\wbr}ไม่{\wbr}
\item Insert($D$,$(k,v)$) - เพิ่ม{\wbr}ข้อมูล $v$ ลง{\wbr}ใน{\wbr}พจนานุกรม $D$ โดย{\wbr}ให้ $k$ เป้{\wbr}น{\wbr}กุญแจ{\wbr}
\item Find($D$,$k$) - ค้นหา{\wbr}ข้อมูล{\wbr}ใน{\wbr}พจนานุกรม $D$ ที่{\wbr}มี{\wbr}กุญแจ{\wbr}เป็น $k$
  แล้ว{\wbr}คืนตัว{\wbr}วิ่ง{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}ข้อมูล{\wbr}ดังกล่าว{\wbr}
\item Delete($D$,$p$) - ลบ{\wbr}ข้อมูล{\wbr}ใน{\wbr}พจนานุกรม $D$ ที่{\wbr}ถูก{\wbr}อ้าง{\wbr}ถึง{\wbr}โดย{\wbr}ตัว{\wbr}วิ่ง $p$
\end{itemize}

พจนานุกรม{\wbr}ยัง{\wbr}มี{\wbr}ประเภท{\wbr}ย่อย ๆ อีก{\wbr}หลาย{\wbr}แบบ{\wbr}
โดย{\wbr}ขึ้น{\wbr}กับ{\wbr}เงื่อนไข{\wbr}ที่{\wbr}พจนานุกรม{\wbr}แบบ{\wbr}นั้น{\wbr}รองรับ{\wbr}การ{\wbr}ใช้{\wbr}งาน เช่น{\wbr}
การ{\wbr}รองรับ{\wbr}กรณี{\wbr}ที่{\wbr}ข้อมูล{\wbr}หลาย{\wbr}ตัว{\wbr}มี{\wbr}กุญแจ{\wbr}ซ้ำ{\wbr}กัน เป็นต้น{\wbr}
พจนานุกรม{\wbr}บาง{\wbr}ประเภท{\wbr}ยัง{\wbr}สามารถ{\wbr}ค้นหา{\wbr}ข้อมูล{\wbr}ที่{\wbr}มี{\wbr}กุญแจ{\wbr}น้อย{\wbr}ที่สุด (หรือ{\wbr}มาก{\wbr}ที่สุด{\wbr}ได้{\wbr}ด้วย)

ใน{\wbr}ที่นี้ เพื่อ{\wbr}ความ{\wbr}ง่าย เรา{\wbr}จะ{\wbr}สมมติ{\wbr}ว่า{\wbr}ไม่{\wbr}มี{\wbr}กรณี{\wbr}ที่{\wbr}ข้อมูล{\wbr}สอง{\wbr}จำนวน{\wbr}ใช้{\wbr}กุญแจ{\wbr}เดียวกัน{\wbr}
ถ้า{\wbr}มี{\wbr}การ{\wbr}จัด{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}สอง{\wbr}ชุด{\wbr}ด้วย{\wbr}กุญแจ{\wbr}เดียวกัน ผลลัพธ์{\wbr}ที่{\wbr}ได้{\wbr}จะ{\wbr}ขึ้น{\wbr}กับ{\wbr}รูปแบบ{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์

\subsubsection{การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}อาร์เรย์{\wbr}แบบ{\wbr}แรก}

เรา{\wbr}จะ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}กระบวนการ{\wbr}ต่าง ๆ โดย{\wbr}ใช้{\wbr}อาร์เรย์{\wbr}สำหรับ{\wbr}เก็บ{\wbr}รายการ{\wbr}สอง{\wbr}ชุด{\wbr}
ชุด{\wbr}แรก{\wbr}เป็น{\wbr}กุญแจ อีก{\wbr}ชุด{\wbr}เป็น{\wbr}ข้อมูล{\wbr}
เรา{\wbr}จะ{\wbr}สมมติ{\wbr}ว่า{\wbr}ทั้ง{\wbr}กุญแจ{\wbr}และ{\wbr}ข้อมูล{\wbr}ที่{\wbr}เรา{\wbr}ต้องการ{\wbr}จะ{\wbr}เก็บ{\wbr}เป็น{\wbr}จำนวนเต็ม {\ct int}
ใน{\wbr}บท{\wbr}ที่~\ref{chapter:classes}
เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}วิธี{\wbr}ที่{\wbr}ทำ{\wbr}ให้{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ที่{\wbr}เรา{\wbr}เขียน{\wbr}ทำงาน{\wbr}กับ{\wbr}ข้อมูล{\wbr}ประเภท{\wbr}ใด{\wbr}ก็ได้{\wbr}

ใน{\wbr}ที่นี้{\wbr}เรา{\wbr}จะ{\wbr}ประกาศ{\wbr}อาร์เรย์{\wbr}สำหรับ{\wbr}รายการ{\wbr}ดังนี้{\wbr}
\latintext
\begin{codelist}{C++}{}
int keys[max_size];
int values[max_size];
int dict_size;
\end{codelist}
\thaitext

การ{\wbr}สร้าง{\wbr}พจนานุกรม{\wbr}เปล่า{\wbr}ทำ{\wbr}โดย{\wbr}กำหนด{\wbr}ให้{\wbr}ตัวแปร {\ct dict\_size} มี{\wbr}ค่า{\wbr}เท่า{\wbr}กับ{\wbr}ศูนย์{\wbr}
การ{\wbr}ทดสอบ IsEmpty ทำ{\wbr}ได้{\wbr}โดย{\wbr}การ{\wbr}ตรวจสอบ{\wbr}ตัวแปร{\wbr}ดังกล่าว{\wbr}

กระบวนการ Insert สามารถ{\wbr}จัดการ{\wbr}ได้{\wbr}โดย{\wbr}ใช้{\wbr}กระบวนการ Append ของ{\wbr}รายการ{\wbr}ที่{\wbr}เขียน{\wbr}โดย{\wbr}อาร์เรย์

\begin{figure}
\latintext
\begin{codelist}{C++}{caption={\thaitext โปรแกรม{\wbr}การ Insert ที่{\wbr}เรียก{\wbr}ใช้ {\ct list\_append} ที่ทำงาน{\wbr}ผิดพลาด\latintext},label=code:analysis-buggy-dict-insert}
void dict_insert(int keys[], int values[], int& size,  // BUGGY
                 int k, int v)                         // BUGGY
{                                                      // BUGGY
  list_append(keys, size, k);                          // BUGGY
  list_append(values, size, v);                        // BUGGY 
}                                                      // BUGGY
\end{codelist}
\thaitext
\end{figure}

\begin{quiz}{}
พิจารณา{\wbr}ฟังก์ชัน{\wbr}เพิ่ม{\wbr}ข้อมูล{\wbr}ใน{\wbr}รายการ{\wbr}ดัง{\wbr}โปรแกรม{\wbr}ที่~\ref{code:analysis-buggy-dict-insert}
ฟังก์ชัน{\wbr}ดังกล่าว{\wbr}เรียก{\wbr}ใช้{\wbr}การ Append จาก{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}รายการ{\wbr}ที่{\wbr}พัฒนา{\wbr}ด้วย{\wbr}อาร์เรย์
โปรแกรม{\wbr}ทำงาน{\wbr}ผิดพลาด{\wbr}เพราะว่า{\wbr}อะไร? 
\end{quiz}

ตัวอย่าง{\wbr}ข้างต้น{\wbr}แสดง{\wbr}ให้{\wbr}เห็น{\wbr}ความผิด{\wbr}พลาด{\wbr}ที่{\wbr}เกิด{\wbr}จาก{\wbr}การ{\wbr}ใช้{\wbr}รายการ{\wbr}เขียน{\wbr}พัฒนา{\wbr}บน{\wbr}อาร์เรย์{\wbr}สอง{\wbr}รายการ{\wbr}
แต่{\wbr}มี{\wbr}การ{\wbr}เปิด{\wbr}ใช้{\wbr}ตัวแปร {\ct list\_size} ร่วม{\wbr}กัน{\wbr}
การ{\wbr}เปิด{\wbr}ให้{\wbr}มี{\wbr}การ{\wbr}จัดการ{\wbr}ข้อมูล{\wbr}ภายใน{\wbr}โดย{\wbr}ตรง{\wbr}อาจ{\wbr}ส่ง{\wbr}ให้{\wbr}เกิด{\wbr}ผลข้างเคียง{\wbr}ได้{\wbr}
ใน{\wbr}การ{\wbr}พัฒนา{\wbr}โครงสร้าง{\wbr}ข้อมูล{\wbr}ด้วย{\wbr}ภาษา C++
เรา{\wbr}สามารถ{\wbr}ป้องกัน{\wbr}ปัญหา{\wbr}ดังกล่าว{\wbr}ได้{\wbr}โดย{\wbr}การ{\wbr}กำหนด{\wbr}ขอบเขต{\wbr}การ{\wbr}เข้าถึง{\wbr}ข้อมูล{\wbr}
(จะ{\wbr}ได้{\wbr}ศึกษา{\wbr}ใน{\wbr}บท{\wbr}ที่~\ref{chapter:classes})

\begin{quiz}{}
ถ้า{\wbr}มี{\wbr}การ{\wbr}สั่ง Insert ด้วย{\wbr}ข้อมูล{\wbr}สอง{\wbr}จำนวน{\wbr}ที่{\wbr}มี{\wbr}กุญแจ{\wbr}เดียวกัน{\wbr}
จะ{\wbr}มี{\wbr}ผล{\wbr}ต่อ{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}แบบ{\wbr}ชนิด{\wbr}ข้อมูล{\wbr}ที่{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}วิธี{\wbr}นี้{\wbr}อย่างไร{\wbr}
\end{quiz}

กระบวนการ Find และ Delete ต้องการ{\wbr}ตัว{\wbr}วิ่ง{\wbr}ที่{\wbr}อ้าง{\wbr}ถึง{\wbr}ข้อมูล{\wbr}ใน{\wbr}พจนานุกรม{\wbr}
สำหรับ{\wbr}ตัว{\wbr}วิ่ง{\wbr}ใน{\wbr}กรณี{\wbr}นี้{\wbr}เรา{\wbr}ไม่{\wbr}สามารถ{\wbr}ใช้{\wbr}พอยน์เตอร์{\wbr}ไป{\wbr}ยัง{\wbr}ข้อมูล{\wbr}ใน{\wbr}อาร์เรย์{\wbr}ได้{\wbr}เนื่องจาก{\wbr}เรา{\wbr}มี{\wbr}อาร์เรย์{\wbr}สอง{\wbr}อาร์เรย์

\begin{quiz}{}
ถ้า{\wbr}เรา{\wbr}ต้องการ{\wbr}ให้{\wbr}ตัว{\wbr}วิ่ง{\wbr}นั้น{\wbr}สมบูรณ์{\wbr}ใน{\wbr}ตัวเอง{\wbr}
คือ{\wbr}สามารถ{\wbr}อ้าง{\wbr}ถึง{\wbr}ข้อมูล{\wbr}ทั้ง{\wbr}กุญแจ{\wbr}และ{\wbr}ข้อมูล{\wbr}ได้{\wbr}โดย{\wbr}ใช้{\wbr}เฉพาะ{\wbr}ข้อมูล{\wbr}ที่{\wbr}มี{\wbr}อยู่{\wbr}ใน{\wbr}ตัว{\wbr}วิ่ง{\wbr}เท่านั้น (กล่าวคือ{\wbr}
ไม่{\wbr}ต้อง{\wbr}อ้าง{\wbr}ถึง{\wbr}ตัวแปร {\ct keys} และ {\ct values})
ชนิด{\wbr}ข้อ{\wbr}ม{\wbr}ของ{\wbr}ตัว{\wbr}วิ่ง{\wbr}จะ{\wbr}ต้อง{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}ใด{\wbr}บ้าง?
\end{quiz}

เรา{\wbr}จะ{\wbr}ศึกษา{\wbr}วิธีการ{\wbr}เขียน{\wbr}ค{\wbr}ลา{\wbr}ส{\wbr}เพื่อที่จะ{\wbr}จัดการ{\wbr}ตาม{\wbr}คำตอบ{\wbr}ของ{\wbr}คำถาม{\wbr}ข้างต้น{\wbr}ใน{\wbr}บท{\wbr}ต่อ ๆ ไป{\wbr}
ใน{\wbr}บท{\wbr}นี้{\wbr}เรา{\wbr}จะ{\wbr}ใช้{\wbr}แค่{\wbr}ข้อมูล{\wbr}ดัชนี{\wbr}เพื่อ{\wbr}แทน{\wbr}ตัว{\wbr}วิ่ง (ที่{\wbr}ไม่{\wbr}สมบูรณ์) ไป{\wbr}ก่อน{\wbr}

กระบวนการ Find และ Delete ทำงาน{\wbr}ได้{\wbr}ไม่{\wbr}ต่าง{\wbr}จาก{\wbr}ใน{\wbr}การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}รายการ{\wbr}เท่าใด{\wbr}นัก{\wbr}
เพียงแต่{\wbr}ใน{\wbr}การ{\wbr}ค้นหา เรา{\wbr}จะ{\wbr}เทียบ{\wbr}กุญแจ{\wbr}ใน {\ct keys} คืน{\wbr}ดัชนี และ{\wbr}ใน{\wbr}การ{\wbr}ลบ{\wbr}
จะ{\wbr}ต้อง{\wbr}ย้าย{\wbr}ข้อมูล{\wbr}จาก{\wbr}ทั้ง{\wbr}อาร์เรย์ {\ct keys} และ{\wbr}อาร์เรย์ {\ct values}
ตัวอย่าง{\wbr}ของ{\wbr}ฟังก์ชัน {\ct dict\_find }
แสดง{\wbr}ใน{\wbr}โปรแกรม{\wbr}ที่~\ref{code:analysis-dict-find}

\begin{figure}
\latintext
\begin{codelist}{C++}{caption={\thaitext การ{\wbr}ค้นหา{\wbr}ข้อมูล{\wbr}ใน{\wbr}พจนานุกรม{\wbr}แบบ{\wbr}แรก\latintext},label=code:analysis-dict-find}
int dict_find(int keys[], int values[], int size, int x)
{
  for(int i = 0; i != size; ++i)
    if(keys[i] == x)
      return i;
  return -1;                // ****
}
\end{codelist}
\thaitext
\end{figure}

สังเกต{\wbr}ว่า{\wbr}เรา{\wbr}คืน{\wbr}ค่า {\ct -1} เมื่อ{\wbr}กุญแจ{\wbr}นั้น{\wbr}ไม่{\wbr}อยู่{\wbr}ใน{\wbr}ข้อมูล{\wbr}ที่{\wbr}เก็บ{\wbr}ไว้ การ{\wbr}ใช้{\wbr}ค่า {\ct -1} นี้{\wbr}
เป็น{\wbr}ไป{\wbr}ตาม{\wbr}ความ{\wbr}สะดวก{\wbr}ที่{\wbr}เรา{\wbr}สามารถ{\wbr}กำหนด{\wbr}ขึ้น{\wbr}ได้ เมื่อ{\wbr}เรา{\wbr}เขียน{\wbr}ต่อ ๆ ไป{\wbr}
เรจะ{\wbr}เปลี่ยน{\wbr}ไป{\wbr}คืน{\wbr}ค่า{\wbr}เป็น{\wbr}ตัว{\wbr}วิ่ง{\wbr}ที่{\wbr}แสดง{\wbr}ถึง{\wbr}สถานะ{\wbr}ของ{\wbr}ข้อมูล{\wbr}ที่{\wbr}ไม่{\wbr}มี (เช่น{\wbr}ที่{\wbr}คืน{\wbr}จาก {\ct
  list\_itr\_end} เป็นต้น) ตาม{\wbr}รูปแบบ{\wbr}ของ{\wbr}ไลบ{\wbr}รา{\wbr}รี{\wbr}มาตรฐาน{\wbr}

เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}ฟังก์ชั่น{\wbr}ต่าง ๆ
แสดง{\wbr}ใน{\wbr}ตาราง{\wbr}ใน{\wbr}รูป{\wbr}ที่~\ref{fig:array-running-time-dict-by-array}

\begin{quiz}{}
เขียน{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}สำหรับ{\wbr}กระบวนการ Delete ข้อมูล{\wbr}ใน{\wbr}รายการ และ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}
\end{quiz}

\subsubsection{การ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ด้วย{\wbr}อาร์เรย์{\wbr}อีก{\wbr}รูปแบบ{\wbr}หนึ่ง}
\label{sect:analysis-binary-search}

วิธีการ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ที่แล้ว{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}ใน{\wbr}พจนานุกรม{\wbr}ลง{\wbr}ใน{\wbr}อาร์เรย์{\wbr}โดย{\wbr}ไม่{\wbr}มี{\wbr}การ{\wbr}จัด{\wbr}ระบบ{\wbr}ใด ๆ เลย{\wbr}
ทำ{\wbr}ให้การ{\wbr}หา{\wbr}ข้อมูล{\wbr}จำเป็น{\wbr}ต้อง{\wbr}พิจารณา{\wbr}ข้อมูล{\wbr}ทุก{\wbr}ตัว{\wbr}ใน{\wbr}อาร์เรย์

\begin{quiz}{}
ลอง{\wbr}เสนอ{\wbr}วิธีการ{\wbr}ต่าง ๆ ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ใน{\wbr}การ{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}ให้{\wbr}เป็น{\wbr}ระบบ{\wbr}มาก{\wbr}ขึ้น{\wbr}
เพื่อ{\wbr}ทำ{\wbr}ให้การ{\wbr}ค้น{\wbr}ข้อมูล{\wbr}ทำ{\wbr}ได้{\wbr}ง่าย{\wbr}
\end{quiz}

เรา{\wbr}จะ{\wbr}ทดลอง{\wbr}วิธี{\wbr}ง่าย ๆ ที่{\wbr}เรา{\wbr}ก็{\wbr}มัก{\wbr}ใช้{\wbr}ใน{\wbr}ชีวิต{\wbr}ประจำวัน{\wbr}
นั่น{\wbr}คือ{\wbr}การ{\wbr}เรียง{\wbr}ข้อมูล{\wbr}ใน{\wbr}รายการ{\wbr}ที่{\wbr}เก็บ{\wbr}ใน{\wbr}อาร์เรย์{\wbr}ตาม{\wbr}ลำดับ{\wbr}ของ{\wbr}กุญแจ{\wbr}
ข้อเสีย{\wbr}ของ{\wbr}เงื่อนไข{\wbr}นี้{\wbr}คือ{\wbr}การ{\wbr}เพิ่ม{\wbr}ข้อมูล{\wbr}ใน{\wbr}พจนานุกรม{\wbr}จะ{\wbr}ใช้เวลา{\wbr}มาก{\wbr}ขึ้น{\wbr}
เนื่องจาก{\wbr}เรา{\wbr}จะ{\wbr}ต้อง{\wbr}แทรก{\wbr}ข้อมูล{\wbr}ลง{\wbr}ไป{\wbr}ใน{\wbr}ตำแหน่ง{\wbr}ที่{\wbr}เหมาะสม อย่างไรก็ตาม{\wbr}
เงื่อนไข{\wbr}นี้{\wbr}จะ{\wbr}ทำ{\wbr}ให้{\wbr}เรา{\wbr}จัดการ{\wbr}กรณี{\wbr}ที่{\wbr}มี{\wbr}การ{\wbr}เพิ่ม{\wbr}ข้อมูล{\wbr}ที่{\wbr}ใช้{\wbr}กุญแจ{\wbr}ซ้ำ{\wbr}กัน{\wbr}ได้{\wbr}

จาก{\wbr}ข้อกำหนด{\wbr}ดังกล่าว{\wbr}ทำ{\wbr}ให้{\wbr}เรา{\wbr}สามารถ{\wbr}พัฒนา{\wbr}กระบวนการ{\wbr}ค้นหา{\wbr}ข้อมูล{\wbr}ให้{\wbr}เร็ว{\wbr}ขึ้น{\wbr}ได้ กล่าวคือ{\wbr}
ถ้า{\wbr}เรา{\wbr}ต้องการ{\wbr}หา{\wbr}ข้อมูล{\wbr}ที่{\wbr}มี{\wbr}กุญแจ $k$ โดย{\wbr}การ{\wbr}ไล่{\wbr}พิจารณา{\wbr}กุญแจ{\wbr}ที่{\wbr}มี{\wbr}ค่า{\wbr}น้อย{\wbr}ที่สุด{\wbr}
จนกระทั่ง{\wbr}เรา{\wbr}พบ{\wbr}กุญแจ{\wbr}ที่{\wbr}มี{\wbr}ค่า{\wbr}มาก{\wbr}กว่า $k$ เรา{\wbr}จะ{\wbr}ทราบ{\wbr}ได้{\wbr}ทัน{\wbr}ที่{\wbr}ว่า{\wbr}
ข้อมูล{\wbr}ที่{\wbr}เรา{\wbr}ต้องการ{\wbr}หาไม่{\wbr}อยู่{\wbr}ใน{\wbr}พจนานุกรม{\wbr}อย่าง{\wbr}แน่นอน เรา{\wbr}เขียน{\wbr}ฟังก์ชัน {\ct dict\_find}
สำหรับ{\wbr}กรณี{\wbr}นี้{\wbr}ได้{\wbr}ดังนี้{\wbr}

\latintext
\begin{codelist}{C++}{}
int dict_find(int keys[], int values[], int size, int x)
{
  for(int i = 0; i != size; ++i) {
    if(keys[i] == x)
      return i;
    if(keys[i] > x)
      return -1;
  }
  return -1; 
}
\end{codelist}
\thaitext

\begin{quiz}{}
กรณี{\wbr}ใด{\wbr}บ้าง{\wbr}ที่{\wbr}ฟังก์ชัน {\ct dict\_find}
ทำงาน{\wbr}ได้{\wbr}เร็ว{\wbr}กว่า{\wbr}ฟังก์ชัน{\wbr}เดียวกัน{\wbr}ใน{\wbr}กรณี{\wbr}ที่{\wbr}ข้อมูล{\wbr}ไม่{\wbr}มี{\wbr}การ{\wbr}เรียงลำดับ{\wbr}
กรณี{\wbr}ใด{\wbr}บ้าง{\wbr}ที่{\wbr}ไม่{\wbr}มี{\wbr}ประโยชน์{\wbr}เลย{\wbr}
\end{quiz}

ใน{\wbr}ฟังก์ชัน{\wbr}ดังกล่าว เรา{\wbr}ใช้ประโยชน์{\wbr}จาก{\wbr}การ{\wbr}ที่{\wbr}ข้อมูล{\wbr}เรียง{\wbr}กัน{\wbr}ใน{\wbr}การ{\wbr}จบ{\wbr}การ{\wbr}ทำงาน{\wbr}เร็ว{\wbr}กว่า{\wbr}กำหนด{\wbr}
อย่างไรก็ตาม{\wbr}เรา{\wbr}มี{\wbr}วิธีการ{\wbr}ที่{\wbr}จะ{\wbr}ค้นหา{\wbr}ได้{\wbr}เร็ว{\wbr}กว่า{\wbr}นั้น{\wbr}ใน{\wbr}แทบ{\wbr}จะ{\wbr}ทุก ๆ กรณี{\wbr}
วิธี{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}ใช้{\wbr}นั้น{\wbr}มี{\wbr}ลักษณะ{\wbr}เดียวกับ{\wbr}เทคนิค{\wbr}ที่{\wbr}เรา{\wbr}ใช้{\wbr}ใน{\wbr}การ{\wbr}เล่น{\wbr}เกม{\wbr}ทาย{\wbr}เลข{\wbr}

\begin{quiz}{เกม{\wbr}ทาย{\wbr}เลข}
เกม{\wbr}ทาย{\wbr}เลข{\wbr}เป็น{\wbr}เกม{\wbr}ระหว่าง{\wbr}ผู้{\wbr}เล่น{\wbr}สอง{\wbr}คน ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก{\wbr}นึก{\wbr}ตัวเลข{\wbr}ระหว่าง 1 - 100
จากนั้น{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง{\wbr}จะ{\wbr}ทาย{\wbr}ตัวเลข{\wbr}ตัว{\wbr}นั้น{\wbr}
ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก{\wbr}จะ{\wbr}ใบ้{\wbr}โดย{\wbr}การ{\wbr}บอก{\wbr}ว่า{\wbr}ตัวเลข{\wbr}ที่{\wbr}ทาย{\wbr}มี{\wbr}ค่า{\wbr}เท่า{\wbr}กับ มาก{\wbr}กว่า หรือ{\wbr}น้อย{\wbr}กว่า{\wbr}ตัวเลข{\wbr}ที่{\wbr}นึก{\wbr}ไว้{\wbr}
ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง{\wbr}จะ{\wbr}ใช้{\wbr}ข้อมูล{\wbr}ดังกล่าว{\wbr}ใน{\wbr}การ{\wbr}เลือก{\wbr}เลขที่{\wbr}จะ{\wbr}ทาย{\wbr}ตัว{\wbr}ต่อ ๆ ไป{\wbr}

ให้{\wbr}หา{\wbr}วิธีการ{\wbr}ถาม{\wbr}ของ{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง เพื่อให้{\wbr}ได้{\wbr}คำตอบ{\wbr}เร็ว{\wbr}ที่สุด{\wbr}สำหรับ{\wbr}ทุก ๆ
ตัวเลข{\wbr}ที่{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก{\wbr}นึก{\wbr}ไว้{\wbr}

(คำ{\wbr}ใบ้: เกม{\wbr}ดังกล่าว{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง{\wbr}จะ{\wbr}สามารถ{\wbr}ทาย{\wbr}คำตอบ{\wbr}โดย{\wbr}ทาย{\wbr}เลข{\wbr}ไม่{\wbr}เกิน 7 ครั้ง)
\end{quiz}

\begin{quiz}{}
ทำไม{\wbr}การ{\wbr}ถาม{\wbr}ที่{\wbr}ตอบ{\wbr}มา{\wbr}จึง{\wbr}สามารถ{\wbr}หา{\wbr}คำตอบ{\wbr}ได้{\wbr}เร็ว{\wbr}กว่า{\wbr}การ{\wbr}ไล่{\wbr}ถาม{\wbr}จาก $1,2,3,\ldots$ ? 

คำ{\wbr}ใบ้: ให้{\wbr}พิจารณา{\wbr}จำนวน{\wbr}คำตอบ{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ใน{\wbr}เวลา{\wbr}หนึ่ง ๆ
\end{quiz}

ถ้า{\wbr}เรา{\wbr}ไม่{\wbr}มี{\wbr}ข้อมูล{\wbr}อะไร{\wbr}เลย นั่น{\wbr}หมายความ{\wbr}ว่า{\wbr}เรา{\wbr}เชื่อ{\wbr}ว่า{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก{\wbr}อาจ{\wbr}จะ{\wbr}นึก{\wbr}ตัวเลข{\wbr}ใด ๆ
ก็ได้{\wbr}ตั้งแต่ 1 - 100 ดังนั้น โดย{\wbr}ทั่วไป{\wbr}แล้ว เรา{\wbr}มักจะ{\wbr}ถาม{\wbr}เลข{\wbr}ตัว{\wbr}แรก{\wbr}เป็น 50 หรือ 49

ตัวเลข{\wbr}นี้{\wbr}มี{\wbr}ความ{\wbr}น่า{\wbr}สนใจ{\wbr}เป็นพิเศษ{\wbr}

\begin{quiz}{เลข 50}
ทำไม{\wbr}การ{\wbr}เลือก{\wbr}ทาย{\wbr}ค่า 50 จึง{\wbr}น่าจะ ``มี{\wbr}ประโยชน์'' มาก{\wbr}กว่า{\wbr}เริ่ม{\wbr}ทาย{\wbr}ด้วย 10 หรือ 5 หรือ 1

คำ{\wbr}ใบ้: พิจารณา{\wbr}ผล{\wbr}ที่{\wbr}ได้{\wbr}จาก{\wbr}การ{\wbr}ทาย 50 เมื่อ{\wbr}ได้{\wbr}รับคำ{\wbr}บอกใบ้{\wbr}จาก{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก{\wbr}
\end{quiz}

ถ้า{\wbr}เรา{\wbr}ใช้{\wbr}หลัก{\wbr}คิด{\wbr}ดังกล่าว ซ้ำ{\wbr}ไป{\wbr}เรื่อย ๆ กับ{\wbr}ผลลัพธ์{\wbr}ที่{\wbr}ได้{\wbr}
เรา{\wbr}จะ{\wbr}ทาย{\wbr}ค่า{\wbr}ตรง{\wbr}กลาง{\wbr}ของ{\wbr}ขอบเขต{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ที่{\wbr}เหลือ{\wbr}ตลอด จนกว่า{\wbr}จะ{\wbr}ไม่{\wbr}มี{\wbr}ค่า{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}อีก{\wbr}

\begin{quiz}{กรณี{\wbr}แย่{\wbr}สุด}
ถ้า{\wbr}ใช้{\wbr}วิธี{\wbr}ดังกล่าว เรา{\wbr}จะ{\wbr}ต้อง{\wbr}ทาย{\wbr}อย่าง{\wbr}มาก{\wbr}ที่สุด{\wbr}กี่{\wbr}ครั้ง?  อธิบาย{\wbr}เหตุผล{\wbr}ประกอบ{\wbr}
\end{quiz}
\begin{quizans}
เรา{\wbr}จะ{\wbr}พิจารณา{\wbr}ให้{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก{\wbr}พยายาม{\wbr}เล่น{\wbr}ให้{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง{\wbr}ต้อง{\wbr}ทาย{\wbr}ให้{\wbr}มาก{\wbr}ครั้ง{\wbr}ที่สุด{\wbr}เท่า{\wbr}ที่{\wbr}จะ{\wbr}ทำ{\wbr}ได้{\wbr}
เมื่อ{\wbr}เขา{\wbr}ทาย{\wbr}ค่า 50 ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก{\wbr}สามารถ{\wbr}ตอบ{\wbr}ว่า ผลลัพธ์{\wbr}ถูกต้อง (จบ{\wbr}เลย{\wbr}ไม่{\wbr}ทาย{\wbr}ต่อ),
ค่า{\wbr}ที่{\wbr}ทาย{\wbr}มี{\wbr}ค่า{\wbr}มาก{\wbr}กว่า{\wbr}ค่า{\wbr}ที่{\wbr}สมมติ (ค่า{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ต่อไป{\wbr}คือ 1-49), หรือ{\wbr}
ค่า{\wbr}ที่{\wbr}ทำนาย{\wbr}มี{\wbr}ค่า{\wbr}น้อย{\wbr}กว่า{\wbr}ค่า{\wbr}ที่{\wbr}สมมติ (ค่า{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ต่อไป{\wbr}คือ 51 - 100)
สังเกต{\wbr}ว่า{\wbr}ใน{\wbr}กรณี{\wbr}ที่{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก{\wbr}ตอบ{\wbr}ว่า{\wbr}ค่า{\wbr}ที่{\wbr}ทำ{\wbr}นาน{\wbr}มี{\wbr}ค่า{\wbr}น้อย{\wbr}กว่า{\wbr}ค่า{\wbr}ที่{\wbr}สมมติ{\wbr}
ทำ{\wbr}ให้{\wbr}ตัวเลือก{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}เหลือ 50 ตัวเลือก{\wbr}ซึ่ง{\wbr}มาก{\wbr}ที่สุด{\wbr}เท่า{\wbr}ที่{\wbr}จะ{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}แล้ว{\wbr}
ถ้า{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง{\wbr}เริ่ม{\wbr}ถาม{\wbr}ด้วย{\wbr}ค่า 50

จะ{\wbr}ตอบ{\wbr}ว่า{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก{\wbr}ควร{\wbr}ตอบ{\wbr}อะไร เรา{\wbr}ต้อง{\wbr}ตอบ{\wbr}คำถาม{\wbr}ให้{\wbr}ได้{\wbr}ว่า ใน{\wbr}รอบ{\wbr}ต่อไป กรณี{\wbr}ที่ 2
(1-49) หรือ{\wbr}กรณี{\wbr}ที่ 3 (51-100)
จะ{\wbr}เป็น{\wbr}กรณี{\wbr}ที่{\wbr}แย่{\wbr}ที่สุด{\wbr}สำหรับ{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง{\wbr}ที่{\wbr}ต้อง{\wbr}ทาย{\wbr}ตัวเลข{\wbr}มาก{\wbr}กว่า{\wbr}กัน{\wbr}
สังเกต{\wbr}ว่า{\wbr}ขอบเขต{\wbr}บน{\wbr}หรือ{\wbr}ล่าง{\wbr}ของ{\wbr}ช่วง{\wbr}คำตอบ{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}นั้น{\wbr}ไม่{\wbr}มี{\wbr}ผล{\wbr}ต่อ{\wbr}จำนวน{\wbr}ครั้ง{\wbr}ใน{\wbr}การ{\wbr}ถาม{\wbr}
(จะ{\wbr}เป็น 1-49 หรือ 1001 - 1049
วิธีการ{\wbr}ถาม{\wbr}ที่{\wbr}ดี{\wbr}ที่สุด{\wbr}และ{\wbr}วิธีการ{\wbr}ตอบ{\wbr}ที่{\wbr}ทำร้าย{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง{\wbr}มาก{\wbr}ที่สุด{\wbr}
ก็{\wbr}สามารถ{\wbr}นำมา{\wbr}ใช้ได้{\wbr}ผล{\wbr}เป็น{\wbr}จำนวน{\wbr}ครั้ง{\wbr}ของ{\wbr}การ{\wbr}ถาม{\wbr}ที่{\wbr}เท่า{\wbr}กัน) อย่างไรก็ตาม{\wbr}สิ่ง{\wbr}ที่{\wbr}สำคัญ{\wbr}กว่า{\wbr}
ก็{\wbr}คือ{\wbr}จำนวน{\wbr}คำตอบ{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}
เพราะว่า{\wbr}ถ้า{\wbr}ช่วง{\wbr}ที่{\wbr}เล็ก{\wbr}กว่า{\wbr}ต้อง{\wbr}ใช้{\wbr}จำนวน{\wbr}คำถาม{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}มาก{\wbr}กว่า{\wbr}ช่วง{\wbr}ที่{\wbr}ใหญ่{\wbr}กว่า{\wbr}
เรา{\wbr}ก็{\wbr}สามารถ{\wbr}สมมติ{\wbr}ให้{\wbr}ช่วง{\wbr}ที่{\wbr}เล็ก{\wbr}มี{\wbr}ขนาด{\wbr}เท่า{\wbr}กับ{\wbr}ช่วง{\wbr}ที่{\wbr}ใหญ่{\wbr}กว่า{\wbr}
ได้{\wbr}โดย{\wbr}เพิ่ม{\wbr}ขอบเขต{\wbr}บน{\wbr}ไป{\wbr}ให้{\wbr}จำนวน{\wbr}เท่า{\wbr}กัน 

ดังนั้น ทางเลือก{\wbr}ที่{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}แรก จะ{\wbr}ทำ{\wbr}ให้{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง{\wbr}ต้อง{\wbr}ทาย{\wbr}เป็น{\wbr}จำนวน{\wbr}มาก{\wbr}ครั้ง{\wbr}ที่สุด{\wbr}
ก็{\wbr}คือ{\wbr}เลือก{\wbr}ให้{\wbr}คำตอบ{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}หลังจาก{\wbr}รู้{\wbr}คำตอบ{\wbr}แล้ว มี{\wbr}จำนวน{\wbr}มาก{\wbr}ที่สุด{\wbr}เท่า{\wbr}ที่{\wbr}จะ{\wbr}ทำ{\wbr}ได้{\wbr}

ถ้า{\wbr}เรา{\wbr}ไล่{\wbr}พิจารณา{\wbr}ไป{\wbr}เรื่อย ๆ ใน{\wbr}รอบ{\wbr}ต่อไป{\wbr}เรา{\wbr}จะ{\wbr}เลือก{\wbr}คำตอบ{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}คือ $\lfloor
50/2\rfloor=25$, $\lfloor 25/2\rfloor=12$, $\lfloor 12/2\rfloor=6$,
$\lfloor 6/2\rfloor=3$, $\lfloor 3/2\rfloor=1$, รอบ{\wbr}สุดท้าย (รอบ{\wbr}ที่ 7)
เรา{\wbr}ถาม{\wbr}อีก{\wbr}หนึ่ง{\wbr}ครั้ง ก็{\wbr}จะ{\wbr}เป็น{\wbr}คำตอบ{\wbr}ที่{\wbr}ถูกต้อง{\wbr}แน่นอน{\wbr}
\end{quizans}

หลักการ{\wbr}ดัง{\wbr}กล่{\wbr}วา สามารถ{\wbr}ประยุกต์{\wbr}ใช้{\wbr}กับ{\wbr}การ{\wbr}ค้นหา{\wbr}ข้อ{\wbr}มุ{\wbr}ล{\wbr}ใน{\wbr}พจนานุกรม{\wbr}ได้{\wbr}

\begin{quiz}{การ{\wbr}หา{\wbr}ข้อมูล{\wbr}ใน{\wbr}พจนานุกรม}
ถ้า{\wbr}เรา{\wbr}ทราบ{\wbr}ว่า{\wbr}กุญแจ{\wbr}ที่{\wbr}เก็บ{\wbr}ใน{\wbr}อาร์เรย์{\wbr}จำนวน $n$ ตัว{\wbr}เรียง{\wbr}ตาม{\wbr}ลำดับ{\wbr}จาก{\wbr}น้อย{\wbr}ไป{\wbr}หา{\wbr}มาก{\wbr}
จง{\wbr}ออกแบบ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ใน{\wbr}การ{\wbr}ค้น{\wbr}ข้อมูล{\wbr}ที่{\wbr}มี{\wbr}ประสิทธิภาพ โดย{\wbr}ใช้{\wbr}แนว{\wbr}คิด{\wbr}ที่{\wbr}ได้{\wbr}จาก{\wbr}เกม{\wbr}ทาย{\wbr}เลข{\wbr}

(คำ{\wbr}ใบ้: อาจ{\wbr}จะ{\wbr}ต้อง{\wbr}มี{\wbr}การ{\wbr}ปรับ{\wbr}มุมมอง{\wbr}เล็กน้อย)
\end{quiz}

เรา{\wbr}อาจ{\wbr}จะ{\wbr}ต้อง{\wbr}มี{\wbr}การ{\wbr}ปรับ{\wbr}มุมมอง{\wbr}เล็กน้อย เพื่อ{\wbr}นำ{\wbr}แนว{\wbr}คิด{\wbr}จาก{\wbr}เกม{\wbr}ทาย{\wbr}เลข{\wbr}มา{\wbr}ใช้ได้ ใน{\wbr}กรณี{\wbr}นี้{\wbr}
เรา{\wbr}มี{\wbr}กุญแจ {\ct k} ที่{\wbr}ต้องการ{\wbr}ค้นหา{\wbr}ใน{\wbr}อาร์เรย์ {\ct keys} เรา{\wbr}อยาก{\wbr}ทราบ{\wbr}ว่า{\wbr}ดัชนี {\ct
i} ใด{\wbr}ใน{\wbr}อาร์เรย์ ที่ {\ct keys[i]} มี{\wbr}ค่า{\wbr}เท่า{\wbr}กับ {\ct k}

สังเกต{\wbr}ว่า{\wbr}ใน{\wbr}กรณี{\wbr}นี้ ถ้า{\wbr}กุญแจ{\wbr}อยู่{\wbr}ใน{\wbr}อาร์เรย์ คำตอบ{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}คือ $0,1,\ldots,n-1$
เรา{\wbr}จะ{\wbr}สมมติ{\wbr}ให้{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}หนึ่ง{\wbr}ทราบ{\wbr}คำตอบ{\wbr}นี้ จากนั้น{\wbr}ผู้{\wbr}เล่น{\wbr}คน{\wbr}ที่{\wbr}สอง (นั่น{\wbr}คือ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ของ{\wbr}เรา)
จะ{\wbr}เริ่ม{\wbr}ทาย เมื่อ{\wbr}ผู้{\wbr}เล่น{\wbr}ทาย{\wbr}ค่า {\ct x} แล้ว{\wbr}
เรา{\wbr}สามารถ{\wbr}ตรวจสอบ{\wbr}ผลลัพธ์{\wbr}ของ{\wbr}การ{\wbr}ทาย{\wbr}และ{\wbr}คำ{\wbr}ใบ้{\wbr}ได้{\wbr}โดย{\wbr}การ{\wbr}ดู{\wbr}ค่า{\wbr}ใน{\wbr}อาร์เรย์ {\ct keys[x]}

\begin{quiz}{}
ค่า{\wbr}ของ {\ct keys[x]} มี{\wbr}ความหมาย{\wbr}เป็น{\wbr}คำ{\wbr}ใบ้{\wbr}ของ{\wbr}การ{\wbr}ทาย{\wbr}เลข{\wbr}ได้{\wbr}อย่างไร?
\end{quiz}

จาก{\wbr}แนวทาง{\wbr}คร่าว ๆ เรา{\wbr}จะ{\wbr}พัฒนา{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ขึ้น{\wbr}มา{\wbr}
โดย{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}จะ{\wbr}ทาย{\wbr}ดัชนี{\wbr}จาก{\wbr}ขอบเขต{\wbr}ของ{\wbr}ดัชนี{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}
จากนั้น{\wbr}จะ{\wbr}ดู{\wbr}ค่า{\wbr}ใน{\wbr}อาร์เรย์{\wbr}เพื่อ{\wbr}ปรับ{\wbr}ขอบเขต{\wbr}ต่อไป{\wbr}

\begin{quiz}{}
ใน{\wbr}การ{\wbr}ดำเนินการ{\wbr}ตาม{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ดังกล่าว จะ{\wbr}ต้อง{\wbr}ใช้{\wbr}ตัวแปร{\wbr}ใด{\wbr}เก็บ{\wbr}ข้อมูล{\wbr}การ{\wbr}ทำงาน{\wbr}ใน{\wbr}แต่ละ{\wbr}รอบ{\wbr}บ้าง{\wbr}
\end{quiz}

เรา{\wbr}จะ{\wbr}ต้อง{\wbr}เก็บ{\wbr}ขอบเขต{\wbr}ของ{\wbr}ดัชนี{\wbr}ที่{\wbr}สามารถ{\wbr}เป็น{\wbr}ดัชนี{\wbr}ที่{\wbr}เรา{\wbr}ต้องการ{\wbr}หา เรา{\wbr}จะ{\wbr}ใช้{\wbr}ตัวแปร $s$
และ $t$ ใน{\wbr}การ{\wbr}เก็บ{\wbr}ค่า{\wbr}ดัชนี{\wbr}ที่{\wbr}น้อย{\wbr}ที่สุด{\wbr}และ{\wbr}ดัชนี{\wbr}ที่{\wbr}มาก{\wbr}ที่สุด ที่{\wbr}สามารถ{\wbr}เป็น{\wbr}คำตอบ{\wbr}ได้ เริ่มต้น{\wbr}
$s=0$ และ $t=n-1$ ใน{\wbr}แต่ละ{\wbr}รอบ เรา{\wbr}จะ{\wbr}ทาย{\wbr}ค่า{\wbr}ตรง{\wbr}กลาง{\wbr}ระหว่าง{\wbr}สอง{\wbr}ค่า{\wbr}นี้{\wbr}

\begin{quiz}{ค่า{\wbr}ตรง{\wbr}กลาง}
ค่า{\wbr}ตรง{\wbr}กลาง{\wbr}ระหว่าง $s$ และ $t$ ที่{\wbr}เรา{\wbr}จะ{\wbr}ทาย คือ{\wbr}ค่า{\wbr}ใด?
\end{quiz}

เนื่องจาก{\wbr}ค่า{\wbr}ดัชนี{\wbr}ต้อง{\wbr}เป็น{\wbr}จำนวนเต็ม{\wbr}เท่านั้น เรา{\wbr}จำ{\wbr}ต้อง{\wbr}ทำ{\wbr}การ{\wbr}ปัด{\wbr}ค่า{\wbr}กลาง{\wbr}ที่{\wbr}ได้{\wbr}
ดังนั้น{\wbr}ใน{\wbr}แต่ละ{\wbr}รอบ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}จะ{\wbr}ทาย{\wbr}ค่า $\lfloor (s+t)/2 \rfloor$ ให้{\wbr}ตัวแปร $m$
เก็บ{\wbr}ค่า{\wbr}กลาง{\wbr}นี้{\wbr}

\begin{quiz}{การ{\wbr}ดำเนินการ{\wbr}หลัง{\wbr}การ{\wbr}ทาย}
ถ้า{\wbr}เรา{\wbr}ต้องการ{\wbr}ค้นหา{\wbr}กุญแจ $x$ เรา{\wbr}จะ{\wbr}ปรับ{\wbr}ค่า{\wbr}ของ $s$ และ $t$ อย่างไร พิจารณา{\wbr}กรณี{\wbr}ที่ (1)
$keys[m] < x$ และ (2) $keys[m] > x$
\end{quiz}

ใน{\wbr}การ{\wbr}ปรับ{\wbr}ค่า{\wbr}ดังกล่าว{\wbr}
มี{\wbr}รายละเอียด{\wbr}เล็กน้อย{\wbr}ซึ่ง{\wbr}ถ้า{\wbr}เรา{\wbr}ไม่{\wbr}ระวัง อาจ{\wbr}ทำ{\wbr}ให้{\wbr}เกิด{\wbr}ปัญหา{\wbr}ได้{\wbr}

\begin{quiz}{พิจารณา{\wbr}เงื่อนไข{\wbr}ใน{\wbr}การ{\wbr}ปรับ{\wbr}ค่า{\wbr}ดังนี้: (1) ถ้า $keys[m] < x$ ปรับ{\wbr}ค่า $s\leftarrow m$ และ (2)}
ถ้า $keys[m] > x$ ปรับ{\wbr}ค่า $t\rightarrow m$  

พิจารณา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}ใช้{\wbr}การ{\wbr}ปรับ{\wbr}ค่า{\wbr}ดังกล่าว มี{\wbr}กรณี{\wbr}ใด{\wbr}บ้าง{\wbr}ที่{\wbr}เงื่อนไข{\wbr}ใน{\wbr}การ{\wbr}ปรับ{\wbr}ค่า{\wbr}นี้{\wbr}
ทำ{\wbr}ให้{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ไม่{\wbr}สามารถ{\wbr}หา{\wbr}ข้อมูล{\wbr}ที่{\wbr}ต้องการ{\wbr}เจอ{\wbr}ได้{\wbr}

(ตำ{\wbr}ใบ้: พิจารณกรณี{\wbr}ที่{\wbr}เหลือ{\wbr}ขอบเขต{\wbr}ของ{\wbr}ดัชนี{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}ขนาด{\wbr}เล็ก ๆ)
\end{quiz}

\begin{quiz}{}
เรา{\wbr}จะ{\wbr}แก้{\wbr}ปัญหา{\wbr}ดังกล่าว{\wbr}ได้{\wbr}อย่างไร?
\end{quiz}

เรา{\wbr}จะ{\wbr}ปรับ{\wbr}ค่า{\wbr}อย่าง{\wbr}ระมัดระวัง{\wbr}ขึ้น นั่น{\wbr}คือ{\wbr}ใน{\wbr}กรณี (1) เรา{\wbr}จะ{\wbr}ให้ $s\leftarrow m+1$
และ{\wbr}ใน{\wbr}กรณี{\wbr}ที่ (2) เรา{\wbr}จะ{\wbr}ให้ $t\leftarrow m-1$
การ{\wbr}ปรับ{\wbr}ค่า{\wbr}ดังกล่าว{\wbr}มี{\wbr}ผล{\wbr}เกี่ยวข้อง{\wbr}กับ{\wbr}อีก{\wbr}กรณี{\wbr}หนึ่ง{\wbr}ซึ่ง{\wbr}ไม่{\wbr}เกิด{\wbr}ขึ้น{\wbr}ใน{\wbr}เกม{\wbr}ทาย{\wbr}เลขที่{\wbr}เรา{\wbr}ต้อง{\wbr}พิจารณา{\wbr}
นั่น{\wbr}คือ{\wbr}กรณี{\wbr}ที่{\wbr}ค้นหา{\wbr}ข้อมูล{\wbr}ไม่{\wbr}เจอ{\wbr}

\begin{quiz}{}
เรา{\wbr}จะ{\wbr}ทราบ{\wbr}ได้{\wbr}อย่างไร{\wbr}ว่า{\wbr}กุญแจ{\wbr}ที่{\wbr}เรา{\wbr}ค้นหา{\wbr}ไม่{\wbr}อยู่{\wbr}ใน{\wbr}อาร์เรย์

(คำ{\wbr}ใบ้: ดู{\wbr}จาก{\wbr}ขอบเขต{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้)
\end{quiz}

เรา{\wbr}นำ{\wbr}แนวทาง{\wbr}ดังกล่าว{\wbr}มา{\wbr}เขียน{\wbr}เป็น{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ได้{\wbr}ดัง{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม~\ref{algo:analysis-bin-search}

\begin{figure}
\begin{algt}
\label{algo:analysis-bin-search}
\noindent {\bf ค้นหา{\wbr}กุญแจ $k$ จาก{\wbr}อาร์เรย์ $keys$ ขนาด $n$ ที่{\wbr}ข้อมูล{\wbr}เรียงลำดับ{\wbr}จาก{\wbr}น้อย{\wbr}ไป{\wbr}มาก}\\
1.\settowidth{\algbackindent}{1.}\hspace*{-\algbackindent}\hspace*{0.2in} $s\leftarrow 0$, $t\leftarrow n-1$\\
2.\settowidth{\algbackindent}{2.}\hspace*{-\algbackindent}\hspace*{0.2in} WHILE $s\leq t$ DO\\
3.\settowidth{\algbackindent}{3.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in} $m\leftarrow \lfloor (s+t)/2\rfloor$\\
4.\settowidth{\algbackindent}{4.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in} IF $keys[m] = k$ THEN\\
5.\settowidth{\algbackindent}{5.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} RETURN $m$ and EXIT\\
6.\settowidth{\algbackindent}{6.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in} IF $keys[m] < k$ THEN\\
7.\settowidth{\algbackindent}{7.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} $s\leftarrow m+1$\\
8.\settowidth{\algbackindent}{8.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in} IF $keys[m] > k$ THEN\\
9.\settowidth{\algbackindent}{9.}\hspace*{-\algbackindent}\hspace*{0.2in}\hspace*{0.2in}\hspace*{0.2in} $t\leftarrow m-1$\\
10.\settowidth{\algbackindent}{10.}\hspace*{-\algbackindent}\hspace*{0.2in} RETURN $-1$ and EXIT   // not found
\end{algt}
\end{figure}

เรา{\wbr}จะ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ดังกล่าว โดย{\wbr}ทั่วไป{\wbr}แล้ว{\wbr}
ใน{\wbr}การ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ใด{\wbr}
เรา{\wbr}จำเป็น{\wbr}จะ{\wbr}ต้อง{\wbr}ให้{\wbr}เหตุผล{\wbr}ว่า{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}นั้น{\wbr}เมื่อ{\wbr}ทำงาน{\wbr}แล้ว{\wbr}ก่อ{\wbr}ให้{\wbr}เกิด ``ความ{\wbr}ก้าวหน้า''
และ{\wbr}ใช้{\wbr}ความ{\wbr}ก้าวหน้า{\wbr}นั้น{\wbr}ใน{\wbr}การ{\wbr}ให้{\wbr}เหตุผล{\wbr}ต่อไป{\wbr}

เรา{\wbr}จะ{\wbr}ลอง{\wbr}ใช้{\wbr}เหตุผล{\wbr}เกี่ยวกับ{\wbr}ความ{\wbr}ก้าวหน้า{\wbr}ใน{\wbr}การ{\wbr}พิจารณา{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}การ{\wbr}ค้นหา{\wbr}แบบ{\wbr}ตาม{\wbr}ลำดับ{\wbr}
ใน{\wbr}วิธี{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}พจนานุกรม{\wbr}ด้วย{\wbr}อาร์เรย์{\wbr}แบบ{\wbr}แรก{\wbr}เพื่อ{\wbr}แสดง{\wbr}เป็น{\wbr}ตัวอย่าง{\wbr}

\begin{quiz}{ความ{\wbr}ก้าวหน้า{\wbr}ของ{\wbr}การ{\wbr}ค้นหา{\wbr}แบบ{\wbr}ตาม{\wbr}ลำดับ}
การ{\wbr}ค้นหา{\wbr}ตาม{\wbr}โปรแกรม{\wbr}ที่~\ref{code:analysis-dict-find} เป็น{\wbr}การ{\wbr}ค้นหา{\wbr}แบบ{\wbr}ตาม{\wbr}ลำดับ{\wbr}
ให้{\wbr}พิจารณา{\wbr}โปรแกรม{\wbr}ดังกล่าว และ{\wbr}ลอง{\wbr}หาว่า{\wbr}เรา{\wbr}สามารถ{\wbr}ใช้{\wbr}สถานะ{\wbr}อะไร{\wbr}ของ{\wbr}โปรแกรม (เช่น{\wbr}
ตัวแปร{\wbr}หรือ{\wbr}ค่า{\wbr}อื่น ๆ) เพื่อ{\wbr}บอก{\wbr}ว่า{\wbr}โปรแกรม{\wbr}มี{\wbr}ความ{\wbr}ก้าวหน้า{\wbr}ใน{\wbr}การ{\wbr}ทำงาน{\wbr}ได้{\wbr}บ้าง?
\end{quiz}

ใน{\wbr}การ{\wbr}ค้นหา{\wbr}ข้อมูล{\wbr}จาก{\wbr}อาร์เรย์{\wbr}ที่{\wbr}เก็บ{\wbr}กุญแจ{\wbr}ใด ๆ ก็ตาม ถ้า{\wbr}เรา{\wbr}ไล่{\wbr}พิจารณา{\wbr}ตาม{\wbr}ลำดับ{\wbr}จาก{\wbr}กุญแจ{\wbr}แรก{\wbr}
ไป{\wbr}จนถึง{\wbr}กุญแจ{\wbr}สุดท้าย{\wbr}ใน{\wbr}อาร์เรย์ ทุก ๆ ครั้ง{\wbr}ที่{\wbr}เรา{\wbr}พิจารณา{\wbr}กุญแจ{\wbr}หนึ่ง มี{\wbr}ผลลัพธ์{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}สอง{\wbr}แบบ{\wbr}
คือ เรา{\wbr}พบ{\wbr}กุญแจ{\wbr}ที่{\wbr}เรา{\wbr}ต้องการ{\wbr}หา หรือ{\wbr}ถ้า{\wbr}เรา{\wbr}ไม่{\wbr}พบ เรา{\wbr}จะ{\wbr}สามารถ ``ทิ้ง''
กุญแจ{\wbr}ที่{\wbr}เรา{\wbr}พิจารณา{\wbr}อยู่{\wbr}ไป{\wbr}ได้ (เนื่องจาก{\wbr}ไม่{\wbr}ใช่{\wbr}เป้าหมาย{\wbr}ที่{\wbr}เรา{\wbr}ต้องการ{\wbr}แล้ว) ใน{\wbr}กรณี{\wbr}นี้{\wbr}
ความ{\wbr}ก้าวหน้า{\wbr}ของ{\wbr}งาน{\wbr}ที่{\wbr}เรา{\wbr}ทำ{\wbr}ก็{\wbr}คือ จำนวน{\wbr}กุญแจ{\wbr}ที่{\wbr}เรา{\wbr}สามารถ{\wbr}ทิ้ง{\wbr}ไป{\wbr}ได้ ดังนั้น{\wbr}ถ้า{\wbr}เรา{\wbr}มี{\wbr}กุญแจ{\wbr}ทั้งสิ้น{\wbr}
$n$ กุญแจ และ{\wbr}ใน{\wbr}แต่ละ{\wbr}รอบ{\wbr}ของ{\wbr}การ{\wbr}ทำงาน เรา{\wbr}ใช้เวลา $O(1)$
เพื่อ{\wbr}จะ{\wbr}ทิ้ง{\wbr}กุญแจ{\wbr}ที่{\wbr}ไม่{\wbr}ถูกต้อง{\wbr}ได้ 1 อัน ดังนั้น{\wbr}ใน{\wbr}กรณี{\wbr}ที่{\wbr}แย่{\wbr}ที่สุด ก็{\wbr}คือ{\wbr}เรา{\wbr}จะ{\wbr}ต้อง{\wbr}ใช้เวลา $O(n)$

\begin{quiz}{ความ{\wbr}ก้าวหน้า{\wbr}ของ{\wbr}การ{\wbr}ค้นหา{\wbr}ที่{\wbr}ดี{\wbr}ขึ้น}
ถ้า{\wbr}เรา{\wbr}ใช้{\wbr}จำนวน{\wbr}กุญแจ{\wbr}ที่{\wbr}เรา{\wbr}จะ{\wbr}ต้อง{\wbr}พิจารณา{\wbr}แทน{\wbr}ปริมาณ{\wbr}งาน{\wbr}ทั้งหมด (เริ่มต้น{\wbr}ที่ $n$ หน่วย)
ใน{\wbr}แต่ละ{\wbr}รอบ{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม~\ref{algo:analysis-bin-search}
เรา{\wbr}จัดการ{\wbr}กับ{\wbr}งาน{\wbr}ดังกล่าว{\wbr}ไป{\wbr}ได้{\wbr}เท่าใด?

(คำ{\wbr}ใบ้: พิจาณารอบ{\wbr}ที่ 1, รอบ{\wbr}ที่ 2, แล้ว{\wbr}ค่อย{\wbr}พยายาม{\wbr}พิจารณา{\wbr}ใน{\wbr}รอบ{\wbr}ใด ๆ)
\end{quiz}

เรา{\wbr}สามารถ{\wbr}พิสูจน์{\wbr}ได้{\wbr}ว่า ใน{\wbr}ทุก ๆ รอบ{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}วน{\wbr}รอบ WHILE
จำนวน{\wbr}ดัชนี{\wbr}ของ{\wbr}กุญแจ{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}จะ{\wbr}มี{\wbr}ค่า{\wbr}ลด{\wbr}ลง{\wbr}อย่าง{\wbr}น้อย 2 เท่า{\wbr}
สังเกต{\wbr}ว่า{\wbr}เมื่อ{\wbr}เริ่มต้น{\wbr}เข้า{\wbr}ทำงาน{\wbr}ใน{\wbr}วน{\wbr}รอบ จำนวน{\wbr}กุญแจ{\wbr}ที่{\wbr}เป็น{\wbr}ไป{\wbr}ได้{\wbr}คือ $t - s + 1$
ถ้า{\wbr}เรา{\wbr}พบ{\wbr}คำตอบ อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}จะ{\wbr}จบ{\wbr}การ{\wbr}ทำงาน ถ้า{\wbr}ไม่{\wbr}เช่นนั้น มี{\wbr}สอง{\wbr}กรณี{\wbr}ที่{\wbr}เรา{\wbr}ต้อง{\wbr}พิจารณา{\wbr}
\begin{itemize}
\item ถ้า{\wbr}เรา{\wbr}ผ่าน{\wbr}เงื่อนไข{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 6 เข้า{\wbr}ไป{\wbr}ทำงาน{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 7 เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า{\wbr}
  $s\leftarrow m+1$ ดังนั้น{\wbr}จำนวน{\wbr}กุญแจ{\wbr}ใหม่{\wbr}คือ{\wbr}
  \begin{eqnarray*}
    t - (\lfloor (s+t)/2\rfloor + 1) + 1 
    &=& \lceil t - s/2 - t/2 \rceil\\
    &=& \lceil t/2 - s/2\rceil\\
    &\leq& t/2 - s/2 + 1/2 = (t-s+1)/2
  \end{eqnarray*}
\item ใน{\wbr}อีก{\wbr}กรณี{\wbr}หนึ่ง ถ้า{\wbr}เงื่อนไข{\wbr}บรรทัด{\wbr}ที่ 8 เป็นจริง แล้ว{\wbr}เรา{\wbr}เข้า{\wbr}ไป{\wbr}ทำงาน{\wbr}ใน{\wbr}บรรทัด{\wbr}ที่ 9
  ใน{\wbr}ส่วน{\wbr}นี้{\wbr}สามารถ{\wbr}พิสูจน์{\wbr}ได้{\wbr}ด้วย{\wbr}วิธี{\wbr}ที่{\wbr}คล้าย{\wbr}กัน{\wbr}
\end{itemize}

\begin{quiz}{ก้าวหน้า{\wbr}อย่าง{\wbr}น้อย...}
จง{\wbr}พิสูจน์{\wbr}ว่า ถ้า{\wbr}โปรแกรม{\wbr}ทำงาน{\wbr}เข้า{\wbr}ไป{\wbr}ใน{\wbr}คำสั่ง{\wbr}บรรทัด{\wbr}ที่ 9
จำนวน{\wbr}กุญแจ{\wbr}ที่{\wbr}จะ{\wbr}ต้อง{\wbr}พิจารณา{\wbr}จะ{\wbr}มี{\wbr}ค่า{\wbr}ลด{\wbr}ลง{\wbr}อย่าง{\wbr}น้อย 2 เท่า{\wbr}
\end{quiz}

เรา{\wbr}จะ{\wbr}วิเคราะห์{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน \ สังเกต{\wbr}ว่า{\wbr}ใน{\wbr}แต่ละ{\wbr}รอบ{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}วน{\wbr}รอบ WHILE
ใช้เวลา $O(1)$ \ \ เมื่อ{\wbr}ทำงาน{\wbr}เสร็จ{\wbr}ใน{\wbr}แต่ละ{\wbr}รอบ ถ้า{\wbr}โปรแกรม{\wbr}ไม่{\wbr}หยุด{\wbr}การ{\wbr}ทำงาน{\wbr}
จาก{\wbr}การ{\wbr}พิจารณา{\wbr}ข้างต้น เรา{\wbr}จะ{\wbr}พบ{\wbr}ว่า{\wbr}จำนวน{\wbr}กุญแจ{\wbr}ที่{\wbr}เหลือ{\wbr}ต้อง{\wbr}พิจารณา{\wbr}จะ{\wbr}ลด{\wbr}ลง{\wbr}อย่าง{\wbr}น้อย 2 เท่า{\wbr}
นั่น{\wbr}คือ{\wbr}เรา{\wbr}ทราบ{\wbr}ว่า{\wbr}หลัง{\wbr}การ{\wbr}ทำงาน{\wbr}รอบ{\wbr}แรก จะ{\wbr}เหลือ{\wbr}กุญแจ{\wbr}ไม่{\wbr}เกิน $n/2$
หลัง{\wbr}รอบ{\wbr}ที่{\wbr}สอง{\wbr}จะ{\wbr}เหลือ{\wbr}กุญแจ{\wbr}ไม่{\wbr}เกิน $n/2/2 = n/4$ และ{\wbr}หลัง{\wbr}รอบ{\wbr}ที่ $x$ จะ{\wbr}เหลือ{\wbr}กุญแจ{\wbr}ไม่{\wbr}เกิน{\wbr}
$n/2^x$ อัน{\wbr}

เรา{\wbr}ทราบ{\wbr}ว่า{\wbr}โปรแกรม{\wbr}จะ{\wbr}หยุด{\wbr}ทำงาน{\wbr}แน่นอน{\wbr}ถ้า{\wbr}ไม่{\wbr}มี{\wbr}กุญแจ{\wbr}ให้{\wbr}พิจารณา{\wbr}อีก{\wbr}
เนื่องจาก{\wbr}เมื่อ{\wbr}เริ่มต้น{\wbr}เรา{\wbr}มี{\wbr}กุญแจ{\wbr}ต้อง{\wbr}พิจารณา{\wbr}จำนวน $n$ กุญแจ ถ้า{\wbr}ให้ $x$
แทน{\wbr}จำนวน{\wbr}รอบ{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}ที่{\wbr}ไม่{\wbr}ใช่{\wbr}รอบ{\wbr}สุดท้าย เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า $\frac{n}{2^x} >
1$ เมื่อ{\wbr}แก้{\wbr}สมการ{\wbr}เรา{\wbr}จะ{\wbr}ได้{\wbr}ว่า $x < \log_2 n$ นั่น{\wbr}คือ{\wbr}โปรแกรม{\wbr}จะ{\wbr}ทำงาน{\wbr}ไม่{\wbr}เกิน $\log n$
รอบ\footnote{ใน{\wbr}หนังสือ{\wbr}เล่ม{\wbr}นี้ ถ้า{\wbr}ไม่{\wbr}ระบุ{\wbr}ฐาน เรา{\wbr}จะ{\wbr}ถือ{\wbr}ว่า{\wbr}เรา{\wbr}ใช้{\wbr}ลอการิทึม{\wbr}ฐาน 2 เสมอ}

ดังนั้น{\wbr}เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}การ{\wbr}ค้นหา{\wbr}ดังกล่าว{\wbr}คือ $O(\log n)$
การ{\wbr}ค้นหา{\wbr}โดย{\wbr}การ{\wbr}เลือก{\wbr}ค่า{\wbr}ที่{\wbr}แบ่ง{\wbr}ข้อมูล{\wbr}ออก{\wbr}เป็น{\wbr}สอง{\wbr}ส่วน{\wbr}แบบ{\wbr}นี้{\wbr}เป็น{\wbr}เทคนิค{\wbr}สำคัญ{\wbr}ใน{\wbr}การ{\wbr}ออกแบบ{\wbr}อัล{\wbr}กอ{\wbr}ริ{\wbr}ทึม{\wbr}
การ{\wbr}ค้นหา{\wbr}แบบ{\wbr}นี้{\wbr}มี{\wbr}ชื่อ{\wbr}ว่า {\em การ{\wbr}ค้นหา{\wbr}แบบ{\wbr}ทวิภาค} ({\em binary searching})

เรา{\wbr}สรุป{\wbr}เวลา{\wbr}ของ{\wbr}กระบวนการ{\wbr}ต่าง{\wbr}เมื่อ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}พจนานุกรม{\wbr}ด้วย{\wbr}อาร์เรย์{\wbr}ทั้ง{\wbr}สอง{\wbr}แบบ{\wbr}เป็นตาราง{\wbr}ใน{\wbr}รูป~\ref{fig:array-running-time-dict-by-array}

\begin{figure}
\begin{center}
\begin{tabular}{|l|c|c|}\hline
กระบวนการ & เก็บ{\wbr}ตาม{\wbr}ลำดับ{\wbr}การ{\wbr}ใส่{\wbr}ข้อมูล & เก็บ{\wbr}เรียง{\wbr}ตาม{\wbr}กุญแจ \\
\hline
IsEmpty & $O(1)$ & $O(1)$ \\
Insert & $O(1)$ & $O(n)$ \\
Find & $O(n)$ & $O(n)$ หรือ $O(\log n)$ ถ้า{\wbr}ค้นหา{\wbr}แบบ{\wbr}ทวิภาค \\
Delete & $O(n)$ & $O(n)$ \\
\hline
\end{tabular}
\end{center}
\caption{เวลา{\wbr}การ{\wbr}ทำงาน{\wbr}ของ{\wbr}กระบวนการ{\wbr}ต่าง ๆ ของ{\wbr}พจนานุกรม ที่{\wbr}พัฒนา{\wbr}ด้วย{\wbr}อาร์เรย์{\wbr}ทั้ง{\wbr}สอง{\wbr}แบบ โดย{\wbr}ที่ $n$ แทน{\wbr}จำนวน{\wbr}ข้อมูล{\wbr}ใน{\wbr}พจนานุกรม}
\label{fig:array-running-time-dict-by-array}
\end{figure}

\begin{quiz}{}
จง{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}ฟังก์ชัน {\ct dict\_find} 
ที่{\wbr}มี{\wbr}ประสิทธิภาพ{\wbr}มาก{\wbr}ขึ้น{\wbr}เมื่อ{\wbr}กุญแจ{\wbr}ใน{\wbr}อาร์เรย์ {\ct keys} เรียง{\wbr}ตาม{\wbr}ลำดับ{\wbr}จาก{\wbr}น้อย{\wbr}ไป{\wbr}หา{\wbr}มาก{\wbr}
\end{quiz}

\subsubsection{ความ{\wbr}แตกต่าง{\wbr}ระหว่าง $O(n)$ และ $O(\log n)$}

TODO: เขียน{\wbr}ส่วน{\wbr}นี้{\wbr}

\subsubsection{ควร{\wbr}จะ{\wbr}เลือก{\wbr}ใช้{\wbr}วิธีการ{\wbr}อิม{\wbr}พลี{\wbr}เมนท์{\wbr}แบบ{\wbr}ใด?}

TODO: เขียน{\wbr}ส่วน{\wbr}นี้{\wbr}
